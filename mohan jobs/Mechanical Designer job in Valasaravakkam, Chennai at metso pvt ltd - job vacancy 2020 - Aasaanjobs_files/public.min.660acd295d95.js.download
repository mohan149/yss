if(function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function r(a,b){return b.toUpperCase()}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m="1.11.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi;function s(a){var b=a.length,c=n.type(a);return"function"!==c&&!n.isWindow(a)&&(!(1!==a.nodeType||!b)||"array"===c||0===b||"number"==typeof b&&0<b&&b-1 in a)}n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(0<=c&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],g!==(c=e[d])&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(f=b?(b=!1,a&&n.isArray(a)?a:[]):a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return 0<=a-parseFloat(a)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(l.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e=0,f=a.length,g=s(a);if(c){if(g)for(;e<f&&!1!==b.apply(a[e],c);e++);else for(e in a)if(!1===b.apply(a[e],c))break}else if(g)for(;e<f&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:k&&!k.call("\ufeffÂ ")?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!=c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var e=[],f=0,g=a.length,h=!c;f<g;f++)!b(a[f],f)!=h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,i=[];if(s(a))for(;f<g;f++)null!=(d=b(a[f],f,c))&&i.push(d);else for(f in a)null!=(d=b(a[f],f,c))&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),(e=function(){return a.apply(b||this,c.concat(d.call(arguments)))}).guid=a.guid=a.guid||n.guid++,e):void 0},now:function(){return+new Date},support:l}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!=d||c?b:d<0?String.fromCharCode(65536+d):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),d=d||[],!a||"string"!=typeof a)return d;if(1!==(i=(b=b||l).nodeType)&&9!==i)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(9===i){if(!(g=b.getElementById(h))||!g.parentNode)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){for(m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;j--;)m[j]=q+pb(m[j]);u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];return function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||1<<31)-(~a.sourceIndex||1<<31);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function jb(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}for(b in c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(m=(l=e).documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"!==a)return f;for(;c=f[e++];)1===c.nodeType&&d.push(c);return d},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},z=b?function(a,b){if(a===b)return j=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d||(1&(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b)return j=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return ib(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)k.unshift(c);for(;h[d]===k[d];)d++;return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return 0<db(b,l,null,[a]).length},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},(d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&-1<e.indexOf(c):"$="===b?c&&e.slice(-c.length)===c:"~="===b?-1<(" "+e+" ").indexOf(c):"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!=g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&t){for(n=(j=(k=q[s]||(q[s]={}))[a]||[])[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(t&&((l[s]||(l[s]={}))[a]=[u,m]),l!==b)););return(m-=e)===d||m%d==0&&0<=m/d}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):1<e.length?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)a[d=I.call(a,f[g])]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return 0<db(a,b).length}}),contains:fb(function(a){return function(b){return-1<(b.textContent||b.innerText||e(b)).indexOf(a)}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do{if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[c<0?c+b:c]}),even:lb(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:lb(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:lb(function(a,b,c){for(var d=c<0?c+b:c;0<=--d;)a.push(d);return a}),gt:lb(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}}).pseudos.nth=d.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=jb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=kb(b);function nb(){}function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){for(g in c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length)),d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if((h=(i=b[s]||(b[s]={}))[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];if((i[d]=j)[2]=a(b,c,g))return!0}}}function rb(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)!(f=a[h])||c&&!c(f,d,e)||(g.push(f),j&&b.push(h));return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||function(a,b,c){for(var d=0,e=b.length;d<e;d++)db(a,b[d],c);return c}(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=sb(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&-1<(j=e?I.call(f,l):m[k])&&(f[j]=!(g[j]=l))}}else r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return-1<I.call(b,a)},i,!0),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k:l)(a,c,d)}];j<f;j++)if(c=d.relative[a[j].type])m=[qb(rb(m),c)];else{if((c=d.filter[a[j].type].apply(null,a[j].matches))[s]){for(e=++j;e<f&&!d.relative[a[e].type];e++);return tb(1<j&&rb(m),1<j&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,j<e&&ub(a.slice(j,e)),e<f&&ub(a=a.slice(e)),e<f&&pb(a))}m.push(c)}return rb(m)}function vb(a,b){var c=0<b.length,e=0<a.length,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){for(n=0;o=a[n++];)if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){for(n=0;o=b[n++];)o(r,s,g,i);if(f){if(0<p)for(;q--;)r[q]||s[q]||(s[q]=E.call(j));s=sb(s)}G.apply(j,s),k&&!f&&0<s.length&&1<p+b.length&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(2<(i=m[0]=m[0].slice(0)).length&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(!(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0]))return e;a=a.slice(i.shift().value.length)}for(h=V.needsContext.test(a)?0:i.length;h--&&(j=i[h],!d.relative[k=j.type]);)if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),!(a=f.length&&pb(i)))return G.apply(e,f),e;break}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return nb.prototype=d.filters=d.pseudos,d.setFilters=new nb,g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){for(c=(b=b||ob(a)).length;c--;)(f=ub(b[c]))[s]?d.push(f):e.push(f);f=y(a,vb(e,d))}return f},c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return 0<=n.inArray(a,b)!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;b<e;b++)if(n.contains(d[b],this))return!0}));for(b=0;b<e;b++)n.find(a,d[b],c);return(c=this.pushStack(1<e?n.unique(c):c)).selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"!=typeof a)return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this));if(!(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:A.exec(a))||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if((d=z.getElementById(c[2]))&&d.parentNode){if(d.id!==c[2])return y.find(a);this.length=1,this[0]=d}return this.context=z,this.selector=a,this}).prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function E(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}n.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?-1<g.index(c):1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?n.unique(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return E(a,"nextSibling")},prev:function(a){return E(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),1<this.length&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var I,F=/\S+/g,G={};function J(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",K,!1),a.removeEventListener("load",K,!1)):(z.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){!z.addEventListener&&"load"!==event.type&&"complete"!==z.readyState||(J(),n.ready())}n.Callbacks=function(a){a="string"==typeof a?G[a]||function(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&f<e;f++)if(!1===h[f].apply(l[0],l[1])&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){for(var d;-1<(d=n.inArray(c,h,d));)h.splice(d,1),b&&(d<=e&&e--,d<=f&&f--)}),this},has:function(a){return a?-1<n.inArray(a,h):!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=[a,(c=c||[]).slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){function h(a,b,c){return function(e){b[a]=this,c[a]=1<arguments.length?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}}var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred();if(1<e)for(i=new Array(e),j=new Array(e),k=new Array(e);b<e;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}}),n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(!0===a?!--n.readyWait:!n.isReady){if(!z.body)return setTimeout(n.ready);(n.isReady=!0)!==a&&0<--n.readyWait||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger("ready").off("ready"))}}}),n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===z.readyState)setTimeout(n.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",K,!1),a.addEventListener("load",K,!1);else{z.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!n.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}return I.promise(b)};var M,L="undefined";for(M in n(l))break;l.ownLast="0"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName("body")[0];c&&((a=z.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=z.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=z.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||!0!==b&&a.getAttribute("classid")===b)};var N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if("string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c)}catch(e){}n.data(a,b,c)}else c=void 0}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return;return 1}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return j[k=k||(i?a[h]=c.pop()||n.guid++:h)]||(j[k]=i?{}:{toJSON:n.noop}),"object"!=typeof b&&"function"!=typeof b||(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?null==(f=g[b])&&(f=g[n.camelCase(b)]):f=g,f}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){e=(b=n.isArray(b)?b.concat(n.map(b,n.camelCase)):b in d||(b=n.camelCase(b))in d?[b]:b.split(" ")).length;for(;e--;)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function V(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return!!(a=a.nodeType?n.cache[a[n.expando]]:a[n.expando])&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0!==a)return"object"==typeof a?this.each(function(){n.data(this,a)}):1<arguments.length?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0;if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){for(c=g.length;c--;)0===(d=g[c].name).indexOf("data-")&&P(f,d=n.camelCase(d.slice(5)),e[d]);n._data(f,"parsedAttrs",!0)}return e},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b);"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,function(){n.dequeue(a,b)},f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){function h(){--d||e.resolveWith(f,[f])}var c,d=1,e=n.Deferred(),f=this,g=this.length;for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=n._data(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c))for(h in e=!0,c)n.access(a,b,h,c[h],!0,f,g);else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(b=g?(b.call(a,d),null):(j=b,function(a,b,c){return j.call(n(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement("div"),c=z.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName("tbody").length,l.htmlSerialize=!!b.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){l.noCloneEvent=!1}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),l[b+"Bubbles"]=!1===d.attributes[c].expando);d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\.(.+)|)$/;function bb(){return!0}function cb(){return!1}function db(){try{return z.activeElement}catch(a){}}function eb(a){var b=fb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){for(c.handler&&(c=(i=c).handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||((k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)}).elem=a),h=(b=(b||"").match(F)||[""]).length;h--;)o=q=(f=ab.exec(b[h])||[])[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||((m=g[o]=[]).delegateCount=0,j.setup&&!1!==j.setup.call(a,d,p,k)||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){for(j=(b=(b||"").match(F)||[""]).length;j--;)if(o=q=(h=ab.exec(b[j])||[])[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},m=k[o=(d?l.delegateType:l.bindType)||o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,p,r.handle)||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(0<=p.indexOf(".")&&(p=(q=p.split(".")).shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,(b=b[n.expando]?b:new n.Event(p,"object"==typeof b&&b)).isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||!1!==k.trigger.apply(d,c))){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}for(m=0;(h=o[m++])&&!b.isPropagationStopped();)b.type=1<m?i:k.bindType||p,(f=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"))&&f.apply(h,c),(f=g&&h[g])&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),!1===b.result&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||!1===k._default.apply(o.pop(),c))&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){(l=d[g])&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if((i[0]=a).delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(e.namespace)||(a.handleObj=e,a.data=e.data,void 0!==(c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i))&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(e=[],f=0;f<h;f++)void 0===e[c=(d=b[f]).selector+" "]&&(e[c]=d.needsContext?0<=n(c,this).index(i):n.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)a[c=d[b]]=f[c];return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=(d=a.target.ownerDocument||z).documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,e=a.relatedTarget,f=a.handleObj;return e&&(e===this||n.contains(this,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return!n.nodeName(this,"form")&&void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?b.form:void 0;c&&!n._data(c,"submitBubbles")&&(n.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),n._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return!n.nodeName(this,"form")&&void n.event.remove(this,"._submit")}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate("change",this,a,!0)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;Y.test(b.nodeName)&&!n._data(b,"changeBubbles")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),n._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){n.event.simulate(b,a.target,n.event.fix(a),!0)}n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){for(f in"string"!=typeof b&&(c=c||b,b=void 0),a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=cb;else if(!d)return this;return 1===e&&(g=d,(d=function(a){return n().off(a),g.apply(this,arguments)}).guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"!=typeof a)return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)});for(e in a)this.off(e,b,a[e]);return this},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var fb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gb=/ jQuery\d+="(?:null|\d+)"/g,hb=new RegExp("<(?:"+fb+")[\\s/>]","i"),ib=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,qb=/^true\/(.*)/,rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ub=eb(z).appendChild(z.createElement("div"));function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function yb(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function zb(a){var b=qb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h)for(c in delete g.handle,g.events={},h)for(d=0,e=h[c].length;d<e;d++)n.event.add(b,c,h[c][d]);g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){for(d in(e=n._data(b)).events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td,n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g)d[g]&&Cb(e,d[g]);if(b)if(c)for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++)Bb(e,d[g]);else Bb(a,f);return 0<(d=vb(f,"script")).length&&Ab(d,!i&&vb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;q<m;q++)if((f=a[q])||0===f)if("object"===n.type(f))n.merge(p,f.nodeType?[f]:f);else if(mb.test(f)){for(h=h||o.appendChild(b.createElement("div")),i=(kb.exec(f)||["",""])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody)for(e=(f="table"!==i||lb.test(f)?"<table>"!==k[1]||lb.test(f)?0:h:h.firstChild)&&f.childNodes.length;e--;)n.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(n.merge(p,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));for(h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,"input"),wb),q=0;f=p[q++];)if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),"script"),g&&Ab(h),c))for(e=0;f=h[e++];)pb.test(f.type||"")&&c.push(f);return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++)if((b||n.acceptData(d))&&(g=(f=d[i])&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||xb(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&n.cleanData(vb(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(gb,""):void 0;if(!("string"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(jb,"<$1></$2>");try{for(;c<d;c++)1===(b=this[c]||{}).nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||1<k&&"string"==typeof p&&!l.checkClone&&ob.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(c=(i=n.buildFragment(a,this[0].ownerDocument,!1,this)).firstChild,1===i.childNodes.length&&(i=c),c)){for(f=(g=n.map(vb(i,"script"),yb)).length;j<k;j++)d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;j<f;j++)d=g[j],pb.test(d.type||"")&&!n._data(d,"globalEval")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||"").replace(rb,"")));i=c=null}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;d<=h;d++)c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Db,Eb={};function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],"display");return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||("none"!==(c=Fb(a,b))&&c||((b=((Db=(Db||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement))[0].contentWindow||Db[0].contentDocument).document).write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}!function(){var a,b,c=z.createElement("div");c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(a=c.getElementsByTagName("a")[0]).style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e;if(null==b){if(!(a=z.getElementsByTagName("body")[0]))return;c=z.createElement("div"),e=z.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0;width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Jb,Kb,Hb=/^margin/,Ib=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Lb=/^(top|right|bottom|left)$/;function Mb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Kb=function(a,b,c){var d,e,f,g,h=a.style;return g=(c=c||Jb(a))?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return null==(g=(c=c||Jb(a))?c[b]:void 0)&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,(f=(e=a.runtimeStyle)&&e.left)&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){var b,c,d,e,f,g,h=z.createElement("div"),i="border:0;width:0;height:0;position:absolute;top:0;left:-9999px";function k(){var b,c,h=z.getElementsByTagName("body")[0];h&&(b=z.createElement("div"),c=z.createElement("div"),b.style.cssText=i,h.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",n.swap(h,null!=h.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),g=!(f=!(e=!0)),a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(c,null)||{}).top,e="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),h.removeChild(b),c=h=null)}h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(b=h.getElementsByTagName("a")[0]).style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,b=h=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c)return c;var a,b,d,e=z.createElement("div"),f=z.getElementsByTagName("body")[0];return f?(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(a=z.createElement("div")).style.cssText=i,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(b=e.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c):void 0},boxSizing:function(){return null==d&&k(),d},boxSizingReliable:function(){return null==e&&k(),e},pixelPosition:function(){return null==f&&k(),f},reliableMarginRight:function(){var b,c,d,e;if(null==g&&a.getComputedStyle){if(!(b=z.getElementsByTagName("body")[0]))return;c=z.createElement("div"),d=z.createElement("div"),c.style.cssText=i,b.appendChild(c).appendChild(d),(e=d.appendChild(z.createElement("div"))).style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0",e.style.marginRight=e.style.width="0",d.style.width="1px",g=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return g}})}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];for(f in e=c.apply(a,d||[]),b)a.style[f]=g[f];return e};var Nb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp("^("+T+")(.*)$","i"),Rb=new RegExp("^([+-])=("+T+")","i"),Sb={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:0,fontWeight:400},Ub=["Webkit","O","Moz","ms"];function Vb(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;e--;)if((b=Ub[e]+c)in a)return b;return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)(d=a[g]).style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=n._data(d,"olddisplay",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;g<h;g++)(d=a[g]).style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Yb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Zb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(((e=Kb(a,b,f))<0||null==e)&&(e=a.style[b]),Ib.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?"border":"content"),d,f)+"px"}function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if("string"==(f=typeof c)&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c==c&&("number"!==f||n.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),(g=n.cssHooks[b]||n.cssHooks[h])&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),"normal"===f&&b in Tb&&(f=Tb[b]),""===c||c?(e=parseFloat(f),!0===c||n.isNumeric(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,"display"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);return Xb(0,c,d?Yb(a,b,d,l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";((c.zoom=1)<=b||""===b)&&""===n.trim(f.replace(Nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+" "+e)}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},Kb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;g<e;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,1<arguments.length)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}}),((n.Tween=$b).prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=$b.propHooks[this.prop];return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}}).init.prototype=$b.prototype,($b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""))&&"auto"!==b?b:0:a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}}).scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[function(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,"fxshow");for(d in c.queue||(null==(h=n._queueHooks(a,"fx")).unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k=Gb(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==k?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]})),b)if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}if(!n.isEmptyObject(o))for(d in r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;for(b in n._removeData(a,"fxshow"),o)n.style(a,b,o[b])}),o)g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f)for(f=f||g[3],e=e||[],g=+d||1;g/=h=h||".5",n.style(c.elem,a,g+f),h!==(h=c.cur()/d)&&1!==h&&--i;);return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)d["margin"+(c=U[e])]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),f=1-(c/j.duration||0),g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(function(a,b){var c,d,e,f,g;for(c in a)if(e=b[d=n.camelCase(c)],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=n.cssHooks[d])&&"expand"in g)for(c in f=g.expand(f),delete a[d],f)c in a||(a[c]=f[c],b[c]=e);else b[d]=e}(k,j.opts.specialEasing);f<g;f++)if(d=ec[f].call(j,a,k,j.opts))return d;return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(lc,{tweener:function(a,b){for(var c,d=0,e=(a=n.isFunction(a)?(b=a,["*"]):a.split(" ")).length;d<e;d++)c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){var b=lc(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)}var e=n.isEmptyObject(a),f=n.speed(b,c,d);return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){function d(a){var b=a.stop;delete a.stop,b(c)}return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&dc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)}}),n.each({slideDown:hc("show"),slideUp:hc("hide"),slideToggle:hc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++)(a=b[c])()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac=ac||setInterval(n.fx.tick,n.fx.interval)},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx&&n.fx.speeds[a]||a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],d=(c=z.createElement("select")).appendChild(z.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement("form").enctype,c.disabled=!0,l.optDisabled=!d.disabled,(b=z.createElement("input")).setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value,a=b=c=d=e=null}();var mc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(null==(e=d?a.call(this,c,n(this).val()):a)?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),(b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:"string"==typeof(c=e.value)?c.replace(mc,""):null==c?"":c:void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(!(!(c=d[i]).selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)if(d=e[g],0<=n.inArray(n.valHooks.option.get(d),f))try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=0<=n.inArray(n(a).val(),b):void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:null==(e=n.find.attr(a,b))?void 0:e:null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(rc?c:d)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return!1===b?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e}:function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,""!==b&&b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,1<arguments.length)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{for:"htmlFor",class:"className"},prop:function(a,b,c){var d,e,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return 1===g&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1}}}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var vc=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];h<i;h++)if(d=1===(c=this[h]).nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];h<i;h++)if(d=1===(c=this[h]).nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):"")){for(f=0;e=b[f++];)for(;0<=d.indexOf(" "+e+" ");)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"==c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"==c)for(var b,d=0,e=n(this),f=a.match(F)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==L&&"boolean"!=c||(this.className&&n._data(this,"__className__",this.className),this.className=this.className||!1===a?"":n._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&0<=(" "+this[c].className+" ").replace(vc," ").indexOf(b))return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var wc=n.now(),xc=/\?/,yc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{a.DOMParser?c=(new DOMParser).parseFromString(b,"text/xml"):((c=new ActiveXObject("Microsoft.XMLDOM")).async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fc=/^(?:GET|HEAD)$/,Gc=/^\/\//,Hc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ic={},Jc={},Kc="*/".concat("*");try{Ac=location.href}catch(Lc){(Ac=z.createElement("a")).href="",Ac=Ac.href}function Mc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nc(a,b,c,d){var e={},f=a===Jc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c=c||{})[d]=b[d]);return c&&n.extend(!0,a,c),a}zc=Hc.exec(Ac.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(zc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j)for(j={};b=Dc.exec(f);)j[b[1].toLowerCase()]=b[2];b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(t<2)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+"").replace(Bc,"").replace(Gc,zc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(F)||[""],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(zc[3]||("http:"===zc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t)return v;for(d in(h=k.global)&&0==n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?"&":"?")+k.data,delete k.data),!1===k.cache&&(k.url=Cc.test(e)?e.replace(Cc,"$1_="+wc++):e+(xc.test(e)?"&":"?")+"_="+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader("If-Modified-Since",n.lastModified[e]),n.etag[e]&&v.setRequestHeader("If-None-Match",n.etag[e])),(k.data&&k.hasContent&&!1!==k.contentType||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Kc+"; q=0.01":""):k.accepts["*"]),k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(!1===k.beforeSend.call(l,v,k)||2===t))return v.abort();for(d in u="abort",{success:1,error:1,complete:1})v[d](k[d]);if(i=Nc(Jc,k,b,v)){v.readyState=1,h&&m.trigger("ajaxSend",[v,k]),k.async&&0<k.timeout&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(t<2))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=0<a?4:0,j=200<=a&&a<300||304===a,c&&(u=function(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d=d||g}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}(k,v,c)),u=function(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if((h=e.split(" "))[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}(k,u,v,j),j?(k.ifModified&&((w=v.getResponseHeader("Last-Modified"))&&(n.lastModified[e]=w),(w=v.getResponseHeader("etag"))&&(n.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,j=!(s=u.error))):(s=x,!a&&x||(x="error",a<0&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\[\]$/,Tc=/\r?\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;function Wc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Wc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){function e(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)}var c,d=[];if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Wc(c,a[c],b,e);return d.join("&").replace(Rc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,"\r\n")}}):{name:b.name,value:c.replace(Tc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||function(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();function $c(){try{return new a.XMLHttpRequest}catch(b){}}a.ActiveXObject&&n(a).on("unload",function(){for(var a in Yc)Yc[a](void 0,!0)}),l.cors=!!Zc&&"withCredentials"in Zc,(Zc=l.ajax=!!Zc)&&n.ajaxTransport(function(a){var b;if(!a.crossDomain||l.cors)return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];for(e in a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||n("head")[0]||z.documentElement;return{send:function(d,e){(b=z.createElement("script")).async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){!c&&b.readyState&&!/loaded|complete/.test(b.readyState)||(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||n.expando+"_"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):!1!==b.jsonp&&(b.url+=(xc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&cd)return cd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return 0<=h&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),0<g.length&&n.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;function ed(a){return n.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),e=("absolute"===k||"fixed"===k)&&-1<n.inArray("auto",[f,i])?(g=(d=l.position()).top,d.left):(g=parseFloat(f)||0,parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;return f?(b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d):void 0},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dd;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||dd})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var fd=a.jQuery,gd=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=gd),b&&a.jQuery===n&&(a.jQuery=fd),n},typeof b===L&&(a.jQuery=a.$=n),n}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var b=jQuery.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||3<b[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(a){"use strict";a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;return a(this).one("bsTransitionEnd",function(){c=!0}),setTimeout(function(){c||a(d).trigger(a.support.transition.end)},b),this},a(function(){a.support.transition=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(a){"use strict";function d(b){a(b).on("click",c,this.close)}var c='[data-dismiss="alert"]';d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f=f||(f=e.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,"");var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})},a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b);if(("prev"==a&&0===c||"next"==a&&c==this.$items.length-1)&&!this.options.wrap)return b;var f=(c+("prev"==a?-1:1))%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(c<a?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"))&&b.transitioning)){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),h=f.data("bs.collapse")?"toggle":e.data();c.call(f,h)})}(jQuery),function(a){"use strict";function b(b){var c=b.attr("data-target"),d=(c=c||(c=b.attr("href"))&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""))&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(".dropdown-backdrop").remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function g(b){a(b).on("click.bs.dropdown",this.toggle)}var f='[data-toggle="dropdown"]';g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var i=e.find(".dropdown-menu li:not(.disabled):visible a");if(i.length){var j=i.index(c.target);38==c.which&&0<j&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),function(a){"use strict";function c(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)}c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return(b=a.extend({},this.getDefaults(),this.$element.data(),b)).delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;!a.attr("title")&&"string"==typeof a.attr("data-original-title")||a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){var c=(b=b||this.$element)[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var b=this.$element,c=this.options;return b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){for(;a+=~~(1e6*Math.random()),document.getElementById(a););return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&((c=a(b.currentTarget).data("bs."+this.type))||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})},a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),function(a){"use strict";function c(a,b){this.init("popover",a,b)}if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype)).constructor=c).prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})},a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")?[[f[c]().top+d,e]]:null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),d<=b)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}function c(b){this.element=a(b)}c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d=d||(d=b.attr("href"))&&d.replace(/.*(?=#[^\s]*$)/,""),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;function e(c){c.preventDefault(),b.call(a(this),"show")}a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top;return null!=c&&e<=c?"top":null!=d&&a-d<=i+(h?g:b)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(){function n(n){return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=0<n?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),function(t,r,e,u,i,o){for(;0<=i&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=0<n?0:u-1;0<=i&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)0<n?o=0<=i?i:Math.max(i+a,o):a=0<=i?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return e[i=r(e,u)]===u?i:-1;if(u!=u)return 0<=(i=t(l.call(e,o,a),m.isNaN))?i+o:-1;for(i=0<n?o:a-1;0<=i&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)(i=I[r])in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}function d(){}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};function _(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}}function j(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t}function w(n){return function(t){return null==t?void 0:t[n]}}m.iteratee=function(n,t){return x(n,t,1/0)};var A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&0<=t&&t<=A};function F(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}}m.each=m.forEach=function(n,t,r){var e,u;if(t=b(t,r),k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return void 0!==(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r))&&-1!==e?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),"number"==typeof r&&!e||(r=0),0<=m.indexOf(n,t,r)},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n)for(var a=0,c=(n=k(n)?n:m.values(n)).length;a<c;a++)e=n[a],i<e&&(i=e);else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o<u||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n)for(var a=0,c=(n=k(n)?n:m.values(n)).length;a<c;a++)(e=n[a])<i&&(i=e);else t=x(t,r),m.each(n,function(n,r,e){((u=t(n,r,e))<o||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)(t=m.random(0,i))!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(e<r||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")},m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};function E(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i}m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){for(var u=(r=x(r,e,1))(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u},m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)n[r=arguments[t]]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;function c(){a=!1===r.leading?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)}return r=r||{},function(){var f=m.now();a||!1!==r.leading||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||t<l?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||!1===r.trailing||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&0<=f?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e=e||setTimeout(c,t),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return 0<--n&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)o[e=u[a]]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(t(n[e=u[i]],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}e=e||[];for(var c=(r=r||[]).length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if((c=n.length)!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};function R(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}}m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"==t||"object"==t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B);m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;function L(n){return"\\"+z[n]}m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g;function P(n,t){return n._chain?m(t).chain():t}m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}function c(n){return o.call(this,n,m)}var f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t},m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}.call(this),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Uc.apply(null,arguments)}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Da(a,b,c,d,!0).utc()}function j(a){return null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),0<Wc.length)for(c in Wc)m(e=b[d=Wc[c]])||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),!1===Xc&&(Xc=!0,a.updateOffset(this),Xc=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return a<0?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!=b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(){}function u(a){return a?a.toLowerCase().replace("_","-"):a}function w(a){var b=null;if(!Yc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Vc._abbr,require("./locale/"+a),x(b)}catch(c){}return Yc[a]}function x(a,b){var c;return a&&(c=m(b)?z(a):y(a,b))&&(Vc=c),Vc._abbr}function y(a,b){return null!==b?(b.abbr=a,Yc[a]=Yc[a]||new t,Yc[a].set(b),x(a),Yc[a]):(delete Yc[a],null)}function z(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Vc;if(!c(a)){if(b=w(a))return b;a=[a]}return function(a){for(var b,c,d,e,f=0;f<a.length;){for(b=(e=u(a[f]).split("-")).length,c=(c=u(a[f+1]))?c.split("-"):null;0<b;){if(d=w(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}(a)}function A(a,b){var c=a.toLowerCase();Zc[c]=Zc[c+"s"]=Zc[b]=a}function B(a){return"string"==typeof a?Zc[a]||Zc[a.toLowerCase()]:void 0}function C(a){var b,c,d={};for(c in a)f(a,c)&&(b=B(c))&&(d[b]=a[c]);return d}function D(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function E(b,c){return function(d){return null!=d?(G(this,b,d),a.updateOffset(this,c),this):F(this,b)}}function F(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function G(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function H(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(D(this[a=B(a)]))return this[a](b);return this}function I(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function J(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(bd[a]=e),b&&(bd[b[0]]=function(){return I(e.apply(this,arguments),b[1],b[2])}),c&&(bd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function K(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function M(a,b){return a.isValid()?(b=N(b,a.localeData()),ad[b]=ad[b]||function(a){var b,c,d=a.match($c);for(b=0,c=d.length;b<c;b++)bd[d[b]]?d[b]=bd[d[b]]:d[b]=K(d[b]);return function(e){var f="";for(b=0;b<c;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}(b),ad[b](a)):a.localeData().invalidDate()}function N(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(_c.lastIndex=0;0<=d&&_c.test(a);)a=a.replace(_c,c),_c.lastIndex=0,--d;return a}function O(a,b,c){td[a]=D(b)?b:function(a,d){return a&&c?c:b}}function P(a,b){return f(td,a)?td[a](b._strict,b._locale):new RegExp(function(a){return R(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}(a))}function R(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function S(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)ud[a[c]]=d}function T(a,b){S(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function U(a,b,c){null!=b&&f(ud,a)&&ud[a](b,c._a,c,a)}function V(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function Z(a,b){var c;return a.isValid()&&("string"==typeof b&&"number"!=typeof(b=a.localeData().monthsParse(b))||(c=Math.min(a.date(),V(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c))),a}function $(b){return null!=b?(Z(this,b),a.updateOffset(this,!0),this):F(this,"Month")}function ca(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=h([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=R(d[b]),e[b]=R(e[b]),f[b]=R(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")$","i")}function da(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[wd]<0||11<c[wd]?wd:c[xd]<1||c[xd]>V(c[vd],c[wd])?xd:c[yd]<0||24<c[yd]||24===c[yd]&&(0!==c[zd]||0!==c[Ad]||0!==c[Bd])?yd:c[zd]<0||59<c[zd]?zd:c[Ad]<0||59<c[Ad]?Ad:c[Bd]<0||999<c[Bd]?Bd:-1,j(a)._overflowDayOfYear&&(b<vd||xd<b)&&(b=xd),j(a)._overflowWeeks&&-1===b&&(b=Cd),j(a)._overflowWeekday&&-1===b&&(b=Dd),j(a).overflow=b),a}function fa(a,b){var c=!0;return g(function(){return c&&(Array.prototype.slice.call(arguments).join(", "),(new Error).stack,c=!1),b.apply(this,arguments)},b)}function ha(a){var b,c,d,e,f,g,h=a._i,i=Kd.exec(h)||Ld.exec(h);if(i){for(j(a).iso=!0,b=0,c=Nd.length;b<c;b++)if(Nd[b][1].exec(i[1])){e=Nd[b][0],d=!1!==Nd[b][2];break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Od.length;b<c;b++)if(Od[b][1].exec(i[3])){f=(i[2]||" ")+Od[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Md.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),wa(a)}else a._isValid=!1}function ka(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function la(a){return ma(a)?366:365}function ma(a){return a%4==0&&a%100!=0||a%400==0}function oa(a,b,c){var d=7+b-c;return d-(7+ka(a,0,d).getUTCDay()-b)%7-1}function pa(a,b,c,d,e){var f,g,j=1+7*(b-1)+(7+c-d)%7+oa(a,d,e);return g=j<=0?la(f=a-1)+j:j>la(a)?(f=a+1,j-la(a)):(f=a,j),{year:f,dayOfYear:g}}function qa(a,b,c){var d,e,f=oa(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?d=g+ra(e=a.year()-1,b,c):g>ra(a.year(),b,c)?(d=g-ra(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ra(a,b,c){var d=oa(a,b,c),e=oa(a+1,b,c);return(la(a)-d+e)/7}function sa(a,b,c){return null!=a?a:null!=b?b:c}function ta(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ua(a){var b,c,d,e,f=[];if(!a._d){for(d=ta(a),a._w&&null==a._a[xd]&&null==a._a[wd]&&function(a){var b,c,d,e,f,g,h,i;null!=(b=a._w).GG||null!=b.W||null!=b.E?(f=1,g=4,c=sa(b.GG,a._a[vd],qa(Ea(),1,4).year),d=sa(b.W,1),((e=sa(b.E,1))<1||7<e)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=sa(b.gg,a._a[vd],qa(Ea(),f,g).year),d=sa(b.w,1),null!=b.d?((e=b.d)<0||6<e)&&(i=!0):null!=b.e?(e=b.e+f,(b.e<0||6<b.e)&&(i=!0)):e=f),d<1||d>ra(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=pa(c,d,e,f,g),a._a[vd]=h.year,a._dayOfYear=h.dayOfYear)}(a),a._dayOfYear&&(e=sa(a._a[vd],d[vd]),a._dayOfYear>la(e)&&(j(a)._overflowDayOfYear=!0),c=ka(e,0,a._dayOfYear),a._a[wd]=c.getUTCMonth(),a._a[xd]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[yd]&&0===a._a[zd]&&0===a._a[Ad]&&0===a._a[Bd]&&(a._nextDay=!0,a._a[yd]=0),a._d=(a._useUTC?ka:function(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&0<=a&&isFinite(h.getFullYear())&&h.setFullYear(a),h}).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[yd]=24)}}function wa(b){if(b._f!==a.ISO_8601){b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=N(b._f,b._locale).match($c)||[],c=0;c<e.length;c++)f=e[c],(d=(h.match(P(f,b))||[])[0])&&(0<(g=h.substr(0,h.indexOf(d))).length&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),bd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),U(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,0<h.length&&j(b).unusedInput.push(h),!0===j(b).bigHour&&b._a[yd]<=12&&0<b._a[yd]&&(j(b).bigHour=void 0),b._a[yd]=function(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):(null!=a.isPM&&((d=a.isPM(c))&&b<12&&(b+=12),d||12!==b||(b=0)),b)}(b._locale,b._a[yd],b._meridiem),ua(b),da(b)}else ha(b)}function Ba(a){var b=a._i,e=a._f;return a._locale=a._locale||z(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(da(b)):(c(e)?function(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,a._d=new Date(NaN);for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],wa(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||f<d)&&(d=f,c=b));g(a,c||b)}(a):e?wa(a):d(b)?a._d=b:Ca(a),k(a)||(a._d=null),a))}function Ca(b){var f=b._i;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date(+f):"string"==typeof f?function(b){var c=Pd.exec(b._i);null!==c?b._d=new Date(+c[1]):(ha(b),!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b)))}(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ua(b)):"object"==typeof f?function(a){if(!a._d){var b=C(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ua(a)}}(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Da(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,function(){var b=new o(da(Ba(f)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}()}function Ea(a,b,c,d){return Da(a,b,c,d,!1)}function Fa(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ea();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function Ia(a){var b=C(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=z(),this._bubble()}function Ja(a){return a instanceof Ia}function Ka(a,b){J(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+I(~~(a/60),2)+b+I(~~a%60,2)})}function La(a,b){var c=(b||"").match(a)||[],e=((c[c.length-1]||[])+"").match(Ud)||["-",0,0],f=60*e[1]+r(e[2]);return"+"===e[0]?f:-f}function Ma(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?+b:+Ea(b))-e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Ea(b).local()}function Na(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ya(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Za(a,b){var c,d,e,g=a,h=null;return Ja(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=Vd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:r(h[xd])*c,h:r(h[yd])*c,m:r(h[zd])*c,s:r(h[Ad])*c,ms:r(h[Bd])*c}):(h=Wd.exec(a))?(c="-"===h[1]?-1:1,g={y:$a(h[2],c),M:$a(h[3],c),d:$a(h[4],c),h:$a(h[5],c),m:$a(h[6],c),s:$a(h[7],c),w:$a(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=function(a,b){var c;return a.isValid()&&b.isValid()?(b=Ma(b,a),a.isBefore(b)?c=_a(a,b):((c=_a(b,a)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}(Ea(g.from),Ea(g.to)),(g={}).ms=e.milliseconds,g.M=e.months),d=new Ia(g),Ja(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function $a(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function _a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=b-a.clone().add(c.months,"M"),c}function bb(a,b){return function(c,d){var f;return null===d||isNaN(+d)||(Jd[b]||(Jd[b]=!0),f=c,c=d,d=f),cb(this,Za(c="string"==typeof c?+c:c,d),a),this}}function cb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;b.isValid()&&(e=null==e||e,f&&b._d.setTime(+b._d+f*d),g&&G(b,"Date",F(b,"Date")+g*d),h&&Z(b,F(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function ub(a){var b;return void 0===a?this._locale._abbr:(null!=(b=z(a))&&(this._locale=b),this)}function vb(){return this._locale}function Ib(a,b){J(0,[a,a.length],0,b)}function Nb(a,b,c,d,e){var f;return null==a?qa(this,d,e).year:((f=ra(a,d,e))<b&&(b=f),function(a,b,c,d,e){var f=pa(a,b,c,d,e),g=ka(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}.call(this,a,b,c,d,e))}function cc(){return this.hours()%12||12}function dc(a,b){J(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function ec(a,b){return b._meridiemParse}function hc(a,b){b[Bd]=r(1e3*("0."+a))}function qc(a){return a}function uc(a,b,c,d){var e=z(),f=h().set(d,b);return e[c](f,a)}function vc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return uc(a,b,c,e);var f,g=[];for(f=0;f<d;f++)g[f]=uc(a,f,c,e);return g}function Cc(a,b,c,d){var e=Za(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Fc(a){return a<0?Math.floor(a):Math.ceil(a)}function Hc(a){return 4800*a/146097}function Ic(a){return 146097*a/4800}function Lc(a){return function(){return this.as(a)}}function Nc(a){return function(){return this._data[a]}}function Tc(){var a,b,d=Ke(this._milliseconds)/1e3,e=Ke(this._days),f=Ke(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60;var g=q(f/12),h=f%=12,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Uc,Vc,Wc=a.momentProperties=[],Xc=!1,Yc={},Zc={},$c=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_c=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ad={},bd={},cd=/\d/,dd=/\d\d/,ed=/\d{3}/,fd=/\d{4}/,gd=/[+-]?\d{6}/,hd=/\d\d?/,id=/\d\d\d\d?/,jd=/\d\d\d\d\d\d?/,kd=/\d{1,3}/,ld=/\d{1,4}/,md=/[+-]?\d{1,6}/,nd=/\d+/,od=/[+-]?\d+/,pd=/Z|[+-]\d\d:?\d\d/gi,qd=/Z|[+-]\d\d(?::?\d\d)?/gi,sd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,td={},ud={},vd=0,wd=1,xd=2,yd=3,zd=4,Ad=5,Bd=6,Cd=7,Dd=8;J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),J("MMMM",0,0,function(a){return this.localeData().months(this,a)}),A("month","M"),O("M",hd),O("MM",hd,dd),O("MMM",function(a,b){return b.monthsShortRegex(a)}),O("MMMM",function(a,b){return b.monthsRegex(a)}),S(["M","MM"],function(a,b){b[wd]=r(a)-1}),S(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[wd]=e:j(c).invalidMonth=a});var Ed=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Fd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Hd=sd,Id=sd,Jd={},Kd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ld=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Md=/Z|[+-]\d\d(?::?\d\d)?/,Nd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,a.suppressDeprecationWarnings=!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Od=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=fa(0,function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),J("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),A("year","y"),O("Y",od),O("YY",hd,dd),O("YYYY",ld,fd),O("YYYYY",md,gd),O("YYYYYY",md,gd),S(["YYYYY","YYYYYY"],vd),S("YYYY",function(b,c){c[vd]=2===b.length?a.parseTwoDigitYear(b):r(b)}),S("YY",function(b,c){c[vd]=a.parseTwoDigitYear(b)}),S("Y",function(a,b){b[vd]=parseInt(a,10)});var Qd=E("FullYear",!(a.parseTwoDigitYear=function(a){return r(a)+(68<r(a)?1900:2e3)}));a.ISO_8601=function(){};var Rd=fa(0,function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:l()}),Sd=fa(0,function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?this<a?this:a:l()});Ka("Z",":"),Ka("ZZ",""),O("Z",qd),O("ZZ",qd),S(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=La(qd,a)});var Ud=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Vd=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Wd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Za.fn=Ia.prototype;var Xd=bb(1,"add"),Yd=bb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Zd=fa(0,function(a){return void 0===a?this.localeData():this.locale(a)});J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ib("gggg","weekYear"),Ib("ggggg","weekYear"),Ib("GGGG","isoWeekYear"),Ib("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),O("G",od),O("g",od),O("GG",hd,dd),O("gg",hd,dd),O("GGGG",ld,fd),O("gggg",ld,fd),O("GGGGG",md,gd),O("ggggg",md,gd),T(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),T(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),J("Q",0,"Qo","quarter"),A("quarter","Q"),O("Q",cd),S("Q",function(a,b){b[wd]=3*(r(a)-1)}),J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),O("w",hd),O("ww",hd,dd),O("W",hd),O("WW",hd,dd),T(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=r(a)}),J("D",["DD",2],"Do","date"),A("date","D"),O("D",hd),O("DD",hd,dd),O("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),S(["D","DD"],xd),S("Do",function(a,b){b[xd]=r(a.match(hd)[0])});var _d=E("Date",!0);J("d",0,"do","day"),J("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),J("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),J("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),O("d",hd),O("e",hd),O("E",hd),O("dd",sd),O("ddd",sd),O("dddd",sd),T(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),T(["d","e","E"],function(a,b,c,d){b[d]=r(a)});var ae="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ce="Su_Mo_Tu_We_Th_Fr_Sa".split("_");J("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),O("DDD",kd),O("DDDD",ed),S(["DDD","DDDD"],function(a,b,c){c._dayOfYear=r(a)}),J("H",["HH",2],0,"hour"),J("h",["hh",2],0,cc),J("hmm",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)}),J("hmmss",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),J("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),J("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),dc("a",!0),dc("A",!1),A("hour","h"),O("a",ec),O("A",ec),O("H",hd),O("h",hd),O("HH",hd,dd),O("hh",hd,dd),O("hmm",id),O("hmmss",jd),O("Hmm",id),O("Hmmss",jd),S(["H","HH"],yd),S(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),S(["h","hh"],function(a,b,c){b[yd]=r(a),j(c).bigHour=!0}),S("hmm",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d)),j(c).bigHour=!0}),S("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e)),j(c).bigHour=!0}),S("Hmm",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d))}),S("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e))});var ee=E("Hours",!0);J("m",["mm",2],0,"minute"),A("minute","m"),O("m",hd),O("mm",hd,dd),S(["m","mm"],zd);var fe=E("Minutes",!1);J("s",["ss",2],0,"second"),A("second","s"),O("s",hd),O("ss",hd,dd),S(["s","ss"],Ad);var he,ge=E("Seconds",!1);for(J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return 10*this.millisecond()}),J(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),J(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),J(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),J(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),J(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),O("S",kd,cd),O("SS",kd,dd),O("SSS",kd,ed),he="SSSS";he.length<=9;he+="S")O(he,nd);for(he="S";he.length<=9;he+="S")S(he,hc);var ie=E("Milliseconds",!1);J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");var je=o.prototype;je.add=Xd,je.calendar=function(a,b){var c=a||Ea(),d=Ma(c,this).startOf("day"),e=this.diff(d,"days",!0),f=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse",g=b&&(D(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ea(c)))},je.clone=function(){return new o(this)},je.diff=function(a,b,c){var d,e,f,g;return this.isValid()&&(d=Ma(a,this)).isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),"year"===(b=B(b))||"month"===b||"quarter"===b?(g=function(a,b){var e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return-(e+(b-f<0?(b-f)/(f-a.clone().add(e-1,"months")):(b-f)/(a.clone().add(1+e,"months")-f)))}(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:q(g)):NaN},je.endOf=function(a){return void 0===(a=B(a))||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},je.format=function(b){var c=M(this,b||a.defaultFormat);return this.localeData().postformat(c)},je.from=function(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()},je.fromNow=function(a){return this.from(Ea(),a)},je.to=function(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()},je.toNow=function(a){return this.to(Ea(),a)},je.get=H,je.invalidAt=function(){return j(this).overflow},je.isAfter=function(a,b){var c=p(a)?a:Ea(a);return!(!this.isValid()||!c.isValid())&&("millisecond"===(b=B(m(b)?"millisecond":b))?+c<+this:+c<+this.clone().startOf(b))},je.isBefore=function(a,b){var c=p(a)?a:Ea(a);return!(!this.isValid()||!c.isValid())&&("millisecond"===(b=B(m(b)?"millisecond":b))?+this<+c:+this.clone().endOf(b)<+c)},je.isBetween=function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},je.isSame=function(a,b){var c,d=p(a)?a:Ea(a);return!(!this.isValid()||!d.isValid())&&("millisecond"===(b=B(b||"millisecond"))?+this==+d:(c=+d,+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b)))},je.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)},je.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)},je.isValid=function(){return k(this)},je.lang=Zd,je.locale=ub,je.localeData=vb,je.max=Sd,je.min=Rd,je.parsingFlags=function(){return g({},j(this))},je.set=H,je.startOf=function(a){switch(a=B(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},je.subtract=Yd,je.toArray=function(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]},je.toObject=function(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}},je.toDate=function(){return this._offset?new Date(+this):this._d},je.toISOString=function(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():M(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},je.toJSON=function(){return this.isValid()?this.toISOString():"null"},je.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},je.unix=function(){return Math.floor(this/1e3)},je.valueOf=function(){return this._d-6e4*(this._offset||0)},je.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},je.year=Qd,je.isLeapYear=function(){return ma(this.year())},je.weekYear=function(a){return Nb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},je.isoWeekYear=function(a){return Nb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)},je.quarter=je.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},je.month=$,je.daysInMonth=function(){return V(this.year(),this.month())},je.week=je.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},je.isoWeek=je.isoWeeks=function(a){var b=qa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},je.weeksInYear=function(){var a=this.localeData()._week;return ra(this.year(),a.dow,a.doy)},je.isoWeeksInYear=function(){return ra(this.year(),1,4)},je.date=_d,je.day=je.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=function(a,b){return"string"!=typeof a?a:isNaN(a)?"number"==typeof(a=b.weekdaysParse(a))?a:null:parseInt(a,10)}(a,this.localeData()),this.add(a-b,"d")):b},je.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},je.isoWeekday=function(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN},je.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},je.hour=je.hours=ee,je.minute=je.minutes=fe,je.second=je.seconds=ge,je.millisecond=je.milliseconds=ie,je.utcOffset=function(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=La(qd,b):Math.abs(b)<16&&(b*=60),!this._isUTC&&c&&(d=Na(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?cb(this,Za(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Na(this):null!=b?this:NaN},je.utc=function(a){return this.utcOffset(0,a)},je.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Na(this),"m")),this},je.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(La(pd,this._i)),this},je.hasAlignedHourOffset=function(a){return!!this.isValid()&&(a=a?Ea(a).utcOffset():0,(this.utcOffset()-a)%60==0)},je.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},je.isDSTShifted=function(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),(a=Ba(a))._a){var b=(a._isUTC?h:Ea)(a._a);this._isDSTShifted=this.isValid()&&0<s(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted},je.isLocal=function(){return!!this.isValid()&&!this._isUTC},je.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},je.isUtc=Ya,je.isUTC=Ya,je.zoneAbbr=function(){return this._isUTC?"UTC":""},je.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},je.dates=fa(0,_d),je.months=fa(0,$),je.years=fa(0,Qd),je.zone=fa(0,function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});var ke=je,re=t.prototype;re._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},re.calendar=function(a,b,c){var d=this._calendar[a];return D(d)?d.call(b,c):d},re._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},re.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])},re._invalidDate="Invalid date",re.invalidDate=function(){return this._invalidDate},re._ordinal="%d",re.ordinal=function(a){return this._ordinal.replace("%d",a)},re._ordinalParse=/\d{1,2}/,re.preparse=qc,re.postformat=qc,re._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},re.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return D(e)?e(a,b,c,d):e.replace(/%d/i,a)},re.pastFuture=function(a,b){var c=this._relativeTime[0<a?"future":"past"];return D(c)?c(b):c.replace(/%s/i,b)},re.set=function(a){var b,c;for(c in a)D(b=a[c])?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},re.months=function(a,b){return c(this._months)?this._months[a.month()]:this._months[Ed.test(b)?"format":"standalone"][a.month()]},re._months=Fd,re.monthsShort=function(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Ed.test(b)?"format":"standalone"][a.month()]},re._monthsShort=Gd,re.monthsParse=function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},re._monthsRegex=Id,re.monthsRegex=function(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex},re._monthsShortRegex=Hd,re.monthsShortRegex=function(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex},re.week=function(a){return qa(a,this._week.dow,this._week.doy).week},re._week={dow:0,doy:6},re.firstDayOfYear=function(){return this._week.doy},re.firstDayOfWeek=function(){return this._week.dow},re.weekdays=function(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]},re._weekdays=ae,re.weekdaysMin=function(a){return this._weekdaysMin[a.day()]},re._weekdaysMin=ce,re.weekdaysShort=function(a){return this._weekdaysShort[a.day()]},re._weekdaysShort=be,re.weekdaysParse=function(a,b,c){var d,e,f;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=Ea([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}},re.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)},re._meridiemParse=/[ap]\.?m?\.?/i,re.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===r(a%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th")}}),a.lang=fa(0,x),a.langData=fa(0,z);var se=Math.abs,te=Lc("ms"),ue=Lc("s"),ve=Lc("m"),we=Lc("h"),xe=Lc("d"),ye=Lc("w"),ze=Lc("M"),Ae=Lc("y"),Be=Nc("milliseconds"),Ce=Nc("seconds"),De=Nc("minutes"),Ee=Nc("hours"),Fe=Nc("days"),Ge=Nc("months"),He=Nc("years"),Ie=Math.round,Je={s:45,m:45,h:22,d:26,M:11},Ke=Math.abs,Le=Ia.prototype;return Le.abs=function(){var a=this._data;return this._milliseconds=se(this._milliseconds),this._days=se(this._days),this._months=se(this._months),a.milliseconds=se(a.milliseconds),a.seconds=se(a.seconds),a.minutes=se(a.minutes),a.hours=se(a.hours),a.months=se(a.months),a.years=se(a.years),this},Le.add=function(a,b){return Cc(this,a,b,1)},Le.subtract=function(a,b){return Cc(this,a,b,-1)},Le.as=function(a){var b,c,d=this._milliseconds;if("month"===(a=B(a))||"year"===a)return b=this._days+d/864e5,c=this._months+Hc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(Ic(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}},Le.asMilliseconds=te,Le.asSeconds=ue,Le.asMinutes=ve,Le.asHours=we,Le.asDays=xe,Le.asWeeks=ye,Le.asMonths=ze,Le.asYears=Ae,Le.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)},Le._bubble=function(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return 0<=f&&0<=g&&0<=h||f<=0&&g<=0&&h<=0||(f+=864e5*Fc(Ic(h)+g),h=g=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),h+=e=q(Hc(g)),g-=Fc(Ic(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this},Le.get=function(a){return this[(a=B(a))+"s"]()},Le.milliseconds=Be,Le.seconds=Ce,Le.minutes=De,Le.hours=Ee,Le.days=Fe,Le.weeks=function(){return q(this.days()/7)},Le.months=Ge,Le.years=He,Le.humanize=function(a){var b=this.localeData(),c=function(a,b,c){var d=Za(a).abs(),e=Ie(d.as("s")),f=Ie(d.as("m")),g=Ie(d.as("h")),h=Ie(d.as("d")),i=Ie(d.as("M")),j=Ie(d.as("y")),k=(e<Je.s?["s",e]:f<=1&&["m"])||f<Je.m&&["mm",f]||g<=1&&["h"]||g<Je.h&&["hh",g]||h<=1&&["d"]||h<Je.d&&["dd",h]||i<=1&&["M"]||i<Je.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=0<+a,k[4]=c,function(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}.apply(null,k)}(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)},Le.toISOString=Tc,Le.toString=Tc,Le.toJSON=Tc,Le.locale=ub,Le.localeData=vb,Le.toIsoString=fa(0,Tc),Le.lang=Zd,J("X",0,0,"unix"),J("x",0,0,"valueOf"),O("x",od),O("X",/[+-]?\d+(\.\d{1,3})?/),S("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),S("x",function(a,b,c){c._d=new Date(r(a))}),a.version="2.11.2",Uc=Ea,a.fn=ke,a.min=function(){return Fa("isBefore",[].slice.call(arguments,0))},a.max=function(){return Fa("isAfter",[].slice.call(arguments,0))},a.now=function(){return Date.now?Date.now():+new Date},a.utc=h,a.unix=function(a){return Ea(1e3*a)},a.months=function(a,b){return vc(a,b,"months",12,"month")},a.isDate=d,a.locale=x,a.invalid=l,a.duration=Za,a.isMoment=p,a.weekdays=function(a,b){return vc(a,b,"weekdays",7,"day")},a.parseZone=function(){return Ea.apply(null,arguments).parseZone()},a.localeData=z,a.isDuration=Ja,a.monthsShort=function(a,b){return vc(a,b,"monthsShort",12,"month")},a.weekdaysMin=function(a,b){return vc(a,b,"weekdaysMin",7,"day")},a.defineLocale=y,a.weekdaysShort=function(a,b){return vc(a,b,"weekdaysShort",7,"day")},a.normalizeUnits=B,a.relativeTimeThreshold=function(a,b){return void 0!==Je[a]&&(void 0===b?Je[a]:(Je[a]=b,!0))},a.prototype=ke,a}),function(a,b){"function"==typeof define&&define.amd?define("sifter",b):"object"==typeof exports?module.exports=b():a.Sifter=b()}(this,function(){var a=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){if(!(a=e(String(a||"").toLowerCase()))||!a.length)return[];var b,c,d,g,i=[],j=a.split(/ +/);for(b=0,c=j.length;b<c;b++){if(d=f(j[b]),this.settings.diacritics)for(g in h)h.hasOwnProperty(g)&&(d=d.replace(new RegExp(g,"g"),h[g]));i.push({string:j[b],regex:new RegExp(d,"i")})}return i},a.prototype.iterator=function(a,b){(g(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)}).apply(a,[b])},a.prototype.getScoreFunction=function(a,b){var e,f,g,h;function i(a,b){var c,d;return a?-1===(d=(a=String(a||"")).search(b.regex))?0:(c=b.string.length/a.length,0===d&&(c+=.5),c):0}a=this.prepareSearch(a,b),f=a.tokens,e=a.options.fields,g=f.length,h=a.options.nesting;var j=function(){var a=e.length;return a?1===a?function(a,b){return i(d(b,e[0],h),a)}:function(b,c){for(var f=0,g=0;f<a;f++)g+=i(d(c,e[f],h),b);return g/a}:function(){return 0}}();return g?1===g?function(a){return j(f[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;c<g;c++){if((b=j(f[c],a))<=0)return 0;d+=b}return d/g}:function(a){for(var b=0,c=0;b<g;b++)c+=j(f[b],a);return c/g}:function(){return 0}},a.prototype.getSortFunction=function(a,c){var e,f,g,h,i,j,k,l,m,n,o;if(o=!(a=(g=this).prepareSearch(a,c)).query&&c.sort_empty||c.sort,m=function(a,b){return"$score"===a?b.score:d(g.items[b.id],a,c.nesting)},i=[],o)for(e=0,f=o.length;e<f;e++)!a.query&&"$score"===o[e].field||i.push(o[e]);if(a.query){for(n=!0,e=0,f=i.length;e<f;e++)if("$score"===i[e].field){n=!1;break}n&&i.unshift({field:"$score",direction:"desc"})}else for(e=0,f=i.length;e<f;e++)if("$score"===i[e].field){i.splice(e,1);break}for(l=[],e=0,f=i.length;e<f;e++)l.push("desc"===i[e].direction?-1:1);return(j=i.length)?1===j?(h=i[0].field,k=l[0],function(a,c){return k*b(m(h,a),m(h,c))}):function(a,c){var d,e,f;for(d=0;d<j;d++)if(f=i[d].field,e=l[d]*b(m(f,a),m(f,c)))return e;return 0}:null},a.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;var d=(b=c({},b)).fields,e=b.sort,f=b.sort_empty;return d&&!g(d)&&(b.fields=[d]),e&&!g(e)&&(b.sort=[e]),f&&!g(f)&&(b.sort_empty=[f]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},a.prototype.search=function(a,b){var c,d,e,f,g=this;return d=this.prepareSearch(a,b),b=d.options,a=d.query,f=b.score||g.getScoreFunction(d),a.length?g.iterator(g.items,function(a,e){c=f(a),(!1===b.filter||0<c)&&d.items.push({score:c,id:e})}):g.iterator(g.items,function(a,b){d.items.push({score:1,id:b})}),(e=g.getSortFunction(d,b))&&d.items.sort(e),d.total=d.items.length,"number"==typeof b.limit&&(d.items=d.items.slice(0,b.limit)),d};var b=function(a,b){return"number"==typeof a&&"number"==typeof b||(a=i(String(a||"")),b=i(String(b||""))),b<a?1:a<b?-1:0},c=function(a,b){var c,d,e,f;for(c=1,d=arguments.length;c<d;c++)if(f=arguments[c])for(e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},d=function(a,b,c){if(a&&b){if(!c)return a[b];for(var d=b.split(".");d.length&&(a=a[d.shift()]););return a}},e=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},f=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},g=Array.isArray||"undefined"!=typeof $&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h={a:"[aá¸á¸ÄÄÃÃ¢ÇÇÈºâ±¥È¦È§áº áº¡ÃÃ¤ÃÃ ÃÃ¡ÄÄÃÃ£ÃÃ¥ÄÄÃÄÄ]",b:"[bâ¢Î²ÎBà¸¿ðá]",c:"[cÄÄÄÄÄÄÄÄCÌcÌÃÃ§á¸á¸È»È¼ÆÆÉá´ï¼£ï½]",d:"[dÄÄá¸á¸á¸á¸á¸á¸á¸á¸á¸á¸ÄÄDÌ¦dÌ¦ÆÉÆÉÆÆáµ­á¶á¶È¡á´ï¼¤ï½Ã°]",e:"[eÃÃ©ÃÃ¨ÃÃªá¸á¸ÄÄÄÄáº¼áº½á¸á¸áººáº»ÄÄÃÃ«ÄÄÈ¨È©ÄÄá¶ÉÉÈÈáº¾áº¿á»á»á»á»á»á»á¸á¸á¸á¸á¸á¸ÈÈáº¸áº¹á»á»â±¸á´ï¼¥ï½ÉÇÆÆÎµ]",f:"[fÆÆá¸á¸]",g:"[gÉ¢â²Ç¤Ç¥ÄÄÄÄÄ¢Ä£ÆÉ Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áºáºá¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ]",i:"[iÃÃ­ÃÃ¬Ä¬Ä­ÃÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»á»ÈÈÈÈá»á»á¸¬á¸­ÆÉ¨É¨Ìáµ»á¶Ä°iIÄ±Éªï¼©ï½]",j:"[jÈ·Ä´ÄµÉÉÊÉÊ²]",k:"[kÆÆêêá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â­]",l:"[lÅÅÄ½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿ÅÈ½Æâ± â±¡â±¢É«É¬á¶É­È´Êï¼¬ï½]",n:"[nÅÅÇ¸Ç¹ÅÅÃÃ±á¹á¹ÅÅá¹á¹á¹á¹á¹á¹NÌnÌÆÉ²È Æáµ°á¶É³ÈµÉ´ï¼®ï½ÅÅ]",o:"[oÃÃ¸ÃÃ¶ÃÃ³ÃÃ²ÃÃ´ÇÇÅÅÅÅÈ®È¯á»á»ÆÉµÆ Æ¡á»á»ÅÅÃÃµÇªÇ«ÈÈÕÖ]",p:"[pá¹á¹á¹á¹â±£áµ½Æ¤Æ¥áµ±]",q:"[qêêÊ ÉÉêêqÌ]",r:"[rÅÅÉÉÅÅÅÅá¹á¹ÈÈÈÈá¹á¹â±¤É½]",s:"[sÅÅá¹ á¹¡á¹¢á¹£ê¨ê©ÅÅÅ Å¡ÅÅÈÈSÌsÌ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊÈÈá¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­ÉÊá»¤á»¥ÃÃ¼ÃÃºÃÃ¹ÃÃ»ÇÇÅ°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³ÈÈâª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Êêêâ±±Ê]",w:"[wáºáºáºáºÅ´Åµáºáºáºáºáºáº]",x:"[xáºáºáºáºÏ]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºáºá»´á»µÉÉÆ³Æ´]",z:"[zÅ¹ÅºáºáºÅ½Å¾Å»Å¼áºáºáºáºÆµÆ¶]"},i=function(){var a,b,c,d,e="",f={};for(c in h)if(h.hasOwnProperty(c))for(e+=d=h[c].substring(2,h[c].length-1),a=0,b=d.length;a<b;a++)f[d.charAt(a)]=c;var g=new RegExp("["+e+"]","g");return function(a){return a.replace(g,function(a){return f[a]}).toLowerCase()}}();return a}),function(a,b){"function"==typeof define&&define.amd?define("microplugin",b):"object"==typeof exports?module.exports=b():a.MicroPlugin=b()}(this,function(){var a={mixin:function(a){a.plugins={},a.prototype.initializePlugins=function(a){var c,d,e,f=this,g=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},b.isArray(a))for(c=0,d=a.length;c<d;c++)"string"==typeof a[c]?g.push(a[c]):(f.plugins.settings[a[c].name]=a[c].options,g.push(a[c].name));else if(a)for(e in a)a.hasOwnProperty(e)&&(f.plugins.settings[e]=a[e],g.push(e));for(;g.length;)f.require(g.shift())},a.prototype.loadPlugin=function(b){var c=this,d=c.plugins,e=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw new Error('Unable to find "'+b+'" plugin');d.requested[b]=!0,d.loaded[b]=e.fn.apply(c,[c.plugins.settings[b]||{}]),d.names.push(b)},a.prototype.require=function(a){var b=this,c=b.plugins;if(!b.plugins.loaded.hasOwnProperty(a)){if(c.requested[a])throw new Error('Plugin has circular dependency ("'+a+'")');b.loadPlugin(a)}return c.loaded[a]},a.define=function(b,c){a.plugins[b]={name:b,fn:c}}}},b={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return a}),function(a,b){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=b(a.jQuery,a.Sifter,a.MicroPlugin)}(this,function(a,b,c){"use strict";var d=function(a,b){if("string"!=typeof b||b.length){var c="string"==typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(0<=e&&0<a.data.length){var f=a.data.match(c),g=document.createElement("span");g.className="highlight";var h=a.splitText(e),i=(h.splitText(f[0].length),h.cloneNode(!0));g.appendChild(i),h.parentNode.replaceChild(g,h),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName)&&("highlight"!==a.className||"SPAN"!==a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=d(a.childNodes[j]);return b};return a.each(function(){d(this)})}};function e(){}function j(a){return void 0!==a}function k(a){return null==a?null:"boolean"==typeof a?a?"1":"0":a+""}function l(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function p(a,b,c){var d,e=a.trigger,f={};for(d in a.trigger=function(){var c=arguments[0];if(-1===b.indexOf(c))return e.apply(a,arguments);f[c]=arguments},c.apply(a,[]),a.trigger=e,f)f.hasOwnProperty(d)&&e.apply(a,f[d])}function r(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length),b.start=c.text.length-d,b.length=d}return b}function t(b,c){return b?(w.$testInput||(w.$testInput=a("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),w.$testInput.text(b),function(a,b,c){var d,e,f={};for(c,d=0,e=c.length;d<e;d++)f[c[d]]=a.css(c[d]);b.css(f)}(c,w.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),w.$testInput.width()):0}function u(a){var b=null,c=function(c,d){var e,f,g,h,i,j,k,l;d=d||{},(c=c||window.event||{}).metaKey||c.altKey||!d.force&&!1===a.data("grow")||(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(g=48<=(f=c.keyCode)&&f<=57||65<=f&&f<=90||96<=f&&f<=111||186<=f&&f<=222||32===f,46===f||8===f?(l=r(a[0])).length?e=e.substring(0,l.start)+e.substring(l.start+l.length):8===f&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):46===f&&void 0!==l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1)):g&&(j=c.shiftKey,k=String.fromCharCode(c.keyCode),e+=k=j?k.toUpperCase():k.toLowerCase())),h=a.attr("placeholder"),!e&&h&&(e=h),(i=t(e,a)+4)!==b&&(b=i,a.width(i),a.triggerHandler("resize")))};a.on("keydown keyup update blur",c),c()}function v(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML}a.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var a=this.parentNode;a.replaceChild(this.firstChild,this),a.normalize()}).end()},e.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},off:function(a,b){var c=arguments.length;return 0===c?delete this._events:1===c?delete this._events[a]:(this._events=this._events||{},void(a in this._events!=0&&this._events[a].splice(this._events[a].indexOf(b),1)))},trigger:function(a){if(this._events=this._events||{},a in this._events!=0)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};var f=/Mac/.test(navigator.userAgent),g=f?91:17,h=f?18:17,i=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,m_after=function(a,b,c){var d=a[b];a[b]=function(){var b=d.apply(a,arguments);return c.apply(a,arguments),b}},w=function(c,d){var e,f,g,h,i=this;(h=c[0]).selectize=i;var j=window.getComputedStyle&&window.getComputedStyle(h,null);if(g=(g=j?j.getPropertyValue("direction"):h.currentStyle&&h.currentStyle.direction)||c.parents("[dir]:first").attr("dir")||"",a.extend(i,{order:0,settings:d,$input:c,tabIndex:c.attr("tabindex")||"",tagType:"select"===h.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(g),eventNS:".selectize"+ ++w.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:c.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===d.loadThrottle?i.onSearchChange:function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}}(i.onSearchChange,d.loadThrottle)}),i.sifter=new b(this.options,{diacritics:d.diacritics}),i.settings.options){for(e=0,f=i.settings.options.length;e<f;e++)i.registerOption(i.settings.options[e]);delete i.settings.options}if(i.settings.optgroups){for(e=0,f=i.settings.optgroups.length;e<f;e++)i.registerOptionGroup(i.settings.optgroups[e]);delete i.settings.optgroups}i.settings.mode=i.settings.mode||(1===i.settings.maxItems?"single":"multi"),"boolean"!=typeof i.settings.hideSelected&&(i.settings.hideSelected="multi"===i.settings.mode),i.initializePlugins(i.settings.plugins),i.setupCallbacks(),i.setupTemplates(),i.setup()};return e.mixin(w),void 0!==c?c.mixin(w):function(b){(b=b||{}).explanation&&(console.group,console.group)}({explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),a.extend(w.prototype,{setup:function(){var b,c,d,e,j,k,l,m,n,o,p=this,r=p.settings,s=p.eventNS,t=a(window),v=a(document),w=p.$input;if(l=p.settings.mode,m=w.attr("class")||"",b=a("<div>").addClass(r.wrapperClass).addClass(m).addClass(l),c=a("<div>").addClass(r.inputClass).addClass("items").appendTo(b),d=a('<input type="text" autocomplete="off" />').appendTo(c).attr("tabindex",w.is(":disabled")?"-1":p.tabIndex),k=a(r.dropdownParent||b),e=a("<div>").addClass(r.dropdownClass).addClass(l).hide().appendTo(k),j=a("<div>").addClass(r.dropdownContentClass).appendTo(e),(o=w.attr("id"))&&(d.attr("id",o+"-selectized"),a("label[for='"+o+"']").attr("for",o+"-selectized")),p.settings.copyClassesToDropdown&&e.addClass(m),b.css({width:w[0].style.width}),p.plugins.names.length&&(n="plugin-"+p.plugins.names.join(" plugin-"),b.addClass(n),e.addClass(n)),(null===r.maxItems||1<r.maxItems)&&1===p.tagType&&w.attr("multiple","multiple"),p.settings.placeholder&&d.attr("placeholder",r.placeholder),!p.settings.splitOn&&p.settings.delimiter){var x=p.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");p.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}w.attr("autocorrect")&&d.attr("autocorrect",w.attr("autocorrect")),w.attr("autocapitalize")&&d.attr("autocapitalize",w.attr("autocapitalize")),d[0].type=w[0].type,p.$wrapper=b,p.$control=c,p.$control_input=d,p.$dropdown=e,p.$dropdown_content=j,e.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(a){a.stopImmediatePropagation()}),e.on("mouseenter","[data-selectable]",function(){return p.onOptionHover.apply(p,arguments)}),e.on("mousedown click","[data-selectable]",function(){return p.onOptionSelect.apply(p,arguments)}),function(a){a.on("mousedown","*:not(input)",function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;return b.currentTarget=c,function(){return p.onItemSelect.apply(p,arguments)}.apply(this,[b])})}(c),u(d),c.on({mousedown:function(){return p.onMouseDown.apply(p,arguments)},click:function(){return p.onClick.apply(p,arguments)}}),d.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return p.onKeyDown.apply(p,arguments)},keyup:function(){return p.onKeyUp.apply(p,arguments)},keypress:function(){return p.onKeyPress.apply(p,arguments)},resize:function(){p.positionDropdown.apply(p,[])},blur:function(){return p.onBlur.apply(p,arguments)},focus:function(){return p.ignoreBlur=!1,p.onFocus.apply(p,arguments)},paste:function(){return p.onPaste.apply(p,arguments)}}),v.on("keydown"+s,function(a){p.isCmdDown=a[f?"metaKey":"ctrlKey"],p.isCtrlDown=a[f?"altKey":"ctrlKey"],p.isShiftDown=a.shiftKey}),v.on("keyup"+s,function(a){a.keyCode===h&&(p.isCtrlDown=!1),16===a.keyCode&&(p.isShiftDown=!1),a.keyCode===g&&(p.isCmdDown=!1)}),v.on("mousedown"+s,function(a){if(p.isFocused){if(a.target===p.$dropdown[0]||a.target.parentNode===p.$dropdown[0])return!1;p.$control.has(a.target).length||a.target===p.$control[0]||p.blur(a.target)}}),t.on(["scroll"+s,"resize"+s].join(" "),function(){p.isOpen&&p.positionDropdown.apply(p,arguments)}),t.on("mousemove"+s,function(){p.ignoreHover=!1}),this.revertSettings={$children:w.children().detach(),tabindex:w.attr("tabindex")},w.attr("tabindex",-1).hide().after(p.$wrapper),a.isArray(r.items)&&(p.setValue(r.items),delete r.items),i&&w.on("invalid"+s,function(a){a.preventDefault(),p.isInvalid=!0,p.refreshState()}),p.updateOriginalInput(),p.refreshItems(),p.refreshState(),p.updatePlaceholder(),p.isSetup=!0,w.is(":disabled")&&p.disable(),p.on("change",this.onChange),w.data("selectize",p),w.addClass("selectized"),p.trigger("initialize"),!0===r.preload&&p.onSearchChange("")},setupTemplates:function(){var b=this,c=b.settings.labelField,d=b.settings.optgroupLabelField,e={optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[d])+"</div>"},option:function(a,b){return'<div class="option">'+b(a[c])+"</div>"},item:function(a,b){return'<div class="item">'+b(a[c])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}};b.settings.render=a.extend({},e,b.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)c.hasOwnProperty(a)&&(b=this.settings[c[a]])&&this.on(a,b)},onClick:function(a){var b=this;b.isFocused&&b.isOpen||(b.focus(),a.preventDefault())},onMouseDown:function(b){var c=this,d=b.isDefaultPrevented();if(a(b.target),c.isFocused){if(b.target!==c.$control_input[0])return"single"===c.settings.mode?c.isOpen?c.close():c.open():d||c.setActiveItem(null),!1}else d||window.setTimeout(function(){c.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var c=this;c.isFull()||c.isInputHidden||c.isLocked?b.preventDefault():c.settings.splitOn&&setTimeout(function(){var b=c.$control_input.val();if(b.match(c.settings.splitOn))for(var d=a.trim(b).split(c.settings.splitOn),e=0,f=d.length;e<f;e++)c.createItem(d[e])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);return this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter?(this.createItem(),a.preventDefault(),!1):void 0},onKeyDown:function(a){var b=(a.target,this.$control_input[0],this);if(!b.isLocked){switch(a.keyCode){case 65:if(b.isCmdDown)return void b.selectAll();break;case 27:return void(b.isOpen&&(a.preventDefault(),a.stopPropagation(),b.close()));case 78:if(!a.ctrlKey||a.altKey)break;case 40:if(!b.isOpen&&b.hasOptions)b.open();else if(b.$activeOption){b.ignoreHover=!0;var c=b.getAdjacentOption(b.$activeOption,1);c.length&&b.setActiveOption(c,!0,!0)}return void a.preventDefault();case 80:if(!a.ctrlKey||a.altKey)break;case 38:if(b.$activeOption){b.ignoreHover=!0;var d=b.getAdjacentOption(b.$activeOption,-1);d.length&&b.setActiveOption(d,!0,!0)}return void a.preventDefault();case 13:return void(b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),a.preventDefault()));case 37:return void b.advanceSelection(-1,a);case 39:return void b.advanceSelection(1,a);case 9:return b.settings.selectOnTab&&b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),b.isFull()||a.preventDefault()),void(b.settings.create&&b.createItem()&&a.preventDefault());case 8:case 46:return void b.deleteSelection(a)}return!b.isFull()&&!b.isInputHidden||(f?a.metaKey:a.ctrlKey)?void 0:void a.preventDefault()}9!==a.keyCode&&a.preventDefault()},onKeyUp:function(a){var b=this;if(b.isLocked)return a&&a.preventDefault();var c=b.$control_input.val()||"";b.lastValue!==c&&(b.lastValue=c,b.onSearchChange(c),b.refreshOptions(),b.trigger("type",c))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&(b.loadedSearches.hasOwnProperty(a)||(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this,c=b.isFocused;if(b.isDisabled)return b.blur(),a&&a.preventDefault(),!1;b.ignoreFocus||(b.isFocused=!0,"focus"===b.settings.preload&&b.onSearchChange(""),c||b.trigger("focus"),b.$activeItems.length||(b.showInput(),b.setActiveItem(null),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState())},onBlur:function(a,b){var c=this;if(c.isFocused&&(c.isFocused=!1,!c.ignoreFocus)){if(!c.ignoreBlur&&document.activeElement===c.$dropdown_content[0])return c.ignoreBlur=!0,void c.onFocus(a);var d=function(){c.close(),c.setTextboxValue(""),c.setActiveItem(null),c.setActiveOption(null),c.setCaret(c.items.length),c.refreshState(),b&&b.focus&&b.focus(),c.isBlurring=!1,c.ignoreFocus=!1,c.trigger("blur")};c.isBlurring=!0,c.ignoreFocus=!0,c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):d()}},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var c,d,e=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation()),(d=a(b.currentTarget)).hasClass("create")?e.createItem(null,function(){e.settings.closeAfterSelect&&e.close()}):void 0!==(c=d.attr("data-value"))&&(e.lastQuery=null,e.setTextboxValue(""),e.addItem(c),e.settings.closeAfterSelect?e.close():!e.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&e.setActiveOption(e.getOption(c)))},onItemSelect:function(a){var b=this;b.isLocked||"multi"===b.settings.mode&&(a.preventDefault(),b.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++,a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0),a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden)),b.loading||c.removeClass(b.settings.loadingClass),b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){p(this,b?[]:["change"],function(){this.clear(b),this.addItems(a,b)})},setActiveItem:function(b,c){var d,e,f,g,h,i,j,k,l=this;if("single"!==l.settings.mode){if(!(b=a(b)).length)return a(l.$activeItems).removeClass("active"),l.$activeItems=[],void(l.isFocused&&l.showInput());if("mousedown"===(d=c&&c.type.toLowerCase())&&l.isShiftDown&&l.$activeItems.length){for(k=l.$control.children(".active:last"),g=Array.prototype.indexOf.apply(l.$control[0].childNodes,[k[0]]),(h=Array.prototype.indexOf.apply(l.$control[0].childNodes,[b[0]]))<g&&(j=g,g=h,h=j),e=g;e<=h;e++)i=l.$control[0].childNodes[e],-1===l.$activeItems.indexOf(i)&&(a(i).addClass("active"),l.$activeItems.push(i));c.preventDefault()}else"mousedown"===d&&l.isCtrlDown||"keydown"===d&&this.isShiftDown?b.hasClass("active")?(f=l.$activeItems.indexOf(b[0]),l.$activeItems.splice(f,1),b.removeClass("active")):l.$activeItems.push(b.addClass("active")[0]):(a(l.$activeItems).removeClass("active"),l.$activeItems=[b.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}},setActiveOption:function(b,c,d){var e,f,g,h,i,k=this;k.$activeOption&&k.$activeOption.removeClass("active"),k.$activeOption=null,(b=a(b)).length&&(k.$activeOption=b.addClass("active"),!c&&j(c)||(e=k.$dropdown_content.height(),f=k.$activeOption.outerHeight(!0),c=k.$dropdown_content.scrollTop()||0,i=(h=g=k.$activeOption.offset().top-k.$dropdown_content.offset().top+c)-e+f,e+c<g+f?k.$dropdown_content.stop().animate({scrollTop:i},d?k.settings.scrollDuration:0):g<c&&k.$dropdown_content.stop().animate({scrollTop:h},d?k.settings.scrollDuration:0)))},selectAll:function(){var a=this;"single"!==a.settings.mode&&(a.$activeItems=Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active")),a.$activeItems.length&&(a.hideInput(),a.close()),a.focus())},hideInput:function(){var a=this;a.setTextboxValue(""),a.$control_input.css({opacity:0,position:"absolute",left:a.rtl?1e4:-1e4}),a.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1,a.onFocus()},0))},blur:function(a){this.$control_input[0].blur(),this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;return"string"==typeof b&&(b=[{field:b}]),{fields:a.searchField,conjunction:a.searchConjunction,sort:b,nesting:a.nesting}},search:function(b){var c,d,e,f=this,g=f.settings,h=this.getSearchOptions();if(g.score&&"function"!=typeof(e=f.settings.score.apply(this,[b])))throw new Error('Selectize "score" setting must be a function that returns a function');if(b!==f.lastQuery?(f.lastQuery=b,d=f.sifter.search(b,a.extend(h,{score:e})),f.currentResults=d):d=a.extend(!0,{},f.currentResults),g.hideSelected)for(c=d.items.length-1;0<=c;c--)-1!==f.items.indexOf(k(d.items[c].id))&&d.items.splice(c,1);return d},refreshOptions:function(b){var c,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t;void 0===b&&(b=!0);var u=this,w=a.trim(u.$control_input.val()),x=u.search(w),y=u.$dropdown_content,z=u.$activeOption&&k(u.$activeOption.attr("data-value"));for(g=x.items.length,"number"==typeof u.settings.maxOptions&&(g=Math.min(g,u.settings.maxOptions)),h={},i=[],c=0;c<g;c++)for(j=u.options[x.items[c].id],l=u.render("option",j),m=j[u.settings.optgroupField]||"",e=0,f=(n=a.isArray(m)?m:[m])&&n.length;e<f;e++)m=n[e],u.optgroups.hasOwnProperty(m)||(m=""),h.hasOwnProperty(m)||(h[m]=document.createDocumentFragment(),i.push(m)),h[m].appendChild(l);for(this.settings.lockOptgroupOrder&&i.sort(function(a,b){return(u.optgroups[a].$order||0)-(u.optgroups[b].$order||0)}),o=document.createDocumentFragment(),c=0,g=i.length;c<g;c++)m=i[c],u.optgroups.hasOwnProperty(m)&&h[m].childNodes.length?((p=document.createDocumentFragment()).appendChild(u.render("optgroup_header",u.optgroups[m])),p.appendChild(h[m]),o.appendChild(u.render("optgroup",a.extend({},u.optgroups[m],{html:v(p),dom:p})))):o.appendChild(h[m]);if(y.html(o),u.settings.highlight&&(y.removeHighlight(),x.query.length&&x.tokens.length))for(c=0,g=x.tokens.length;c<g;c++)d(y,x.tokens[c].regex);if(!u.settings.hideSelected)for(c=0,g=u.items.length;c<g;c++)u.getOption(u.items[c]).addClass("selected");(q=u.canCreate(w))&&(y.prepend(u.render("option_create",{input:w})),t=a(y[0].childNodes[0])),u.hasOptions=0<x.items.length||q,u.hasOptions?(0<x.items.length?((s=z&&u.getOption(z))&&s.length?r=s:"single"===u.settings.mode&&u.items.length&&(r=u.getOption(u.items[0])),r&&r.length||(r=t&&!u.settings.addPrecedence?u.getAdjacentOption(t,1):y.find("[data-selectable]:first"))):r=t,u.setActiveOption(r),b&&!u.isOpen&&u.open()):(u.setActiveOption(null),b&&u.isOpen&&u.close())},addOption:function(b){var c,d,e,f=this;if(a.isArray(b))for(c=0,d=b.length;c<d;c++)f.addOption(b[c]);else(e=f.registerOption(b))&&(f.userOptions[e]=!0,f.lastQuery=null,f.trigger("option_add",e,b))},registerOption:function(a){var b=k(a[this.settings.valueField]);return null!=b&&!this.options.hasOwnProperty(b)&&(a.$order=a.$order||++this.order,this.options[b]=a,b)},registerOptionGroup:function(a){var b=k(a[this.settings.optgroupValueField]);return!!b&&(a.$order=a.$order||++this.order,this.optgroups[b]=a,b)},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a,(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(b,c){var d,e,f,g,h,i,j,l=this;if(b=k(b),f=k(c[l.settings.valueField]),null!==b&&l.options.hasOwnProperty(b)){if("string"!=typeof f)throw new Error("Value must be set in option data");j=l.options[b].$order,f!==b&&(delete l.options[b],-1!==(g=l.items.indexOf(b))&&l.items.splice(g,1,f)),c.$order=c.$order||j,l.options[f]=c,h=l.renderCache.item,i=l.renderCache.option,h&&(delete h[b],delete h[f]),i&&(delete i[b],delete i[f]),-1!==l.items.indexOf(f)&&(d=l.getItem(b),e=a(l.render("item",c)),d.hasClass("active")&&e.addClass("active"),d.replaceWith(e)),l.lastQuery=null,l.isOpen&&l.refreshOptions(!1)}},removeOption:function(a,b){var c=this;a=k(a);var d=c.renderCache.item,e=c.renderCache.option;d&&delete d[a],e&&delete e[a],delete c.userOptions[a],delete c.options[a],c.lastQuery=null,c.trigger("option_remove",a),c.removeItem(a,b)},clearOptions:function(){var b=this;b.loadedSearches={},b.userOptions={},b.renderCache={};var c=b.options;a.each(b.options,function(a,d){-1==b.items.indexOf(a)&&delete c[a]}),b.options=b.sifter.items=c,b.lastQuery=null,b.trigger("option_clear")},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(b)+c;return 0<=e&&e<d.length?d.eq(e):a()},getElementWithValue:function(b,c){if(void 0!==(b=k(b))&&null!==b)for(var d=0,e=c.length;d<e;d++)if(c[d].getAttribute("data-value")===b)return a(c[d]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,c){this.buffer=document.createDocumentFragment();for(var d=this.$control[0].childNodes,e=0;e<d.length;e++)this.buffer.appendChild(d[e]);for(var f=a.isArray(b)?b:[b],g=(e=0,f.length);e<g;e++)this.isPending=e<g-1,this.addItem(f[e],c);var h=this.$control[0];h.insertBefore(this.buffer,h.firstChild),this.buffer=null},addItem:function(b,c){p(this,c?[]:["change"],function(){var d,e,f,g,h,i=this,j=i.settings.mode;b=k(b),-1===i.items.indexOf(b)?i.options.hasOwnProperty(b)&&("single"===j&&i.clear(c),"multi"===j&&i.isFull()||(d=a(i.render("item",i.options[b])),h=i.isFull(),i.items.splice(i.caretPos,0,b),i.insertAtCaret(d),i.isPending&&(h||!i.isFull())||i.refreshState(),i.isSetup&&(f=i.$dropdown_content.find("[data-selectable]"),i.isPending||(e=i.getOption(b),g=i.getAdjacentOption(e,1).attr("data-value"),i.refreshOptions(i.isFocused&&"single"!==j),g&&i.setActiveOption(i.getOption(g))),!f.length||i.isFull()?i.close():i.isPending||i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",b,d),i.isPending||i.updateOriginalInput({silent:c})))):"single"===j&&i.close()})},removeItem:function(b,c){var d,e,f,g=this;b=k((d=b instanceof a?b:g.getItem(b)).attr("data-value")),-1!==(e=g.items.indexOf(b))&&(d.remove(),d.hasClass("active")&&(f=g.$activeItems.indexOf(d[0]),g.$activeItems.splice(f,1)),g.items.splice(e,1),g.lastQuery=null,!g.settings.persist&&g.userOptions.hasOwnProperty(b)&&g.removeOption(b,c),e<g.caretPos&&g.setCaret(g.caretPos-1),g.refreshState(),g.updatePlaceholder(),g.updateOriginalInput({silent:c}),g.positionDropdown(),g.trigger("item_remove",b,d))},createItem:function(b,c){var d=this,e=d.caretPos;b=b||a.trim(d.$control_input.val()||"");var f=arguments[arguments.length-1];if("function"!=typeof f&&(f=function(){}),"boolean"!=typeof c&&(c=!0),!d.canCreate(b))return f(),!1;d.lock();var g="function"==typeof d.settings.create?this.settings.create:function(a){var b={};return b[d.settings.labelField]=a,b[d.settings.valueField]=a,b},h=function(){var b=!1;return function(){b||(b=!0,function(a){if(d.unlock(),!a||"object"!=typeof a)return f();var b=k(a[d.settings.valueField]);if("string"!=typeof b)return f();d.setTextboxValue(""),d.addOption(a),d.setCaret(e),d.addItem(b),d.refreshOptions(c&&"single"!==d.settings.mode),f(a)}.apply(this,arguments))}}(),i=g.apply(this,[b,h]);return void 0!==i&&h(i),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var a=!this.items.length;this.isInvalid=a,this.$control_input.prop("required",a),this.$input.prop("required",!a)},refreshClasses:function(){var b=this,c=b.isFull(),d=b.isLocked;b.$wrapper.toggleClass("rtl",b.rtl),b.$control.toggleClass("focus",b.isFocused).toggleClass("disabled",b.isDisabled).toggleClass("required",b.isRequired).toggleClass("invalid",b.isInvalid).toggleClass("locked",d).toggleClass("full",c).toggleClass("not-full",!c).toggleClass("input-active",b.isFocused&&!b.isInputHidden).toggleClass("dropdown-active",b.isOpen).toggleClass("has-options",!a.isEmptyObject(b.options)).toggleClass("has-items",0<b.items.length),b.$control_input.data("grow",!c&&!d)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,e,f=this;if(a=a||{},1===f.tagType){for(d=[],b=0,c=f.items.length;b<c;b++)e=f.options[f.items[b]][f.settings.labelField]||"",d.push('<option value="'+l(f.items[b])+'" selected="selected">'+l(e)+"</option>");d.length||this.$input.attr("multiple")||d.push('<option value="" selected="selected"></option>'),f.$input.html(d.join(""))}else f.$input.val(f.getValue()),f.$input.attr("value",f.$input.val());f.isSetup&&(a.silent||f.trigger("change",f.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder),a.triggerHandler("update",{force:!0})}},open:function(){var a=this;a.isLocked||a.isOpen||"multi"===a.settings.mode&&a.isFull()||(a.focus(),a.isOpen=!0,a.refreshState(),a.$dropdown.css({visibility:"hidden",display:"block"}),a.positionDropdown(),a.$dropdown.css({visibility:"visible"}),a.trigger("dropdown_open",a.$dropdown))},close:function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&(a.hideInput(),a.isBlurring||a.$control_input.blur()),a.isOpen=!1,a.$dropdown.hide(),a.setActiveOption(null),a.refreshState(),b&&a.trigger("dropdown_close",a.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0),this.$dropdown.css({width:a[0].getBoundingClientRect().width,top:b.top,left:b.left})},clear:function(a){var b=this;b.items.length&&(b.$control.children(":not(input)").remove(),b.items=[],b.lastQuery=null,b.setCaret(0),b.setActiveItem(null),b.updatePlaceholder(),b.updateOriginalInput({silent:a}),b.refreshState(),b.showInput(),b.trigger("clear"))},insertAtCaret:function(a){var b=Math.min(this.caretPos,this.items.length),c=a[0],d=this.buffer||this.$control[0];0===b?d.insertBefore(c,d.firstChild):d.insertBefore(c,d.childNodes[b]),this.setCaret(b+1)},deleteSelection:function(b){var c,d,e,f,g,h,i,j,k,l=this;if(e=b&&8===b.keyCode?-1:1,f=r(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(i=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),g=[],l.$activeItems.length){for(k=l.$control.children(".active:"+(0<e?"last":"first")),h=l.$control.children(":not(input)").index(k),0<e&&h++,c=0,d=l.$activeItems.length;c<d;c++)g.push(a(l.$activeItems[c]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(e<0&&0===f.start&&0===f.length?g.push(l.items[l.caretPos-1]):0<e&&f.start===l.$control_input.val().length&&g.push(l.items[l.caretPos]));if(!g.length||"function"==typeof l.settings.onDelete&&!1===l.settings.onDelete.apply(l,[g]))return!1;for(void 0!==h&&l.setCaret(h);g.length;)l.removeItem(g.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),i&&(j=l.getOption(i)).length&&l.setActiveOption(j),!0},advanceSelection:function(a,b){var c,d,e,f,g,h=this;0!==a&&(h.rtl&&(a*=-1),c=0<a?"last":"first",d=r(h.$control_input[0]),h.isFocused&&!h.isInputHidden?(f=h.$control_input.val().length,(a<0?0!==d.start||0!==d.length:d.start!==f)||f||h.advanceCaret(a,b)):(g=h.$control.children(".active:"+c)).length&&(e=h.$control.children(":not(input)").index(g),h.setActiveItem(null),h.setCaret(0<a?e+1:e)))},advanceCaret:function(a,b){var c,d,e=this;0!==a&&(c=0<a?"next":"prev",e.isShiftDown?(d=e.$control_input[c]()).length&&(e.hideInput(),e.setActiveItem(d),b&&b.preventDefault()):e.setCaret(e.caretPos+a))},setCaret:function(b){var d,e,f,g,c=this;if(b="single"===c.settings.mode?c.items.length:Math.max(0,Math.min(c.items.length,b)),!c.isPending)for(d=0,e=(f=c.$control.children(":not(input)")).length;d<e;d++)g=a(f[d]).detach(),d<b?c.$control_input.before(g):c.$control.append(g);c.caretPos=b},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var a=this;a.$input.prop("disabled",!0),a.$control_input.prop("disabled",!0).prop("tabindex",-1),a.isDisabled=!0,a.lock()},enable:function(){var a=this;a.$input.prop("disabled",!1),a.$control_input.prop("disabled",!1).prop("tabindex",a.tabIndex),a.isDisabled=!1,a.unlock()},destroy:function(){var b=this,c=b.eventNS,d=b.revertSettings;b.trigger("destroy"),b.off(),b.$wrapper.remove(),b.$dropdown.remove(),b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:d.tabindex}).show(),b.$control_input.removeData("grow"),b.$input.removeData("selectize"),0==--w.count&&w.$testInput&&(w.$testInput.remove(),w.$testInput=void 0),a(window).off(c),a(document).off(c),a(document.body).off(c),delete b.$input[0].selectize},render:function(b,c){var d,e,f="",g=!1,h=this;return"option"!==b&&"item"!==b||(g=!!(d=k(c[h.settings.valueField]))),g&&(j(h.renderCache[b])||(h.renderCache[b]={}),h.renderCache[b].hasOwnProperty(d))?h.renderCache[b][d]:(f=a(h.settings.render[b].apply(this,[c,l])),"option"===b||"option_create"===b?c[h.settings.disabledField]||f.attr("data-selectable",""):"optgroup"===b&&(e=c[h.settings.optgroupValueField]||"",f.attr("data-group",e),c[h.settings.disabledField]&&f.attr("data-disabled","")),"option"!==b&&"item"!==b||f.attr("data-value",d||""),g&&(h.renderCache[b][d]=f[0]),f[0])},clearCache:function(a){void 0===a?this.renderCache={}:delete this.renderCache[a]},canCreate:function(a){var b=this;if(!b.settings.create)return!1;var c=b.settings.createFilter;return a.length&&("function"!=typeof c||c.apply(b,[a]))&&("string"!=typeof c||new RegExp(c).test(a))&&(!(c instanceof RegExp)||c.test(a))}}),w.count=0,w.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},a.fn.selectize=function(b){var c=a.fn.selectize.defaults,d=a.extend({},c,b),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.disabledField,i=d.optgroupField,j=d.optgroupLabelField,l=d.optgroupValueField,m=function(b,c){var h,i,j,k,l=b.attr(e);if(l)for(c.options=JSON.parse(l),h=0,i=c.options.length;h<i;h++)c.items.push(c.options[h][g]);else{var m=a.trim(b.val()||"");if(!d.allowEmptyOption&&!m.length)return;for(h=0,i=(j=m.split(d.delimiter)).length;h<i;h++)(k={})[f]=j[h],k[g]=j[h],c.options.push(k);c.items=j}},n=function(b,c){function s(a){var b=e&&a.attr(e);return"string"==typeof b&&b.length?JSON.parse(b):null}function t(b,e){var j=k((b=a(b)).val());if(j||d.allowEmptyOption)if(r.hasOwnProperty(j)){if(e){var l=r[j][i];l?a.isArray(l)?l.push(e):r[j][i]=[l,e]:r[j][i]=e}}else{var m=s(b)||{};m[f]=m[f]||b.text(),m[g]=m[g]||j,m[h]=m[h]||b.prop("disabled"),m[i]=m[i]||e,r[j]=m,q.push(m),b.is(":selected")&&c.items.push(j)}}var m,n,o,p,q=c.options,r={};for(c.maxItems=b.attr("multiple")?null:1,m=0,n=(p=b.children()).length;m<n;m++)"optgroup"===(o=p[m].tagName.toLowerCase())?function(b){var d,e,f,g,i;for((f=(b=a(b)).attr("label"))&&((g=s(b)||{})[j]=f,g[l]=f,g[h]=b.prop("disabled"),c.optgroups.push(g)),d=0,e=(i=a("option",b)).length;d<e;d++)t(i[d],f)}(p[m]):"option"===o&&t(p[m])};return this.each(function(){if(!this.selectize){var e=a(this),f=this.tagName.toLowerCase(),g=e.attr("placeholder")||e.attr("data-placeholder");g||d.allowEmptyOption||(g=e.children('option[value=""]').text());var h={placeholder:g,options:[],optgroups:[],items:[]};("select"===f?n:m)(e,h),new w(e,a.extend(!0,{},c,h,b))}})},a.fn.selectize.defaults=w.defaults,a.fn.selectize.support={validity:i},w.define("drag_drop",function(b){if(!a.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var c=this;c.lock=function(){var a=c.lock;return function(){var b=c.$control.data("sortable");return b&&b.disable(),a.apply(c,arguments)}}(),c.unlock=function(){var a=c.unlock;return function(){var b=c.$control.data("sortable");return b&&b.enable(),a.apply(c,arguments)}}(),c.setup=function(){var b=c.setup;return function(){b.apply(this,arguments);var d=c.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:c.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")),d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var b=c.$activeItems?c.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(a(this).attr("data-value"))}),c.setValue(e),c.setActiveItem(b)}})}}()}}),w.define("dropdown_header",function(b){var d,c=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},b),c.setup=(d=c.setup,function(){d.apply(c,arguments),c.$dropdown_header=a(b.html(b)),c.$dropdown.prepend(c.$dropdown_header)})}),w.define("optgroup_columns",function(b){var c=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b),this.getAdjacentOption=function(b,c){var d=b.closest("[data-group]").find("[data-selectable]"),e=d.index(b)+c;return 0<=e&&e<d.length?d.eq(e):a()},this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e,f,g;return!this.isOpen||37!==b.keyCode&&39!==b.keyCode?a.apply(this,arguments):(c.ignoreHover=!0,d=(g=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((e=(f=(g=37===b.keyCode?g.prev("[data-group]"):g.next("[data-group]")).find("[data-selectable]")).eq(Math.min(f.length-1,d))).length&&this.setActiveOption(e)))}}();var d=function(){var a,b=d.width,c=document;return void 0===b&&((a=c.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a)),b},e=function(){var e,f,g,h,i,j,k;if((f=(k=a("[data-group]",c.$dropdown_content)).length)&&c.$dropdown_content.width()){if(b.equalizeHeight){for(e=g=0;e<f;e++)g=Math.max(g,k.eq(e).height());k.css({height:g})}b.equalizeWidth&&(j=c.$dropdown_content.innerWidth()-d(),h=Math.round(j/f),k.css({width:h}),1<f&&(i=j-h*(f-1),k.eq(f-1).css({width:i})))}};(b.equalizeHeight||b.equalizeWidth)&&(m_after(this,"positionDropdown",e),m_after(this,"refreshOptions",e))}),w.define("remove_button",function(b){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b),("single"!==this.settings.mode?function(b,c){var g,d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+l(c.title)+'">'+c.label+"</a>";b.setup=(g=d.setup,function(){if(c.append){var h=d.settings.render.item;d.settings.render.item=function(a){return function(a,b){var c=a.search(/(<\/[^>]+>\s*)$/);return a.substring(0,c)+b+a.substring(c)}(h.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(b){if(b.preventDefault(),!d.isLocked){var c=a(b.currentTarget).parent();d.setActiveItem(c),d.deleteSelection()&&d.setCaret(d.items.length)}})})}:function(b,c){function f(b,c){return a("<span>").append(b).append(c)}c.className="remove-single";var g,d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+l(c.title)+'">'+c.label+"</a>";b.setup=(g=d.setup,function(){if(c.append){var h=a(d.$input.context).attr("id"),i=(a("#"+h),d.settings.render.item);d.settings.render.item=function(a){return f(i.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(a){a.preventDefault(),d.isLocked||d.clear()})})})(this,b)}),w.define("restore_on_backspace",function(a){var c;a.text=a.text||function(a){return a[this.settings.labelField]},this.onKeyDown=(c=this.onKeyDown,function(b){var d,e;return 8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(d=this.caretPos-1)&&d<this.items.length?(e=this.options[this.items[d]],this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0)),void b.preventDefault()):c.apply(this,arguments)})}),w}),function(){function t(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}function i(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function n(t,e){return o.call((e||document).querySelectorAll(t))}function s(){n("input.awesomplete").forEach(function(t){new r(t)})}var r=function(t,n){var s=this;Awesomplete.count=(Awesomplete.count||0)+1,this.count=Awesomplete.count,this.isOpened=!1,this.input=i(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-owns","awesomplete_list_"+this.count),this.input.setAttribute("role","combobox"),n=n||{},function(t,e,i){for(var n in e){var s=e[n],r=t.input.getAttribute("data-"+n.toLowerCase());"number"==typeof s?t[n]=parseInt(r):!1===s?t[n]=null!==r:s instanceof Function?t[n]=null:t[n]=r,t[n]||0===t[n]||(t[n]=n in i?i[n]:s)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:r.DATA,filter:r.FILTER_CONTAINS,sort:!1!==n.sort&&r.SORT_BYLENGTH,item:r.ITEM,replace:r.REPLACE},n),this.index=-1,this.container=i.create("div",{className:"awesomplete",around:t}),this.ul=i.create("ul",{hidden:"hidden",role:"listbox",id:"awesomplete_list_"+this.count,inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-atomic":!0,inside:this.container,textContent:0!=this.minChars?"Type "+this.minChars+" or more characters for results.":"Begin typing for results."}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;s.opened&&(13===e&&s.selected?(t.preventDefault(),s.select()):27===e?s.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),s[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){t.preventDefault()},click:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),s.select(e,t.target))}}}},i.bind(this.input,this._events.input),i.bind(this.input.form,this._events.form),i.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],r.all.push(this)};r.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&-1<t.indexOf(","))this._list=t.split(/\s*,\s*/);else if((t=i(t))&&t.children){var e=[];o.apply(t.children).forEach(function(t){if(!t.disabled){var i=t.textContent.trim(),n=t.value||i,s=t.label||i;""!==n&&e.push({label:s,value:n})}}),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return-1<this.index},get opened(){return this.isOpened},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,this.status.setAttribute("hidden",""),i.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.status.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),i.fire(this.input,"awesomplete-open")},destroy:function(){i.unbind(this.input,this._events.input),i.unbind(this.input.form,this._events.form);var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var e=r.all.indexOf(this);-1!==e&&r.all.splice(e,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.ul.children.length,e=this.index-1;this.goto(this.selected&&-1!=e?e:t-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),-1<(this.index=t)&&0<e.length&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent+", list item "+(t+1)+" of "+e.length,this.input.setAttribute("aria-activedescendant",this.ul.id+"_item_"+this.index),this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,i.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=i.siblingIndex(t):t=this.ul.children[this.index],t){var n=this.suggestions[this.index];i.fire(this.input,"awesomplete-select",{text:n,origin:e||t})&&(this.replace(n),this.close({reason:"select"}),i.fire(this.input,"awesomplete-selectcomplete",{text:n}))}},evaluate:function(){var e=this,i=this.input.value;i.length>=this.minChars&&this._list&&0<this._list.length?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(n){return new t(e.data(n,i))}).filter(function(t){return e.filter(t,i)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(t,n){e.ul.appendChild(e.item(t,i,n))}),0===this.ul.children.length?(this.status.textContent="No results found",this.close({reason:"nomatches"})):(this.open(),this.status.textContent=this.ul.children.length+" results found")):(this.close({reason:"nomatches"}),this.status.textContent="No results found")}},r.all=[],r.FILTER_CONTAINS=function(t,e){return RegExp(i.regExpEscape(e.trim()),"i").test(t)},r.FILTER_STARTSWITH=function(t,e){return RegExp("^"+i.regExpEscape(e.trim()),"i").test(t)},r.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},r.ITEM=function(t,e,n){return i.create("li",{innerHTML:""===e.trim()?t:t.replace(RegExp(i.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false",id:"awesomplete_list_"+this.count+"_item_"+n})},r.REPLACE=function(t){this.input.value=t.value},r.DATA=function(t){return t},Object.defineProperty(t.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),t.prototype.toString=t.prototype.valueOf=function(){return""+this.label};var o=Array.prototype.slice;i.create=function(t,e){var n=document.createElement(t);for(var s in e){var r=e[s];if("inside"===s)i(r).appendChild(n);else if("around"===s){var o=i(r);o.parentNode.insertBefore(n,o),n.appendChild(o)}else s in n?n[s]=r:n.setAttribute(s,r)}return n},i.bind=function(t,e){if(t)for(var i in e){var n=e[i];i.split(/\s+/).forEach(function(e){t.addEventListener(e,n)})}},i.unbind=function(t,e){if(t)for(var i in e){var n=e[i];i.split(/\s+/).forEach(function(e){t.removeEventListener(e,n)})}},i.fire=function(t,e,i){var n=document.createEvent("HTMLEvents");for(var s in n.initEvent(e,!0,!0),i)n[s]=i[s];return t.dispatchEvent(n)},i.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},i.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?s():document.addEventListener("DOMContentLoaded",s)),r.$=i,r.$$=n,"undefined"!=typeof self&&(self.Awesomplete=r),"object"==typeof module&&module.exports&&(module.exports=r)}();var smoothScroll={scrollToTarget:function(selector,extraOffset){void 0!==selector&&$("html, body").animate({scrollTop:$(selector).offset().top-(extraOffset&&!isNaN(extraOffset)?extraOffset:0)},1e3)},scrollToTop:function(){$("html, body").animate({scrollTop:0},1e3)}};if(!function(factory){var registeredInModuleLoader;if("function"==typeof define&&define.amd&&(define(factory),registeredInModuleLoader=!0),"object"==typeof exports&&(module.exports=factory(),registeredInModuleLoader=!0),!registeredInModuleLoader){var OldCookies=window.Cookies,api=window.Cookies=factory();api.noConflict=function(){return window.Cookies=OldCookies,api}}}(function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes)result[key]=attributes[key]}return result}function decode(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function init(converter){function api(){}function set(key,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=extend({path:"/"},api.defaults,attributes)).expires&&(attributes.expires=new Date(+new Date+864e5*attributes.expires)),attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{var result=JSON.stringify(value);/^[\{\[]/.test(result)&&(value=result)}catch(e){}value=converter.write?converter.write(value,key):encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=key+"="+value+stringifiedAttributes}}function get(key,json){if("undefined"!=typeof document){for(var jar={},cookies=document.cookie?document.cookie.split("; "):[],i=0;i<cookies.length;i++){var parts=cookies[i].split("="),cookie=parts.slice(1).join("=");json||'"'!==cookie.charAt(0)||(cookie=cookie.slice(1,-1));try{var name=decode(parts[0]);if(cookie=(converter.read||converter)(cookie,name)||decode(cookie),json)try{cookie=JSON.parse(cookie)}catch(e){}if(jar[name]=cookie,key===name)break}catch(e){}}return key?jar[key]:jar}}return api.set=set,api.get=function(key){return get(key,!1)},api.getJSON=function(key){return get(key,!0)},api.remove=function(key,attributes){set(key,"",extend(attributes,{expires:-1}))},api.defaults={},api.withConverter=init,api}(function(){})}),function($){"use strict";var templates={},queue={},formatters={};function addTemplateFormatter(key,formatter){formatter?formatters[key]=formatter:formatters=$.extend(formatters,key)}function uniqueId(){return(new Date).getTime()}function prepareTemplate(template,data,settings){!function(template,data,settings){processElements("data-content",template,data=data||{},settings,function($elem,value){$elem.html(applyFormatters($elem,value,"content",settings))}),processElements("data-content-append",template,data,settings,function($elem,value){$elem.append(applyFormatters($elem,value,"content",settings))}),processElements("data-content-prepend",template,data,settings,function($elem,value){$elem.prepend(applyFormatters($elem,value,"content",settings))}),processElements("data-content-text",template,data,settings,function($elem,value){$elem.text(applyFormatters($elem,value,"content",settings))}),processElements("data-innerHTML",template,data,settings,function($elem,value){$elem.html(applyFormatters($elem,value,"content",settings))}),processElements("data-src",template,data,settings,function($elem,value){$elem.attr("src",applyFormatters($elem,value,"src",settings))},function($elem){$elem.remove()}),processElements("data-href",template,data,settings,function($elem,value){$elem.attr("href",applyFormatters($elem,value,"href",settings))},function($elem){$elem.remove()}),processElements("data-alt",template,data,settings,function($elem,value){$elem.attr("alt",applyFormatters($elem,value,"alt",settings))}),processElements("data-id",template,data,settings,function($elem,value){$elem.attr("id",applyFormatters($elem,value,"id",settings))}),processElements("data-value",template,data,settings,function($elem,value){$elem.attr("value",applyFormatters($elem,value,"value",settings))}),processElements("data-class",template,data,settings,function($elem,value){$elem.addClass(applyFormatters($elem,value,"class",settings))}),processElements("data-link",template,data,settings,function($elem,value){var $linkElem=$("<a/>");$linkElem.attr("href",applyFormatters($elem,value,"link",settings)),$linkElem.html($elem.html()),$elem.html($linkElem)}),processElements("data-link-wrap",template,data,settings,function($elem,value){var $linkElem=$("<a/>");$linkElem.attr("href",applyFormatters($elem,value,"link-wrap",settings)),$elem.wrap($linkElem)}),processElements("data-options",template,data,settings,function($elem,value){$(value).each(function(){$("<option/>").attr("value",this).text(this).appendTo($elem)})}),function(template,data,settings){$("[data-template-bind]",template).each(function(){var $this=$(this),param=$.parseJSON($this.attr("data-template-bind"));$this.removeAttr("data-template-bind"),$(param).each(function(){var value;if(value="object"==typeof this.value?getValue(data,this.value.data):getValue(data,this.value),this.attribute){if(!valueIsAllowedByBindingOptions(this,value,settings))return void $this.remove();switch(this.attribute){case"content":case"innerHTML":$this.html(applyDataBindFormatters($this,value,this));break;case"contentAppend":$this.append(applyDataBindFormatters($this,value,this));break;case"contentPrepend":$this.prepend(applyDataBindFormatters($this,value,this));break;case"contentText":$this.text(applyDataBindFormatters($this,value,this));break;case"options":var optionsData=this;$(value).each(function(){$("<option/>").attr("value",this[optionsData.value.value]).text(applyDataBindFormatters($this,this[optionsData.value.content],optionsData)).attr("selected",null!=typeof this[optionsData.value.selected]&&this[optionsData.value.selected]).appendTo($this)});break;default:$this.attr(this.attribute,applyDataBindFormatters($this,value,this))}}})})}(template,data,settings)}(template,data,settings),$(this).each(function(){var $templateHtml=$(template.html());settings.beforeInsert&&settings.beforeInsert($templateHtml,data),settings.append?$(this).append($templateHtml):settings.prepend?$(this).prepend($templateHtml):$(this).html($templateHtml),settings.afterInsert&&settings.afterInsert($templateHtml,data)}),"function"==typeof settings.complete&&settings.complete.call($(this))}function processElements(attribute,template,data,settings,dataBindFunction,noDataFunction){$("["+attribute+"]",template).each(function(){var $this=$(this),param=$this.attr(attribute),value=getValue(data,param);valueIsAllowedByBindingOptions($this,value,settings)?($this.removeAttr(attribute),void 0!==value&&dataBindFunction?dataBindFunction($this,value):noDataFunction&&noDataFunction($this)):$this.remove()})}function valueIsAllowedByBindingOptions(bindingOptionsContainer,value,settings){var bindingOptions=function(bindingOptionsContainer,settings){var bindingOptions={};return bindingOptionsContainer instanceof jQuery&&bindingOptionsContainer.attr("data-binding-options")?(bindingOptions=$.parseJSON(bindingOptionsContainer.attr("data-binding-options")),bindingOptionsContainer.removeAttr("data-binding-options")):"object"==typeof bindingOptionsContainer&&bindingOptionsContainer.hasOwnProperty("bindingOptions")&&(bindingOptions=bindingOptionsContainer.bindingOptions),$.extend({},settings.bindingOptions,bindingOptions)}(bindingOptionsContainer,settings);return!(bindingOptions.ignoreUndefined&&void 0===value||bindingOptions.ignoreNull&&null===value||bindingOptions.ignoreEmptyString&&""===value)}function applyDataBindFormatters($elem,value,data,settings){return data.formatter&&formatters[data.formatter]?formatters[data.formatter].call($elem,value,data.formatOptions,settings):value}function getValue(data,param){if("this"===param)return data;for(var part,paramParts=param.split("."),value=data;(part=paramParts.shift())&&void 0!==value&&null!=value;)value=value[part];return value}function applyFormatters($elem,value,attr,settings){var formatter,formatterTarget=$elem.attr("data-format-target");if(formatterTarget!==attr&&(formatterTarget||"content"!==attr)||!(formatter=$elem.attr("data-format"))||"function"!=typeof formatters[formatter])return value;var formatOptions=$elem.attr("data-format-options");return formatters[formatter].call($elem[0],value,formatOptions,$.extend({},settings))}addTemplateFormatter("nestedTemplateFormatter",function(value,options,internalSettings){if(options){"string"==typeof options&&"{"===options[0]&&(options=$.parseJSON(options));var parentElement=options.parentElement||"div",template=options.template||options;return options.parentElement?$("<"+parentElement+"/>").loadTemplate(template,value,internalSettings):$("<"+parentElement+"/>").loadTemplate(template,value,internalSettings).children()}}),$.fn.loadTemplate=function loadTemplate(template,data,options){var $template,isFile,settings;return data=data||{},settings=$.extend(!0,{async:!0,overwriteCache:!1,complete:null,success:null,error:function(){$(this).each(function(){$(this).html(settings.errorMessage)})},errorMessage:"There was an error loading the template.",paged:!1,pageNo:1,elemPerPage:10,append:!1,prepend:!1,beforeInsert:null,afterInsert:null,bindingOptions:{ignoreUndefined:!1,ignoreNull:!1,ignoreEmptyString:!1}},options),"array"===$.type(data)?function(template,data,settings){settings=settings||{};var newOptions,$that=this,todo=data.length,doPrepend=settings.prepend&&!settings.append,done=0,success=0,errored=!1,errorObjects=[];if(settings.paged){var startNo=(settings.pageNo-1)*settings.elemPerPage;data=data.slice(startNo,startNo+settings.elemPerPage),todo=data.length}return newOptions=$.extend({},settings,{async:!1,complete:function(){this.html&&(doPrepend?$that.prepend(this.html()):$that.append(this.html())),++done!==todo&&!errored||(errored&&settings&&"function"==typeof settings.error&&settings.error.call($that,errorObjects),settings&&"function"==typeof settings.complete&&settings.complete())},success:function(){++success===todo&&settings&&"function"==typeof settings.success&&settings.success()},error:function(e){errored=!0,errorObjects.push(e)}}),settings.append||settings.prepend||$that.html(""),doPrepend&&data.reverse(),$(data).each(function(){var $div=$("<div/>");if(loadTemplate.call($div,template,this,newOptions),errored)return!1}),this}.call(this,template,data,settings):("string"==typeof template&&-1<template.indexOf("/")||($template=$(template),"string"==typeof template&&0===template.indexOf("#")&&(settings.isFile=!1)),(isFile=settings.isFile||void 0===settings.isFile&&(void 0===$template||0===$template.length))&&!settings.overwriteCache&&templates[template]?function(template,selection,data,settings){var $templateContainer=templates[template].clone();prepareTemplate.call(selection,$templateContainer,data,settings),"function"==typeof settings.success&&settings.success()}(template,this,data,settings):isFile&&!settings.overwriteCache&&templates.hasOwnProperty(template)?function(template,selection,data,settings){queue[template]?queue[template].push({data:data,selection:selection,settings:settings}):queue[template]=[{data:data,selection:selection,settings:settings}]}(template,this,data,settings):isFile?function(template,selection,data,settings){var $templateContainer=$("<div/>");templates[template]=null;var url,templateUrl=template;settings.overwriteCache&&(templateUrl=-1!==(url=templateUrl).indexOf("?")?url+"&_="+uniqueId():url+"?_="+uniqueId()),$.ajax({url:templateUrl,async:settings.async,success:function(templateContent){$templateContainer.html(templateContent),function($templateContainer,template,selection,data,settings){var value;for(templates[template]=$templateContainer.clone(),prepareTemplate.call(selection,$templateContainer,data,settings),"function"==typeof settings.success&&settings.success.call(selection);queue[template]&&(value=queue[template].shift());)prepareTemplate.call(value.selection,templates[template].clone(),value.data,value.settings),"function"==typeof value.settings.success&&value.settings.success.call(value.selection)}($templateContainer,template,selection,data,settings)},error:function(e){!function(template,selection,settings,error){var value;for("function"==typeof settings.error&&settings.error.call(selection,error),$(queue[template]).each(function(key,value){"function"==typeof value.settings.error&&value.settings.error.call(value.selection,error)}),"function"==typeof settings.complete&&settings.complete.call(selection);queue[template]&&(value=queue[template].shift());)"function"==typeof value.settings.complete&&value.settings.complete.call(value.selection);void 0!==queue[template]&&0<queue[template].length&&(queue[template]=[])}(template,selection,settings,e)}})}(template,this,data,settings):function($template,selection,data,settings){var $templateContainer=$("<div/>");($template.is("script")||$template.is("template"))&&($template=$.parseHTML($.trim($template.html()))),$templateContainer.html($template),prepareTemplate.call(selection,$templateContainer,data,settings),"function"==typeof settings.success&&settings.success()}($template,this,data,settings),this)},$.addTemplateFormatter=addTemplateFormatter}(jQuery),smoothScroll={scrollToTarget:function(selector,extraOffset){void 0!==selector&&$("html, body").animate({scrollTop:$(selector).offset().top-(extraOffset&&!isNaN(extraOffset)?extraOffset:0)},1e3)},scrollToTop:function(){$("html, body").animate({scrollTop:0},1e3)}},$(document).ready(function(){$(document).on("click","#logout-user",function(e){clevertap&&clevertap.logout()}),setTimeout(function(){$(".scroll-to").on("click",function(event){event.preventDefault();var self=$(this),offset=self.data("offset"),targetId=self.attr("href");offset?smoothScroll.scrollToTarget(targetId,offset):smoothScroll.scrollToTarget(targetId)})},5e3),$(".scroll-top").on("click",function(event){event.preventDefault(),smoothScroll.scrollToTop()})}),$("#back-to-top").length){var scrollTrigger=100,backToTop=function(){var scrollTop=$(window).scrollTop();scrollTrigger<scrollTop?$("#back-to-top").addClass("show"):$("#back-to-top").removeClass("show")};backToTop(),$(window).on("scroll",function(){backToTop()}),$("#back-to-top").on("click",function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},700)})}$(document).ready(function(){function pushToCleverTap(evt){var $self=$(this);window.trackCleverTapClassFn($self)}window.trackCleverTapClassFn=function($self){var data=$self.data(),name=data.trackName,source=data.trackSource,page=data.trackPage,attrs=data.trackAttrs,title=data.trackTitle,link=data.trackLink;if(name){var trackingData={};if(attrs&&"object"==typeof attrs&&!Array.isArray(attrs)&&0<Object.keys(data).length)for(var key in attrs){var trackKey=attrs[key],trackVal=data["track"+key];null!=trackVal&&""!==trackVal&&(trackingData[trackKey]=trackVal)}source&&(trackingData.Source=source),null!=page&&(trackingData.Page=page),title&&(trackingData[title]=$self.attr("title")||title),link&&(trackingData.Link=$self.attr("href")||link),window.clevertap&&window.clevertap.event&&(trackingData&&0<Object.keys(trackingData).length?window.trackCleverTapClassFunction(name,trackingData):window.trackCleverTapClassFunction(name))}},window.bindClevertapEvent=function(){$(".track-clevertap").off("click change",pushToCleverTap).on("click change",pushToCleverTap)},window.bindClevertapEvent()}),function(a,b){"function"==typeof define&&define.amd?define("sifter",b):"object"==typeof exports?module.exports=b():a.Sifter=b()}(this,function(){var a=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){if(!(a=e(String(a||"").toLowerCase()))||!a.length)return[];var b,c,d,g,i=[],j=a.split(/ +/);for(b=0,c=j.length;b<c;b++){if(d=f(j[b]),this.settings.diacritics)for(g in h)h.hasOwnProperty(g)&&(d=d.replace(new RegExp(g,"g"),h[g]));i.push({string:j[b],regex:new RegExp(d,"i")})}return i},a.prototype.iterator=function(a,b){(g(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)}).apply(a,[b])},a.prototype.getScoreFunction=function(a,b){var e,f,g,h;function i(a,b){var c,d;return a?-1===(d=(a=String(a||"")).search(b.regex))?0:(c=b.string.length/a.length,0===d&&(c+=.5),c):0}a=this.prepareSearch(a,b),f=a.tokens,e=a.options.fields,g=f.length,h=a.options.nesting;var j=function(){var a=e.length;return a?1===a?function(a,b){return i(d(b,e[0],h),a)}:function(b,c){for(var f=0,g=0;f<a;f++)g+=i(d(c,e[f],h),b);return g/a}:function(){return 0}}();return g?1===g?function(a){return j(f[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;c<g;c++){if((b=j(f[c],a))<=0)return 0;d+=b}return d/g}:function(a){for(var b=0,c=0;b<g;b++)c+=j(f[b],a);return c/g}:function(){return 0}},a.prototype.getSortFunction=function(a,c){var e,f,g,h,i,j,k,l,m,n,o;if(o=!(a=(g=this).prepareSearch(a,c)).query&&c.sort_empty||c.sort,m=function(a,b){return"$score"===a?b.score:d(g.items[b.id],a,c.nesting)},i=[],o)for(e=0,f=o.length;e<f;e++)!a.query&&"$score"===o[e].field||i.push(o[e]);if(a.query){for(n=!0,e=0,f=i.length;e<f;e++)if("$score"===i[e].field){n=!1;break}n&&i.unshift({field:"$score",direction:"desc"})}else for(e=0,f=i.length;e<f;e++)if("$score"===i[e].field){i.splice(e,1);break}for(l=[],e=0,f=i.length;e<f;e++)l.push("desc"===i[e].direction?-1:1);return(j=i.length)?1===j?(h=i[0].field,k=l[0],function(a,c){return k*b(m(h,a),m(h,c))}):function(a,c){var d,e,f;for(d=0;d<j;d++)if(f=i[d].field,e=l[d]*b(m(f,a),m(f,c)))return e;return 0}:null},a.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;var d=(b=c({},b)).fields,e=b.sort,f=b.sort_empty;return d&&!g(d)&&(b.fields=[d]),e&&!g(e)&&(b.sort=[e]),f&&!g(f)&&(b.sort_empty=[f]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},a.prototype.search=function(a,b){var c,d,e,f,g=this;return d=this.prepareSearch(a,b),b=d.options,a=d.query,f=b.score||g.getScoreFunction(d),a.length?g.iterator(g.items,function(a,e){c=f(a),(!1===b.filter||0<c)&&d.items.push({score:c,id:e})}):g.iterator(g.items,function(a,b){d.items.push({score:1,id:b})}),(e=g.getSortFunction(d,b))&&d.items.sort(e),d.total=d.items.length,"number"==typeof b.limit&&(d.items=d.items.slice(0,b.limit)),d};var b=function(a,b){return"number"==typeof a&&"number"==typeof b||(a=i(String(a||"")),b=i(String(b||""))),b<a?1:a<b?-1:0},c=function(a,b){var c,d,e,f;for(c=1,d=arguments.length;c<d;c++)if(f=arguments[c])for(e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},d=function(a,b,c){if(a&&b){if(!c)return a[b];for(var d=b.split(".");d.length&&(a=a[d.shift()]););return a}},e=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},f=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},g=Array.isArray||"undefined"!=typeof $&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h={a:"[aá¸á¸ÄÄÃÃ¢ÇÇÈºâ±¥È¦È§áº áº¡ÃÃ¤ÃÃ ÃÃ¡ÄÄÃÃ£ÃÃ¥ÄÄÃÄÄ]",b:"[bâ¢Î²ÎBà¸¿ðá]",c:"[cÄÄÄÄÄÄÄÄCÌcÌÃÃ§á¸á¸È»È¼ÆÆÉá´ï¼£ï½]",d:"[dÄÄá¸á¸á¸á¸á¸á¸á¸á¸á¸á¸ÄÄDÌ¦dÌ¦ÆÉÆÉÆÆáµ­á¶á¶È¡á´ï¼¤ï½Ã°]",e:"[eÃÃ©ÃÃ¨ÃÃªá¸á¸ÄÄÄÄáº¼áº½á¸á¸áººáº»ÄÄÃÃ«ÄÄÈ¨È©ÄÄá¶ÉÉÈÈáº¾áº¿á»á»á»á»á»á»á¸á¸á¸á¸á¸á¸ÈÈáº¸áº¹á»á»â±¸á´ï¼¥ï½ÉÇÆÆÎµ]",f:"[fÆÆá¸á¸]",g:"[gÉ¢â²Ç¤Ç¥ÄÄÄÄÄ¢Ä£ÆÉ Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áºáºá¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ]",i:"[iÃÃ­ÃÃ¬Ä¬Ä­ÃÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»á»ÈÈÈÈá»á»á¸¬á¸­ÆÉ¨É¨Ìáµ»á¶Ä°iIÄ±Éªï¼©ï½]",j:"[jÈ·Ä´ÄµÉÉÊÉÊ²]",k:"[kÆÆêêá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â­]",l:"[lÅÅÄ½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿ÅÈ½Æâ± â±¡â±¢É«É¬á¶É­È´Êï¼¬ï½]",n:"[nÅÅÇ¸Ç¹ÅÅÃÃ±á¹á¹ÅÅá¹á¹á¹á¹á¹á¹NÌnÌÆÉ²È Æáµ°á¶É³ÈµÉ´ï¼®ï½ÅÅ]",o:"[oÃÃ¸ÃÃ¶ÃÃ³ÃÃ²ÃÃ´ÇÇÅÅÅÅÈ®È¯á»á»ÆÉµÆ Æ¡á»á»ÅÅÃÃµÇªÇ«ÈÈÕÖ]",p:"[pá¹á¹á¹á¹â±£áµ½Æ¤Æ¥áµ±]",q:"[qêêÊ ÉÉêêqÌ]",r:"[rÅÅÉÉÅÅÅÅá¹á¹ÈÈÈÈá¹á¹â±¤É½]",s:"[sÅÅá¹ á¹¡á¹¢á¹£ê¨ê©ÅÅÅ Å¡ÅÅÈÈSÌsÌ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊÈÈá¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­ÉÊá»¤á»¥ÃÃ¼ÃÃºÃÃ¹ÃÃ»ÇÇÅ°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³ÈÈâª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Êêêâ±±Ê]",w:"[wáºáºáºáºÅ´Åµáºáºáºáºáºáº]",x:"[xáºáºáºáºÏ]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºáºá»´á»µÉÉÆ³Æ´]",z:"[zÅ¹ÅºáºáºÅ½Å¾Å»Å¼áºáºáºáºÆµÆ¶]"},i=function(){var a,b,c,d,e="",f={};for(c in h)if(h.hasOwnProperty(c))for(e+=d=h[c].substring(2,h[c].length-1),a=0,b=d.length;a<b;a++)f[d.charAt(a)]=c;var g=new RegExp("["+e+"]","g");return function(a){return a.replace(g,function(a){return f[a]}).toLowerCase()}}();return a}),function(a,b){"function"==typeof define&&define.amd?define("microplugin",b):"object"==typeof exports?module.exports=b():a.MicroPlugin=b()}(this,function(){var a={mixin:function(a){a.plugins={},a.prototype.initializePlugins=function(a){var c,d,e,f=this,g=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},b.isArray(a))for(c=0,d=a.length;c<d;c++)"string"==typeof a[c]?g.push(a[c]):(f.plugins.settings[a[c].name]=a[c].options,g.push(a[c].name));else if(a)for(e in a)a.hasOwnProperty(e)&&(f.plugins.settings[e]=a[e],g.push(e));for(;g.length;)f.require(g.shift())},a.prototype.loadPlugin=function(b){var c=this,d=c.plugins,e=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw new Error('Unable to find "'+b+'" plugin');d.requested[b]=!0,d.loaded[b]=e.fn.apply(c,[c.plugins.settings[b]||{}]),d.names.push(b)},a.prototype.require=function(a){var b=this,c=b.plugins;if(!b.plugins.loaded.hasOwnProperty(a)){if(c.requested[a])throw new Error('Plugin has circular dependency ("'+a+'")');b.loadPlugin(a)}return c.loaded[a]},a.define=function(b,c){a.plugins[b]={name:b,fn:c}}}},b={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return a}),function(a,b){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=b(a.jQuery,a.Sifter,a.MicroPlugin)}(this,function(a,b,c){"use strict";var d=function(a,b){if("string"!=typeof b||b.length){var c="string"==typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(0<=e&&0<a.data.length){var f=a.data.match(c),g=document.createElement("span");g.className="highlight";var h=a.splitText(e),i=(h.splitText(f[0].length),h.cloneNode(!0));g.appendChild(i),h.parentNode.replaceChild(g,h),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName)&&("highlight"!==a.className||"SPAN"!==a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=d(a.childNodes[j]);return b};return a.each(function(){d(this)})}};function e(){}function j(a){return void 0!==a}function k(a){return null==a?null:"boolean"==typeof a?a?"1":"0":a+""}function l(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function p(a,b,c){var d,e=a.trigger,f={};for(d in a.trigger=function(){var c=arguments[0];if(-1===b.indexOf(c))return e.apply(a,arguments);f[c]=arguments},c.apply(a,[]),a.trigger=e,f)f.hasOwnProperty(d)&&e.apply(a,f[d])}function r(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length),b.start=c.text.length-d,b.length=d}return b}function t(b,c){return b?(w.$testInput||(w.$testInput=a("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),w.$testInput.text(b),function(a,b,c){var d,e,f={};for(d=0,e=c.length;d<e;d++)f[c[d]]=a.css(c[d]);b.css(f)}(c,w.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),w.$testInput.width()):0}function u(a){var b=null,c=function(c,d){var e,f,g,h,i,j,k,l;d=d||{},(c=c||window.event||{}).metaKey||c.altKey||!d.force&&!1===a.data("grow")||(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(g=48<=(f=c.keyCode)&&f<=57||65<=f&&f<=90||96<=f&&f<=111||186<=f&&f<=222||32===f,46===f||8===f?(l=r(a[0])).length?e=e.substring(0,l.start)+e.substring(l.start+l.length):8===f&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):46===f&&void 0!==l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1)):g&&(j=c.shiftKey,k=String.fromCharCode(c.keyCode),e+=k=j?k.toUpperCase():k.toLowerCase())),h=a.attr("placeholder"),!e&&h&&(e=h),(i=t(e,a)+4)!==b&&(b=i,a.width(i),a.triggerHandler("resize")))};a.on("keydown keyup update blur",c),c()}function v(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML}a.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var a=this.parentNode;a.replaceChild(this.firstChild,this),a.normalize()}).end()},e.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},off:function(a,b){var c=arguments.length;return 0===c?delete this._events:1===c?delete this._events[a]:(this._events=this._events||{},void(a in this._events!=0&&this._events[a].splice(this._events[a].indexOf(b),1)))},trigger:function(a){if(this._events=this._events||{},a in this._events!=0)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};function m_after(a,b,c){var d=a[b];a[b]=function(){var b=d.apply(a,arguments);return c.apply(a,arguments),b}}var f=/Mac/.test(navigator.userAgent),g=f?91:17,h=f?18:17,i=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,w=function(c,d){var e,f,g,h,i=this;(h=c[0]).selectize=i;var j=window.getComputedStyle&&window.getComputedStyle(h,null);if(g=(g=j?j.getPropertyValue("direction"):h.currentStyle&&h.currentStyle.direction)||c.parents("[dir]:first").attr("dir")||"",a.extend(i,{order:0,settings:d,$input:c,tabIndex:c.attr("tabindex")||"",tagType:"select"===h.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(g),eventNS:".selectize"+ ++w.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:c.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===d.loadThrottle?i.onSearchChange:function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}}(i.onSearchChange,d.loadThrottle)}),i.sifter=new b(this.options,{diacritics:d.diacritics}),i.settings.options){for(e=0,f=i.settings.options.length;e<f;e++)i.registerOption(i.settings.options[e]);delete i.settings.options}if(i.settings.optgroups){for(e=0,f=i.settings.optgroups.length;e<f;e++)i.registerOptionGroup(i.settings.optgroups[e]);delete i.settings.optgroups}i.settings.mode=i.settings.mode||(1===i.settings.maxItems?"single":"multi"),"boolean"!=typeof i.settings.hideSelected&&(i.settings.hideSelected="multi"===i.settings.mode),i.initializePlugins(i.settings.plugins),i.setupCallbacks(),i.setupTemplates(),i.setup()};return e.mixin(w),void 0!==c?c.mixin(w):function(b){(b=b||{}).explanation&&(console.group,console.group)}({explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),a.extend(w.prototype,{setup:function(){var b,c,d,e,j,k,l,m,n,o,p=this,r=p.settings,s=p.eventNS,t=a(window),v=a(document),w=p.$input;if(l=p.settings.mode,m=w.attr("class")||"",b=a("<div>").addClass(r.wrapperClass).addClass(m).addClass(l),c=a("<div>").addClass(r.inputClass).addClass("items").appendTo(b),d=a('<input type="text" autocomplete="off" />').appendTo(c).attr("tabindex",w.is(":disabled")?"-1":p.tabIndex),k=a(r.dropdownParent||b),e=a("<div>").addClass(r.dropdownClass).addClass(l).hide().appendTo(k),j=a("<div>").addClass(r.dropdownContentClass).appendTo(e),(o=w.attr("id"))&&(d.attr("id",o+"-selectized"),a("label[for='"+o+"']").attr("for",o+"-selectized")),p.settings.copyClassesToDropdown&&e.addClass(m),b.css({width:w[0].style.width}),p.plugins.names.length&&(n="plugin-"+p.plugins.names.join(" plugin-"),b.addClass(n),e.addClass(n)),(null===r.maxItems||1<r.maxItems)&&1===p.tagType&&w.attr("multiple","multiple"),p.settings.placeholder&&d.attr("placeholder",r.placeholder),!p.settings.splitOn&&p.settings.delimiter){var x=p.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");p.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}w.attr("autocorrect")&&d.attr("autocorrect",w.attr("autocorrect")),w.attr("autocapitalize")&&d.attr("autocapitalize",w.attr("autocapitalize")),d[0].type=w[0].type,p.$wrapper=b,p.$control=c,p.$control_input=d,p.$dropdown=e,p.$dropdown_content=j,e.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(a){a.stopImmediatePropagation()}),e.on("mouseenter","[data-selectable]",function(){return p.onOptionHover.apply(p,arguments)}),e.on("mousedown click","[data-selectable]",function(){return p.onOptionSelect.apply(p,arguments)}),function(a){a.on("mousedown","*:not(input)",function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;return b.currentTarget=c,function(){return p.onItemSelect.apply(p,arguments)}.apply(this,[b])})}(c),u(d),c.on({mousedown:function(){return p.onMouseDown.apply(p,arguments)},click:function(){return p.onClick.apply(p,arguments)}}),d.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return p.onKeyDown.apply(p,arguments)},keyup:function(){return p.onKeyUp.apply(p,arguments)},keypress:function(){return p.onKeyPress.apply(p,arguments)},resize:function(){p.positionDropdown.apply(p,[])},blur:function(){return p.onBlur.apply(p,arguments)},focus:function(){return p.ignoreBlur=!1,p.onFocus.apply(p,arguments)},paste:function(){return p.onPaste.apply(p,arguments)}}),v.on("keydown"+s,function(a){p.isCmdDown=a[f?"metaKey":"ctrlKey"],p.isCtrlDown=a[f?"altKey":"ctrlKey"],p.isShiftDown=a.shiftKey}),v.on("keyup"+s,function(a){a.keyCode===h&&(p.isCtrlDown=!1),16===a.keyCode&&(p.isShiftDown=!1),a.keyCode===g&&(p.isCmdDown=!1)}),v.on("mousedown"+s,function(a){if(p.isFocused){if(a.target===p.$dropdown[0]||a.target.parentNode===p.$dropdown[0])return!1;p.$control.has(a.target).length||a.target===p.$control[0]||p.blur(a.target)}}),t.on(["scroll"+s,"resize"+s].join(" "),function(){p.isOpen&&p.positionDropdown.apply(p,arguments)}),t.on("mousemove"+s,function(){p.ignoreHover=!1}),this.revertSettings={$children:w.children().detach(),tabindex:w.attr("tabindex")},w.attr("tabindex",-1).hide().after(p.$wrapper),a.isArray(r.items)&&(p.setValue(r.items),delete r.items),i&&w.on("invalid"+s,function(a){a.preventDefault(),p.isInvalid=!0,p.refreshState()}),p.updateOriginalInput(),p.refreshItems(),p.refreshState(),p.updatePlaceholder(),p.isSetup=!0,w.is(":disabled")&&p.disable(),p.on("change",this.onChange),w.data("selectize",p),w.addClass("selectized"),p.trigger("initialize"),!0===r.preload&&p.onSearchChange("")},setupTemplates:function(){var b=this,c=b.settings.labelField,d=b.settings.optgroupLabelField,e={optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[d])+"</div>"},option:function(a,b){return'<div class="option">'+b(a[c])+"</div>"},item:function(a,b){return'<div class="item">'+b(a[c])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}};b.settings.render=a.extend({},e,b.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)c.hasOwnProperty(a)&&(b=this.settings[c[a]])&&this.on(a,b)},onClick:function(a){var b=this;b.isFocused&&b.isOpen||(b.focus(),a.preventDefault())},onMouseDown:function(b){var c=this,d=b.isDefaultPrevented();if(a(b.target),c.isFocused){if(b.target!==c.$control_input[0])return"single"===c.settings.mode?c.isOpen?c.close():c.open():d||c.setActiveItem(null),!1}else d||window.setTimeout(function(){c.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var c=this;c.isFull()||c.isInputHidden||c.isLocked?b.preventDefault():c.settings.splitOn&&setTimeout(function(){var b=c.$control_input.val();if(b.match(c.settings.splitOn))for(var d=a.trim(b).split(c.settings.splitOn),e=0,f=d.length;e<f;e++)c.createItem(d[e])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);return this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter?(this.createItem(),a.preventDefault(),!1):void 0},onKeyDown:function(a){var b=(a.target,this.$control_input[0],this);if(!b.isLocked){switch(a.keyCode){case 65:if(b.isCmdDown)return void b.selectAll();break;case 27:return void(b.isOpen&&(a.preventDefault(),a.stopPropagation(),b.close()));case 78:if(!a.ctrlKey||a.altKey)break;case 40:if(!b.isOpen&&b.hasOptions)b.open();else if(b.$activeOption){b.ignoreHover=!0;var c=b.getAdjacentOption(b.$activeOption,1);c.length&&b.setActiveOption(c,!0,!0)}return void a.preventDefault();case 80:if(!a.ctrlKey||a.altKey)break;case 38:if(b.$activeOption){b.ignoreHover=!0;var d=b.getAdjacentOption(b.$activeOption,-1);d.length&&b.setActiveOption(d,!0,!0)}return void a.preventDefault();case 13:return void(b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),a.preventDefault()));case 37:return void b.advanceSelection(-1,a);case 39:return void b.advanceSelection(1,a);case 9:return b.settings.selectOnTab&&b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),b.isFull()||a.preventDefault()),void(b.settings.create&&b.createItem()&&a.preventDefault());case 8:case 46:return void b.deleteSelection(a)}return!b.isFull()&&!b.isInputHidden||(f?a.metaKey:a.ctrlKey)?void 0:void a.preventDefault()}9!==a.keyCode&&a.preventDefault()},onKeyUp:function(a){var b=this;if(b.isLocked)return a&&a.preventDefault();var c=b.$control_input.val()||"";b.lastValue!==c&&(b.lastValue=c,b.onSearchChange(c),b.refreshOptions(),b.trigger("type",c))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&(b.loadedSearches.hasOwnProperty(a)||(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this,c=b.isFocused;if(b.isDisabled)return b.blur(),a&&a.preventDefault(),!1;b.ignoreFocus||(b.isFocused=!0,"focus"===b.settings.preload&&b.onSearchChange(""),c||b.trigger("focus"),b.$activeItems.length||(b.showInput(),b.setActiveItem(null),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState())},onBlur:function(a,b){var c=this;if(c.isFocused&&(c.isFocused=!1,!c.ignoreFocus)){if(!c.ignoreBlur&&document.activeElement===c.$dropdown_content[0])return c.ignoreBlur=!0,void c.onFocus(a);var d=function(){c.close(),c.setTextboxValue(""),c.setActiveItem(null),c.setActiveOption(null),c.setCaret(c.items.length),c.refreshState(),b&&b.focus&&b.focus(),c.isBlurring=!1,c.ignoreFocus=!1,c.trigger("blur")};c.isBlurring=!0,c.ignoreFocus=!0,c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):d()}},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var c,d,e=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation()),(d=a(b.currentTarget)).hasClass("create")?e.createItem(null,function(){e.settings.closeAfterSelect&&e.close()}):void 0!==(c=d.attr("data-value"))&&(e.lastQuery=null,e.setTextboxValue(""),e.addItem(c),e.settings.closeAfterSelect?e.close():!e.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&e.setActiveOption(e.getOption(c)))},onItemSelect:function(a){var b=this;b.isLocked||"multi"===b.settings.mode&&(a.preventDefault(),b.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++,a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0),a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden)),b.loading||c.removeClass(b.settings.loadingClass),b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){p(this,b?[]:["change"],function(){this.clear(b),this.addItems(a,b)})},setActiveItem:function(b,c){var d,e,f,g,h,i,j,k,l=this;if("single"!==l.settings.mode){if(!(b=a(b)).length)return a(l.$activeItems).removeClass("active"),l.$activeItems=[],void(l.isFocused&&l.showInput());if("mousedown"===(d=c&&c.type.toLowerCase())&&l.isShiftDown&&l.$activeItems.length){for(k=l.$control.children(".active:last"),g=Array.prototype.indexOf.apply(l.$control[0].childNodes,[k[0]]),(h=Array.prototype.indexOf.apply(l.$control[0].childNodes,[b[0]]))<g&&(j=g,g=h,h=j),e=g;e<=h;e++)i=l.$control[0].childNodes[e],-1===l.$activeItems.indexOf(i)&&(a(i).addClass("active"),l.$activeItems.push(i));c.preventDefault()}else"mousedown"===d&&l.isCtrlDown||"keydown"===d&&this.isShiftDown?b.hasClass("active")?(f=l.$activeItems.indexOf(b[0]),l.$activeItems.splice(f,1),b.removeClass("active")):l.$activeItems.push(b.addClass("active")[0]):(a(l.$activeItems).removeClass("active"),l.$activeItems=[b.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}},setActiveOption:function(b,c,d){var e,f,g,h,i,k=this;k.$activeOption&&k.$activeOption.removeClass("active"),k.$activeOption=null,(b=a(b)).length&&(k.$activeOption=b.addClass("active"),!c&&j(c)||(e=k.$dropdown_content.height(),f=k.$activeOption.outerHeight(!0),c=k.$dropdown_content.scrollTop()||0,i=(h=g=k.$activeOption.offset().top-k.$dropdown_content.offset().top+c)-e+f,e+c<g+f?k.$dropdown_content.stop().animate({scrollTop:i},d?k.settings.scrollDuration:0):g<c&&k.$dropdown_content.stop().animate({scrollTop:h},d?k.settings.scrollDuration:0)))},selectAll:function(){var a=this;"single"!==a.settings.mode&&(a.$activeItems=Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active")),a.$activeItems.length&&(a.hideInput(),a.close()),a.focus())},hideInput:function(){var a=this;a.setTextboxValue(""),a.$control_input.css({opacity:0,position:"absolute",left:a.rtl?1e4:-1e4}),a.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1,a.onFocus()},0))},blur:function(a){this.$control_input[0].blur(),this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;return"string"==typeof b&&(b=[{field:b}]),{fields:a.searchField,conjunction:a.searchConjunction,sort:b,nesting:a.nesting}},search:function(b){var c,d,e,f=this,g=f.settings,h=this.getSearchOptions();if(g.score&&"function"!=typeof(e=f.settings.score.apply(this,[b])))throw new Error('Selectize "score" setting must be a function that returns a function');if(b!==f.lastQuery?(f.lastQuery=b,d=f.sifter.search(b,a.extend(h,{score:e})),f.currentResults=d):d=a.extend(!0,{},f.currentResults),g.hideSelected)for(c=d.items.length-1;0<=c;c--)-1!==f.items.indexOf(k(d.items[c].id))&&d.items.splice(c,1);return d},refreshOptions:function(b){var c,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t;void 0===b&&(b=!0);var u=this,w=a.trim(u.$control_input.val()),x=u.search(w),y=u.$dropdown_content,z=u.$activeOption&&k(u.$activeOption.attr("data-value"));for(g=x.items.length,"number"==typeof u.settings.maxOptions&&(g=Math.min(g,u.settings.maxOptions)),h={},i=[],c=0;c<g;c++)for(j=u.options[x.items[c].id],l=u.render("option",j),m=j[u.settings.optgroupField]||"",e=0,f=(n=a.isArray(m)?m:[m])&&n.length;e<f;e++)m=n[e],u.optgroups.hasOwnProperty(m)||(m=""),h.hasOwnProperty(m)||(h[m]=document.createDocumentFragment(),i.push(m)),h[m].appendChild(l);for(this.settings.lockOptgroupOrder&&i.sort(function(a,b){return(u.optgroups[a].$order||0)-(u.optgroups[b].$order||0)}),o=document.createDocumentFragment(),c=0,g=i.length;c<g;c++)m=i[c],u.optgroups.hasOwnProperty(m)&&h[m].childNodes.length?((p=document.createDocumentFragment()).appendChild(u.render("optgroup_header",u.optgroups[m])),p.appendChild(h[m]),o.appendChild(u.render("optgroup",a.extend({},u.optgroups[m],{html:v(p),dom:p})))):o.appendChild(h[m]);if(y.html(o),u.settings.highlight&&(y.removeHighlight(),x.query.length&&x.tokens.length))for(c=0,g=x.tokens.length;c<g;c++)d(y,x.tokens[c].regex);if(!u.settings.hideSelected)for(c=0,g=u.items.length;c<g;c++)u.getOption(u.items[c]).addClass("selected");(q=u.canCreate(w))&&(y.prepend(u.render("option_create",{input:w})),t=a(y[0].childNodes[0])),u.hasOptions=0<x.items.length||q,u.hasOptions?(0<x.items.length?((s=z&&u.getOption(z))&&s.length?r=s:"single"===u.settings.mode&&u.items.length&&(r=u.getOption(u.items[0])),r&&r.length||(r=t&&!u.settings.addPrecedence?u.getAdjacentOption(t,1):y.find("[data-selectable]:first"))):r=t,u.setActiveOption(r),b&&!u.isOpen&&u.open()):(u.setActiveOption(null),b&&u.isOpen&&u.close())},addOption:function(b){var c,d,e,f=this;if(a.isArray(b))for(c=0,d=b.length;c<d;c++)f.addOption(b[c]);else(e=f.registerOption(b))&&(f.userOptions[e]=!0,f.lastQuery=null,f.trigger("option_add",e,b))},registerOption:function(a){var b=k(a[this.settings.valueField]);return null!=b&&!this.options.hasOwnProperty(b)&&(a.$order=a.$order||++this.order,this.options[b]=a,b)},registerOptionGroup:function(a){var b=k(a[this.settings.optgroupValueField]);return!!b&&(a.$order=a.$order||++this.order,this.optgroups[b]=a,b)},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a,(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(b,c){var d,e,f,g,h,i,j,l=this;if(b=k(b),f=k(c[l.settings.valueField]),null!==b&&l.options.hasOwnProperty(b)){if("string"!=typeof f)throw new Error("Value must be set in option data");j=l.options[b].$order,f!==b&&(delete l.options[b],-1!==(g=l.items.indexOf(b))&&l.items.splice(g,1,f)),c.$order=c.$order||j,l.options[f]=c,h=l.renderCache.item,i=l.renderCache.option,h&&(delete h[b],delete h[f]),i&&(delete i[b],delete i[f]),-1!==l.items.indexOf(f)&&(d=l.getItem(b),e=a(l.render("item",c)),d.hasClass("active")&&e.addClass("active"),d.replaceWith(e)),l.lastQuery=null,l.isOpen&&l.refreshOptions(!1)}},removeOption:function(a,b){var c=this;a=k(a);var d=c.renderCache.item,e=c.renderCache.option;d&&delete d[a],e&&delete e[a],delete c.userOptions[a],delete c.options[a],c.lastQuery=null,c.trigger("option_remove",a),c.removeItem(a,b)},clearOptions:function(){var b=this;b.loadedSearches={},b.userOptions={},b.renderCache={};var c=b.options;a.each(b.options,function(a,d){-1==b.items.indexOf(a)&&delete c[a]}),b.options=b.sifter.items=c,b.lastQuery=null,b.trigger("option_clear")},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(b)+c;return 0<=e&&e<d.length?d.eq(e):a()},getElementWithValue:function(b,c){if(void 0!==(b=k(b))&&null!==b)for(var d=0,e=c.length;d<e;d++)if(c[d].getAttribute("data-value")===b)return a(c[d]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,c){this.buffer=document.createDocumentFragment();for(var d=this.$control[0].childNodes,e=0;e<d.length;e++)this.buffer.appendChild(d[e]);for(var f=a.isArray(b)?b:[b],g=(e=0,f.length);e<g;e++)this.isPending=e<g-1,this.addItem(f[e],c);var h=this.$control[0];h.insertBefore(this.buffer,h.firstChild),this.buffer=null},addItem:function(b,c){p(this,c?[]:["change"],function(){var d,e,f,g,h,i=this,j=i.settings.mode;b=k(b),-1===i.items.indexOf(b)?i.options.hasOwnProperty(b)&&("single"===j&&i.clear(c),"multi"===j&&i.isFull()||(d=a(i.render("item",i.options[b])),h=i.isFull(),i.items.splice(i.caretPos,0,b),i.insertAtCaret(d),i.isPending&&(h||!i.isFull())||i.refreshState(),i.isSetup&&(f=i.$dropdown_content.find("[data-selectable]"),i.isPending||(e=i.getOption(b),g=i.getAdjacentOption(e,1).attr("data-value"),i.refreshOptions(i.isFocused&&"single"!==j),g&&i.setActiveOption(i.getOption(g))),!f.length||i.isFull()?i.close():i.isPending||i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",b,d),i.isPending||i.updateOriginalInput({silent:c})))):"single"===j&&i.close()})},removeItem:function(b,c){var d,e,f,g=this;b=k((d=b instanceof a?b:g.getItem(b)).attr("data-value")),-1!==(e=g.items.indexOf(b))&&(d.remove(),d.hasClass("active")&&(f=g.$activeItems.indexOf(d[0]),g.$activeItems.splice(f,1)),g.items.splice(e,1),g.lastQuery=null,!g.settings.persist&&g.userOptions.hasOwnProperty(b)&&g.removeOption(b,c),e<g.caretPos&&g.setCaret(g.caretPos-1),g.refreshState(),g.updatePlaceholder(),g.updateOriginalInput({silent:c}),g.positionDropdown(),g.trigger("item_remove",b,d))},createItem:function(b,c){var d=this,e=d.caretPos;b=b||a.trim(d.$control_input.val()||"");var f=arguments[arguments.length-1];if("function"!=typeof f&&(f=function(){}),"boolean"!=typeof c&&(c=!0),!d.canCreate(b))return f(),!1;d.lock();var g="function"==typeof d.settings.create?this.settings.create:function(a){var b={};return b[d.settings.labelField]=a,b[d.settings.valueField]=a,b},h=function(){var b=!1;return function(){b||(b=!0,function(a){if(d.unlock(),!a||"object"!=typeof a)return f();var b=k(a[d.settings.valueField]);if("string"!=typeof b)return f();d.setTextboxValue(""),d.addOption(a),d.setCaret(e),d.addItem(b),d.refreshOptions(c&&"single"!==d.settings.mode),f(a)}.apply(this,arguments))}}(),i=g.apply(this,[b,h]);return void 0!==i&&h(i),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var a=!this.items.length;this.isInvalid=a,this.$control_input.prop("required",a),this.$input.prop("required",!a)},refreshClasses:function(){var b=this,c=b.isFull(),d=b.isLocked;b.$wrapper.toggleClass("rtl",b.rtl),b.$control.toggleClass("focus",b.isFocused).toggleClass("disabled",b.isDisabled).toggleClass("required",b.isRequired).toggleClass("invalid",b.isInvalid).toggleClass("locked",d).toggleClass("full",c).toggleClass("not-full",!c).toggleClass("input-active",b.isFocused&&!b.isInputHidden).toggleClass("dropdown-active",b.isOpen).toggleClass("has-options",!a.isEmptyObject(b.options)).toggleClass("has-items",0<b.items.length),b.$control_input.data("grow",!c&&!d)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,e,f=this;if(a=a||{},1===f.tagType){for(d=[],b=0,c=f.items.length;b<c;b++)e=f.options[f.items[b]][f.settings.labelField]||"",d.push('<option value="'+l(f.items[b])+'" selected="selected">'+l(e)+"</option>");d.length||this.$input.attr("multiple")||d.push('<option value="" selected="selected"></option>'),f.$input.html(d.join(""))}else f.$input.val(f.getValue()),f.$input.attr("value",f.$input.val());f.isSetup&&(a.silent||f.trigger("change",f.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder),a.triggerHandler("update",{force:!0})}},open:function(){var a=this;a.isLocked||a.isOpen||"multi"===a.settings.mode&&a.isFull()||(a.focus(),a.isOpen=!0,a.refreshState(),a.$dropdown.css({visibility:"hidden",display:"block"}),a.positionDropdown(),a.$dropdown.css({visibility:"visible"}),a.trigger("dropdown_open",a.$dropdown))},close:function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&(a.hideInput(),a.isBlurring||a.$control_input.blur()),a.isOpen=!1,a.$dropdown.hide(),a.setActiveOption(null),a.refreshState(),b&&a.trigger("dropdown_close",a.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0),this.$dropdown.css({width:a[0].getBoundingClientRect().width,top:b.top,left:b.left})},clear:function(a){var b=this;b.items.length&&(b.$control.children(":not(input)").remove(),b.items=[],b.lastQuery=null,b.setCaret(0),b.setActiveItem(null),b.updatePlaceholder(),b.updateOriginalInput({silent:a}),b.refreshState(),b.showInput(),b.trigger("clear"))},insertAtCaret:function(a){var b=Math.min(this.caretPos,this.items.length),c=a[0],d=this.buffer||this.$control[0];0===b?d.insertBefore(c,d.firstChild):d.insertBefore(c,d.childNodes[b]),this.setCaret(b+1)},deleteSelection:function(b){var c,d,e,f,g,h,i,j,k,l=this;if(e=b&&8===b.keyCode?-1:1,f=r(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(i=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),g=[],l.$activeItems.length){for(k=l.$control.children(".active:"+(0<e?"last":"first")),h=l.$control.children(":not(input)").index(k),0<e&&h++,c=0,d=l.$activeItems.length;c<d;c++)g.push(a(l.$activeItems[c]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(e<0&&0===f.start&&0===f.length?g.push(l.items[l.caretPos-1]):0<e&&f.start===l.$control_input.val().length&&g.push(l.items[l.caretPos]));if(!g.length||"function"==typeof l.settings.onDelete&&!1===l.settings.onDelete.apply(l,[g]))return!1;for(void 0!==h&&l.setCaret(h);g.length;)l.removeItem(g.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),i&&(j=l.getOption(i)).length&&l.setActiveOption(j),!0},advanceSelection:function(a,b){var c,d,e,f,g,h=this;0!==a&&(h.rtl&&(a*=-1),c=0<a?"last":"first",d=r(h.$control_input[0]),h.isFocused&&!h.isInputHidden?(f=h.$control_input.val().length,(a<0?0!==d.start||0!==d.length:d.start!==f)||f||h.advanceCaret(a,b)):(g=h.$control.children(".active:"+c)).length&&(e=h.$control.children(":not(input)").index(g),h.setActiveItem(null),h.setCaret(0<a?e+1:e)))},advanceCaret:function(a,b){var c,d,e=this;0!==a&&(c=0<a?"next":"prev",e.isShiftDown?(d=e.$control_input[c]()).length&&(e.hideInput(),e.setActiveItem(d),b&&b.preventDefault()):e.setCaret(e.caretPos+a))},setCaret:function(b){var d,e,f,g,c=this;if(b="single"===c.settings.mode?c.items.length:Math.max(0,Math.min(c.items.length,b)),!c.isPending)for(d=0,e=(f=c.$control.children(":not(input)")).length;d<e;d++)g=a(f[d]).detach(),d<b?c.$control_input.before(g):c.$control.append(g);c.caretPos=b},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var a=this;a.$input.prop("disabled",!0),a.$control_input.prop("disabled",!0).prop("tabindex",-1),a.isDisabled=!0,a.lock()},enable:function(){var a=this;a.$input.prop("disabled",!1),a.$control_input.prop("disabled",!1).prop("tabindex",a.tabIndex),a.isDisabled=!1,a.unlock()},destroy:function(){var b=this,c=b.eventNS,d=b.revertSettings;b.trigger("destroy"),b.off(),b.$wrapper.remove(),b.$dropdown.remove(),b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:d.tabindex}).show(),b.$control_input.removeData("grow"),b.$input.removeData("selectize"),0==--w.count&&w.$testInput&&(w.$testInput.remove(),w.$testInput=void 0),a(window).off(c),a(document).off(c),a(document.body).off(c),delete b.$input[0].selectize},render:function(b,c){var d,e,f="",g=!1,h=this;return"option"!==b&&"item"!==b||(g=!!(d=k(c[h.settings.valueField]))),g&&(j(h.renderCache[b])||(h.renderCache[b]={}),h.renderCache[b].hasOwnProperty(d))?h.renderCache[b][d]:(f=a(h.settings.render[b].apply(this,[c,l])),"option"===b||"option_create"===b?c[h.settings.disabledField]||f.attr("data-selectable",""):"optgroup"===b&&(e=c[h.settings.optgroupValueField]||"",f.attr("data-group",e),c[h.settings.disabledField]&&f.attr("data-disabled","")),"option"!==b&&"item"!==b||f.attr("data-value",d||""),g&&(h.renderCache[b][d]=f[0]),f[0])},clearCache:function(a){void 0===a?this.renderCache={}:delete this.renderCache[a]},canCreate:function(a){var b=this;if(!b.settings.create)return!1;var c=b.settings.createFilter;return a.length&&("function"!=typeof c||c.apply(b,[a]))&&("string"!=typeof c||new RegExp(c).test(a))&&(!(c instanceof RegExp)||c.test(a))}}),w.count=0,w.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},a.fn.selectize=function(b){var c=a.fn.selectize.defaults,d=a.extend({},c,b),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.disabledField,i=d.optgroupField,j=d.optgroupLabelField,l=d.optgroupValueField,m=function(b,c){var h,i,j,k,l=b.attr(e);if(l)for(c.options=JSON.parse(l),h=0,i=c.options.length;h<i;h++)c.items.push(c.options[h][g]);else{var m=a.trim(b.val()||"");if(!d.allowEmptyOption&&!m.length)return;for(h=0,i=(j=m.split(d.delimiter)).length;h<i;h++)(k={})[f]=j[h],k[g]=j[h],c.options.push(k);c.items=j}},n=function(b,c){function s(a){var b=e&&a.attr(e);return"string"==typeof b&&b.length?JSON.parse(b):null}function t(b,e){var j=k((b=a(b)).val());if(j||d.allowEmptyOption)if(r.hasOwnProperty(j)){if(e){var l=r[j][i];l?a.isArray(l)?l.push(e):r[j][i]=[l,e]:r[j][i]=e}}else{var m=s(b)||{};m[f]=m[f]||b.text(),m[g]=m[g]||j,m[h]=m[h]||b.prop("disabled"),m[i]=m[i]||e,r[j]=m,q.push(m),b.is(":selected")&&c.items.push(j)}}var m,n,o,p,q=c.options,r={};for(c.maxItems=b.attr("multiple")?null:1,m=0,n=(p=b.children()).length;m<n;m++)"optgroup"===(o=p[m].tagName.toLowerCase())?function(b){var d,e,f,g,i;for((f=(b=a(b)).attr("label"))&&((g=s(b)||{})[j]=f,g[l]=f,g[h]=b.prop("disabled"),c.optgroups.push(g)),d=0,e=(i=a("option",b)).length;d<e;d++)t(i[d],f)}(p[m]):"option"===o&&t(p[m])};return this.each(function(){if(!this.selectize){var e=a(this),f=this.tagName.toLowerCase(),g=e.attr("placeholder")||e.attr("data-placeholder");g||d.allowEmptyOption||(g=e.children('option[value=""]').text());var h={placeholder:g,options:[],optgroups:[],items:[]};("select"===f?n:m)(e,h),new w(e,a.extend(!0,{},c,h,b))}})},a.fn.selectize.defaults=w.defaults,a.fn.selectize.support={validity:i},w.define("drag_drop",function(b){if(!a.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var c=this;c.lock=function(){var a=c.lock;return function(){var b=c.$control.data("sortable");return b&&b.disable(),a.apply(c,arguments)}}(),c.unlock=function(){var a=c.unlock;return function(){var b=c.$control.data("sortable");return b&&b.enable(),a.apply(c,arguments)}}(),c.setup=function(){var b=c.setup;return function(){b.apply(this,arguments);var d=c.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:c.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")),d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var b=c.$activeItems?c.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(a(this).attr("data-value"))}),c.setValue(e),c.setActiveItem(b)}})}}()}}),w.define("dropdown_header",function(b){var d,c=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},b),c.setup=(d=c.setup,function(){d.apply(c,arguments),c.$dropdown_header=a(b.html(b)),c.$dropdown.prepend(c.$dropdown_header)})}),w.define("optgroup_columns",function(b){var c=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b),this.getAdjacentOption=function(b,c){var d=b.closest("[data-group]").find("[data-selectable]"),e=d.index(b)+c;return 0<=e&&e<d.length?d.eq(e):a()},this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e,f,g;return!this.isOpen||37!==b.keyCode&&39!==b.keyCode?a.apply(this,arguments):(c.ignoreHover=!0,d=(g=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((e=(f=(g=37===b.keyCode?g.prev("[data-group]"):g.next("[data-group]")).find("[data-selectable]")).eq(Math.min(f.length-1,d))).length&&this.setActiveOption(e)))}}();var d=function(){var a,b=d.width,c=document;return void 0===b&&((a=c.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a)),b},e=function(){var e,f,g,h,i,j,k;if((f=(k=a("[data-group]",c.$dropdown_content)).length)&&c.$dropdown_content.width()){if(b.equalizeHeight){for(e=g=0;e<f;e++)g=Math.max(g,k.eq(e).height());k.css({height:g})}b.equalizeWidth&&(j=c.$dropdown_content.innerWidth()-d(),h=Math.round(j/f),k.css({width:h}),1<f&&(i=j-h*(f-1),k.eq(f-1).css({width:i})))}};(b.equalizeHeight||b.equalizeWidth)&&(m_after(this,"positionDropdown",e),m_after(this,"refreshOptions",e))}),w.define("remove_button",function(b){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b),("single"!==this.settings.mode?function(b,c){var g,d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+l(c.title)+'">'+c.label+"</a>";b.setup=(g=d.setup,function(){if(c.append){var h=d.settings.render.item;d.settings.render.item=function(a){return function(a,b){var c=a.search(/(<\/[^>]+>\s*)$/);return a.substring(0,c)+b+a.substring(c)}(h.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(b){if(b.preventDefault(),!d.isLocked){var c=a(b.currentTarget).parent();d.setActiveItem(c),d.deleteSelection()&&d.setCaret(d.items.length)}})})}:function(b,c){function f(b,c){return a("<span>").append(b).append(c)}c.className="remove-single";var g,d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+l(c.title)+'">'+c.label+"</a>";b.setup=(g=d.setup,function(){if(c.append){var h=a(d.$input.context).attr("id"),i=(a("#"+h),d.settings.render.item);d.settings.render.item=function(a){return f(i.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(a){a.preventDefault(),d.isLocked||d.clear()})})})(this,b)}),w.define("restore_on_backspace",function(a){var c;a.text=a.text||function(a){return a[this.settings.labelField]},this.onKeyDown=(c=this.onKeyDown,function(b){var d,e;return 8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(d=this.caretPos-1)&&d<this.items.length?(e=this.options[this.items[d]],this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0)),void b.preventDefault()):c.apply(this,arguments)})}),w}),function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?exports.cropit=factory(require("jquery")):root.cropit=factory(root.jQuery)}(this,function(__WEBPACK_EXTERNAL_MODULE_1__){return modules=[function(module,exports,__webpack_require__){var _slice=Array.prototype.slice;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyOnEach($el,callback){return $el.each(function(){var cropit=_jquery2.default.data(this,_constants.PLUGIN_KEY);cropit&&callback(cropit)})}function callOnFirst($el,method,options){var cropit=$el.first().data(_constants.PLUGIN_KEY);return cropit&&_jquery2.default.isFunction(cropit[method])?cropit[method](options):null}var _jquery2=_interopRequireDefault(__webpack_require__(1)),_cropit2=_interopRequireDefault(__webpack_require__(2)),_constants=__webpack_require__(4),_utils=__webpack_require__(6),methods={init:function(options){return this.each(function(){if(!_jquery2.default.data(this,_constants.PLUGIN_KEY)){var cropit=new _cropit2.default(_jquery2.default,this,options);_jquery2.default.data(this,_constants.PLUGIN_KEY,cropit)}})},destroy:function(){return this.each(function(){_jquery2.default.removeData(this,_constants.PLUGIN_KEY)})},isZoomable:function(){return callOnFirst(this,"isZoomable")},export:function(options){return callOnFirst(this,"getCroppedImageData",options)}};_jquery2.default.fn.cropit=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):0<=["imageState","imageSrc","offset","previewSize","imageSize","zoom","initialZoom","exportZoom","minZoom","maxZoom"].indexOf(method)?function($el,name,value){return(0,_utils.exists)(value)?applyOnEach($el,function(cropit){cropit[name]=value}):$el.first().data(_constants.PLUGIN_KEY)[name]}.apply(void 0,[this].concat(_slice.call(arguments))):0<=["rotateCW","rotateCCW","disable","reenable"].indexOf(method)?function($el,fnName){return applyOnEach($el,function(cropit){cropit[fnName]()})}.apply(void 0,[this].concat(_slice.call(arguments))):methods.init.apply(this,arguments)}},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(module,exports,__webpack_require__){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery2=_interopRequireDefault(__webpack_require__(1)),_Zoomer2=_interopRequireDefault(__webpack_require__(3)),_constants=__webpack_require__(4),_options=__webpack_require__(5),_utils=__webpack_require__(6),Cropit=function(){function Cropit(jQuery,element,options){!function(instance){if(!(instance instanceof Cropit))throw new TypeError("Cannot call a class as a function")}(this),this.$el=(0,_jquery2.default)(element);var defaults=(0,_options.loadDefaults)(this.$el);this.options=_jquery2.default.extend({},defaults,options),this.init()}return defineProperties(Cropit.prototype,[{key:"init",value:function(){var _this=this;this.image=new Image,this.preImage=new Image,this.image.onload=this.onImageLoaded.bind(this),this.preImage.onload=this.onPreImageLoaded.bind(this),this.image.onerror=this.preImage.onerror=function(){_this.onImageError.call(_this,_constants.ERRORS.IMAGE_FAILED_TO_LOAD)},this.$preview=this.options.$preview.css("position","relative"),this.$fileInput=this.options.$fileInput.attr({accept:"image/*"}),this.$zoomSlider=this.options.$zoomSlider.attr({min:0,max:1,step:.01}),this.previewSize={width:this.options.width||this.$preview.width(),height:this.options.height||this.$preview.height()},this.$image=(0,_jquery2.default)("<img />").addClass(_constants.CLASS_NAMES.PREVIEW_IMAGE).attr("alt","").css({transformOrigin:"top left",webkitTransformOrigin:"top left",willChange:"transform"}),this.$imageContainer=(0,_jquery2.default)("<div />").addClass(_constants.CLASS_NAMES.PREVIEW_IMAGE_CONTAINER).css({position:"absolute",overflow:"hidden",left:0,top:0,width:"100%",height:"100%"}).append(this.$image),this.$preview.append(this.$imageContainer),this.options.imageBackground&&(_jquery2.default.isArray(this.options.imageBackgroundBorderWidth)?this.bgBorderWidthArray=this.options.imageBackgroundBorderWidth:this.bgBorderWidthArray=[0,1,2,3].map(function(){return _this.options.imageBackgroundBorderWidth}),this.$bg=(0,_jquery2.default)("<img />").addClass(_constants.CLASS_NAMES.PREVIEW_BACKGROUND).attr("alt","").css({position:"relative",left:this.bgBorderWidthArray[3],top:this.bgBorderWidthArray[0],transformOrigin:"top left",webkitTransformOrigin:"top left",willChange:"transform"}),this.$bgContainer=(0,_jquery2.default)("<div />").addClass(_constants.CLASS_NAMES.PREVIEW_BACKGROUND_CONTAINER).css({position:"absolute",zIndex:0,top:-this.bgBorderWidthArray[0],right:-this.bgBorderWidthArray[1],bottom:-this.bgBorderWidthArray[2],left:-this.bgBorderWidthArray[3]}).append(this.$bg),0<this.bgBorderWidthArray[0]&&this.$bgContainer.css("overflow","hidden"),this.$preview.prepend(this.$bgContainer)),this.initialZoom=this.options.initialZoom,this.imageLoaded=!1,this.moveContinue=!1,this.zoomer=new _Zoomer2.default,this.options.allowDragNDrop&&_jquery2.default.event.props.push("dataTransfer"),this.bindListeners(),this.options.imageState&&this.options.imageState.src&&this.loadImage(this.options.imageState.src)}},{key:"bindListeners",value:function(){this.$fileInput.on("change.cropit",this.onFileChange.bind(this)),this.$imageContainer.on(_constants.EVENTS.PREVIEW,this.onPreviewEvent.bind(this)),this.$zoomSlider.on(_constants.EVENTS.ZOOM_INPUT,this.onZoomSliderChange.bind(this)),this.options.allowDragNDrop&&(this.$imageContainer.on("dragover.cropit dragleave.cropit",this.onDragOver.bind(this)),this.$imageContainer.on("drop.cropit",this.onDrop.bind(this)))}},{key:"unbindListeners",value:function(){this.$fileInput.off("change.cropit"),this.$imageContainer.off(_constants.EVENTS.PREVIEW),this.$imageContainer.off("dragover.cropit dragleave.cropit drop.cropit"),this.$zoomSlider.off(_constants.EVENTS.ZOOM_INPUT)}},{key:"onFileChange",value:function(e){this.options.onFileChange(e),this.$fileInput.get(0).files&&this.loadFile(this.$fileInput.get(0).files[0])}},{key:"loadFile",value:function(file){var fileReader=new FileReader;file&&file.type.match("image")?(fileReader.readAsDataURL(file),fileReader.onload=this.onFileReaderLoaded.bind(this),fileReader.onerror=this.onFileReaderError.bind(this)):file&&this.onFileReaderError()}},{key:"onFileReaderLoaded",value:function(e){this.loadImage(e.target.result)}},{key:"onFileReaderError",value:function(){this.options.onFileReaderError()}},{key:"onDragOver",value:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy",this.$preview.toggleClass(_constants.CLASS_NAMES.DRAG_HOVERED,"dragover"===e.type)}},{key:"onDrop",value:function(e){var _this2=this;e.preventDefault(),e.stopPropagation(),Array.prototype.slice.call(e.dataTransfer.files,0).some(function(file){return!!file.type.match("image")&&(_this2.loadFile(file),!0)}),this.$preview.removeClass(_constants.CLASS_NAMES.DRAG_HOVERED)}},{key:"loadImage",value:function(imageSrc){var _this3=this;if(imageSrc)if(this.options.onImageLoading(),this.setImageLoadingClass(),0===imageSrc.indexOf("data"))this.preImage.src=imageSrc;else{var xhr=new XMLHttpRequest;xhr.onload=function(e){300<=e.target.status?_this3.onImageError.call(_this3,_constants.ERRORS.IMAGE_FAILED_TO_LOAD):_this3.loadFile(e.target.response)},xhr.open("GET",imageSrc),xhr.responseType="blob",xhr.send()}}},{key:"onPreImageLoaded",value:function(){if(this.shouldRejectImage({imageWidth:this.preImage.width,imageHeight:this.preImage.height,previewSize:this.previewSize,maxZoom:this.options.maxZoom,exportZoom:this.options.exportZoom,smallImage:this.options.smallImage}))return this.onImageError(_constants.ERRORS.SMALL_IMAGE),void(this.image.src&&this.setImageLoadedClass());this.image.src=this.preImage.src}},{key:"onImageLoaded",value:function(){this.rotation=0,this.setupZoomer(this.options.imageState&&this.options.imageState.zoom||this._initialZoom),this.options.imageState&&this.options.imageState.offset?this.offset=this.options.imageState.offset:this.centerImage(),this.options.imageState={},this.$image.attr("src",this.image.src),this.options.imageBackground&&this.$bg.attr("src",this.image.src),this.setImageLoadedClass(),this.imageLoaded=!0,this.options.onImageLoaded()}},{key:"onImageError",value:function(){this.options.onImageError.apply(this,arguments),this.removeImageLoadingClass()}},{key:"setImageLoadingClass",value:function(){this.$preview.removeClass(_constants.CLASS_NAMES.IMAGE_LOADED).addClass(_constants.CLASS_NAMES.IMAGE_LOADING)}},{key:"setImageLoadedClass",value:function(){this.$preview.removeClass(_constants.CLASS_NAMES.IMAGE_LOADING).addClass(_constants.CLASS_NAMES.IMAGE_LOADED)}},{key:"removeImageLoadingClass",value:function(){this.$preview.removeClass(_constants.CLASS_NAMES.IMAGE_LOADING)}},{key:"getEventPosition",value:function(e){if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0]&&(e=e.originalEvent.touches[0]),e.clientX&&e.clientY)return{x:e.clientX,y:e.clientY}}},{key:"onPreviewEvent",value:function(e){if(this.imageLoaded)return this.moveContinue=!1,this.$imageContainer.off(_constants.EVENTS.PREVIEW_MOVE),"mousedown"===e.type||"touchstart"===e.type?(this.origin=this.getEventPosition(e),this.moveContinue=!0,this.$imageContainer.on(_constants.EVENTS.PREVIEW_MOVE,this.onMove.bind(this))):(0,_jquery2.default)(document.body).focus(),e.stopPropagation(),!1}},{key:"onMove",value:function(e){var eventPosition=this.getEventPosition(e);return this.moveContinue&&eventPosition&&(this.offset={x:this.offset.x+eventPosition.x-this.origin.x,y:this.offset.y+eventPosition.y-this.origin.y}),this.origin=eventPosition,e.stopPropagation(),!1}},{key:"fixOffset",value:function(offset){if(!this.imageLoaded)return offset;var ret={x:offset.x,y:offset.y};return this.options.freeMove||(this.imageWidth*this.zoom>=this.previewSize.width?ret.x=Math.min(0,Math.max(ret.x,this.previewSize.width-this.imageWidth*this.zoom)):ret.x=Math.max(0,Math.min(ret.x,this.previewSize.width-this.imageWidth*this.zoom)),this.imageHeight*this.zoom>=this.previewSize.height?ret.y=Math.min(0,Math.max(ret.y,this.previewSize.height-this.imageHeight*this.zoom)):ret.y=Math.max(0,Math.min(ret.y,this.previewSize.height-this.imageHeight*this.zoom))),ret.x=(0,_utils.round)(ret.x),ret.y=(0,_utils.round)(ret.y),ret}},{key:"centerImage",value:function(){this.image.width&&this.image.height&&this.zoom&&(this.offset={x:(this.previewSize.width-this.imageWidth*this.zoom)/2,y:(this.previewSize.height-this.imageHeight*this.zoom)/2})}},{key:"onZoomSliderChange",value:function(){if(this.imageLoaded){this.zoomSliderPos=Number(this.$zoomSlider.val());var newZoom=this.zoomer.getZoom(this.zoomSliderPos);newZoom!==this.zoom&&(this.zoom=newZoom)}}},{key:"enableZoomSlider",value:function(){this.$zoomSlider.removeAttr("disabled"),this.options.onZoomEnabled()}},{key:"disableZoomSlider",value:function(){this.$zoomSlider.attr("disabled",!0),this.options.onZoomDisabled()}},{key:"setupZoomer",value:function(zoom){this.zoomer.setup({imageSize:this.imageSize,previewSize:this.previewSize,exportZoom:this.options.exportZoom,maxZoom:this.options.maxZoom,minZoom:this.options.minZoom,smallImage:this.options.smallImage}),this.zoom=(0,_utils.exists)(zoom)?zoom:this._zoom,this.isZoomable()?this.enableZoomSlider():this.disableZoomSlider()}},{key:"fixZoom",value:function(zoom){return this.zoomer.fixZoom(zoom)}},{key:"isZoomable",value:function(){return this.zoomer.isZoomable()}},{key:"renderImage",value:function(){var transformation="\n      translate("+this.rotatedOffset.x+"px, "+this.rotatedOffset.y+"px)\n      scale("+this.zoom+")\n      rotate("+this.rotation+"deg)";this.$image.css({transform:transformation,webkitTransform:transformation}),this.options.imageBackground&&this.$bg.css({transform:transformation,webkitTransform:transformation})}},{key:"rotateCW",value:function(){this.shouldRejectImage({imageWidth:this.image.height,imageHeight:this.image.width,previewSize:this.previewSize,maxZoom:this.options.maxZoom,exportZoom:this.options.exportZoom,smallImage:this.options.smallImage})?this.rotation=(this.rotation+180)%360:this.rotation=(this.rotation+90)%360}},{key:"rotateCCW",value:function(){this.shouldRejectImage({imageWidth:this.image.height,imageHeight:this.image.width,previewSize:this.previewSize,maxZoom:this.options.maxZoom,exportZoom:this.options.exportZoom,smallImage:this.options.smallImage})?this.rotation=(this.rotation+180)%360:this.rotation=(this.rotation+270)%360}},{key:"shouldRejectImage",value:function(_ref){var imageWidth=_ref.imageWidth,imageHeight=_ref.imageHeight,previewSize=_ref.previewSize,maxZoom=_ref.maxZoom,exportZoom=_ref.exportZoom;return"reject"===_ref.smallImage&&(imageWidth*maxZoom<previewSize.width*exportZoom||imageHeight*maxZoom<previewSize.height*exportZoom)}},{key:"getCroppedImageData",value:function(exportOptions){if(this.image.src){var exportZoom=(exportOptions=_jquery2.default.extend({},{type:"image/png",quality:.75,originalSize:!1,fillBg:"#fff"},exportOptions)).originalSize?1/this.zoom:this.options.exportZoom,zoomedSize={width:this.zoom*exportZoom*this.image.width,height:this.zoom*exportZoom*this.image.height},canvas=(0,_jquery2.default)("<canvas />").attr({width:this.previewSize.width*exportZoom,height:this.previewSize.height*exportZoom}).get(0),canvasContext=canvas.getContext("2d");return"image/jpeg"===exportOptions.type&&(canvasContext.fillStyle=exportOptions.fillBg,canvasContext.fillRect(0,0,canvas.width,canvas.height)),canvasContext.translate(this.rotatedOffset.x*exportZoom,this.rotatedOffset.y*exportZoom),canvasContext.rotate(this.rotation*Math.PI/180),canvasContext.drawImage(this.image,0,0,zoomedSize.width,zoomedSize.height),canvas.toDataURL(exportOptions.type,exportOptions.quality)}}},{key:"disable",value:function(){this.unbindListeners(),this.disableZoomSlider(),this.$el.addClass(_constants.CLASS_NAMES.DISABLED)}},{key:"reenable",value:function(){this.bindListeners(),this.enableZoomSlider(),this.$el.removeClass(_constants.CLASS_NAMES.DISABLED)}},{key:"$",value:function(selector){return this.$el?this.$el.find(selector):null}},{key:"offset",set:function(position){position&&(0,_utils.exists)(position.x)&&(0,_utils.exists)(position.y)&&(this._offset=this.fixOffset(position),this.renderImage(),this.options.onOffsetChange(position))},get:function(){return this._offset}},{key:"zoom",set:function(newZoom){if(newZoom=this.fixZoom(newZoom),this.imageLoaded){var oldZoom=this.zoom,newX=this.previewSize.width/2-(this.previewSize.width/2-this.offset.x)*newZoom/oldZoom,newY=this.previewSize.height/2-(this.previewSize.height/2-this.offset.y)*newZoom/oldZoom;this._zoom=newZoom,this.offset={x:newX,y:newY}}else this._zoom=newZoom;this.zoomSliderPos=this.zoomer.getSliderPos(this.zoom),this.$zoomSlider.val(this.zoomSliderPos),this.options.onZoomChange(newZoom)},get:function(){return this._zoom}},{key:"rotatedOffset",get:function(){return{x:this.offset.x+(90===this.rotation?this.image.height*this.zoom:0)+(180===this.rotation?this.image.width*this.zoom:0),y:this.offset.y+(180===this.rotation?this.image.height*this.zoom:0)+(270===this.rotation?this.image.width*this.zoom:0)}}},{key:"rotation",set:function(newRotation){this._rotation=newRotation,this.imageLoaded&&this.setupZoomer()},get:function(){return this._rotation}},{key:"imageState",get:function(){return{src:this.image.src,offset:this.offset,zoom:this.zoom}}},{key:"imageSrc",get:function(){return this.image.src},set:function(imageSrc){this.loadImage(imageSrc)}},{key:"imageWidth",get:function(){return this.rotation%180==0?this.image.width:this.image.height}},{key:"imageHeight",get:function(){return this.rotation%180==0?this.image.height:this.image.width}},{key:"imageSize",get:function(){return{width:this.imageWidth,height:this.imageHeight}}},{key:"initialZoom",get:function(){return this.options.initialZoom},set:function(initialZoomOption){this.options.initialZoom=initialZoomOption,this._initialZoom="min"===initialZoomOption?0:"image"===initialZoomOption?1:0}},{key:"exportZoom",get:function(){return this.options.exportZoom},set:function(exportZoom){this.options.exportZoom=exportZoom,this.setupZoomer()}},{key:"minZoom",get:function(){return this.options.minZoom},set:function(minZoom){this.options.minZoom=minZoom,this.setupZoomer()}},{key:"maxZoom",get:function(){return this.options.maxZoom},set:function(maxZoom){this.options.maxZoom=maxZoom,this.setupZoomer()}},{key:"previewSize",get:function(){return this._previewSize},set:function(size){!size||size.width<=0||size.height<=0||(this._previewSize={width:size.width,height:size.height},this.$preview.css({width:this.previewSize.width,height:this.previewSize.height}),this.imageLoaded&&this.setupZoomer())}}]),Cropit}();exports.default=Cropit,module.exports=exports.default},function(module,exports){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,"__esModule",{value:!0});var Zoomer=function(){function Zoomer(){!function(instance){if(!(instance instanceof Zoomer))throw new TypeError("Cannot call a class as a function")}(this),this.minZoom=this.maxZoom=1}return defineProperties(Zoomer.prototype,[{key:"setup",value:function(_ref){var imageSize=_ref.imageSize,previewSize=_ref.previewSize,exportZoom=_ref.exportZoom,maxZoom=_ref.maxZoom,minZoom=_ref.minZoom,smallImage=_ref.smallImage,widthRatio=previewSize.width/imageSize.width,heightRatio=previewSize.height/imageSize.height;this.minZoom="fit"===minZoom?Math.min(widthRatio,heightRatio):Math.max(widthRatio,heightRatio),"allow"===smallImage&&(this.minZoom=Math.min(this.minZoom,1)),this.maxZoom=Math.max(this.minZoom,maxZoom/exportZoom)}},{key:"getZoom",value:function(sliderPos){return this.minZoom&&this.maxZoom?sliderPos*(this.maxZoom-this.minZoom)+this.minZoom:null}},{key:"getSliderPos",value:function(zoom){return this.minZoom&&this.maxZoom?this.minZoom===this.maxZoom?0:(zoom-this.minZoom)/(this.maxZoom-this.minZoom):null}},{key:"isZoomable",value:function(){return this.minZoom&&this.maxZoom?this.minZoom!==this.maxZoom:null}},{key:"fixZoom",value:function(zoom){return Math.max(this.minZoom,Math.min(this.maxZoom,zoom))}}]),Zoomer}();exports.default=Zoomer,module.exports=exports.default},function(module,exports){function eventName(events){return events.map(function(e){return e+".cropit"}).join(" ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PLUGIN_KEY="cropit",exports.CLASS_NAMES={PREVIEW:"cropit-preview",PREVIEW_IMAGE_CONTAINER:"cropit-preview-image-container",PREVIEW_IMAGE:"cropit-preview-image",PREVIEW_BACKGROUND_CONTAINER:"cropit-preview-background-container",PREVIEW_BACKGROUND:"cropit-preview-background",FILE_INPUT:"cropit-image-input",ZOOM_SLIDER:"cropit-image-zoom-input",DRAG_HOVERED:"cropit-drag-hovered",IMAGE_LOADING:"cropit-image-loading",IMAGE_LOADED:"cropit-image-loaded",DISABLED:"cropit-disabled"},exports.ERRORS={IMAGE_FAILED_TO_LOAD:{code:0,message:"Image failed to load."},SMALL_IMAGE:{code:1,message:"Image is too small."}};var EVENTS={PREVIEW:eventName(["mousedown","mouseup","mouseleave","touchstart","touchend","touchcancel","touchleave"]),PREVIEW_MOVE:eventName(["mousemove","touchmove"]),ZOOM_INPUT:eventName(["mousemove","touchmove","change"])};exports.EVENTS=EVENTS},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _constants=__webpack_require__(4),options={elements:[{name:"$preview",description:"The HTML element that displays image preview.",defaultSelector:"."+_constants.CLASS_NAMES.PREVIEW},{name:"$fileInput",description:"File input element.",defaultSelector:"input."+_constants.CLASS_NAMES.FILE_INPUT},{name:"$zoomSlider",description:"Range input element that controls image zoom.",defaultSelector:"input."+_constants.CLASS_NAMES.ZOOM_SLIDER}].map(function(o){return o.type="jQuery element",o.default="$imageCropper.find('"+o.defaultSelector+"')",o}),values:[{name:"width",type:"number",description:"Width of image preview in pixels. If set, it will override the CSS property.",default:null},{name:"height",type:"number",description:"Height of image preview in pixels. If set, it will override the CSS property.",default:null},{name:"imageBackground",type:"boolean",description:"Whether or not to display the background image beyond the preview area.",default:!1},{name:"imageBackgroundBorderWidth",type:"array or number",description:"Width of background image border in pixels.\n        The four array elements specify the width of background image width on the top, right, bottom, left side respectively.\n        The background image beyond the width will be hidden.\n        If specified as a number, border with uniform width on all sides will be applied.",default:[0,0,0,0]},{name:"exportZoom",type:"number",description:"The ratio between the desired image size to export and the preview size.\n        For example, if the preview size is `300px * 200px`, and `exportZoom = 2`, then\n        the exported image size will be `600px * 400px`.\n        This also affects the maximum zoom level, since the exported image cannot be zoomed to larger than its original size.",default:1},{name:"allowDragNDrop",type:"boolean",description:"When set to true, you can load an image by dragging it from local file browser onto the preview area.",default:!0},{name:"minZoom",type:"string",description:"This options decides the minimal zoom level of the image.\n        If set to `'fill'`, the image has to fill the preview area, i.e. both width and height must not go smaller than the preview area.\n        If set to `'fit'`, the image can shrink further to fit the preview area, i.e. at least one of its edges must not go smaller than the preview area.",default:"fill"},{name:"maxZoom",type:"number",description:"Determines how big the image can be zoomed. E.g. if set to 1.5, the image can be zoomed to 150% of its original size.",default:1},{name:"initialZoom",type:"string",description:"Determines the zoom when an image is loaded.\n        When set to `'min'`, image is zoomed to the smallest when loaded.\n        When set to `'image'`, image is zoomed to 100% when loaded.",default:"min"},{name:"freeMove",type:"boolean",description:"When set to true, you can freely move the image instead of being bound to the container borders",default:!1},{name:"smallImage",type:"string",description:"When set to `'reject'`, `onImageError` would be called when cropit loads an image that is smaller than the container.\n        When set to `'allow'`, images smaller than the container can be zoomed down to its original size, overiding `minZoom` option.\n        When set to `'stretch'`, the minimum zoom of small images would follow `minZoom` option.",default:"reject"}],callbacks:[{name:"onFileChange",description:"Called when user selects a file in the select file input.",params:[{name:"event",type:"object",description:"File change event object"}]},{name:"onFileReaderError",description:"Called when `FileReader` encounters an error while loading the image file."},{name:"onImageLoading",description:"Called when image starts to be loaded."},{name:"onImageLoaded",description:"Called when image is loaded."},{name:"onImageError",description:"Called when image cannot be loaded.",params:[{name:"error",type:"object",description:"Error object."},{name:"error.code",type:"number",description:"Error code. `0` means generic image loading failure. `1` means image is too small."},{name:"error.message",type:"string",description:"A message explaining the error."}]},{name:"onZoomEnabled",description:"Called when image the zoom slider is enabled."},{name:"onZoomDisabled",description:"Called when image the zoom slider is disabled."},{name:"onZoomChange",description:"Called when zoom changes.",params:[{name:"zoom",type:"number",description:"New zoom."}]},{name:"onOffsetChange",description:"Called when image offset changes.",params:[{name:"offset",type:"object",description:"New offset, with `x` and `y` values."}]}].map(function(o){return o.type="function",o})};exports.loadDefaults=function($el){var defaults={};return $el&&options.elements.forEach(function(o){defaults[o.name]=$el.find(o.defaultSelector)}),options.values.forEach(function(o){defaults[o.name]=o.default}),options.callbacks.forEach(function(o){defaults[o.name]=function(){}}),defaults},exports.default=options},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.exists=function(v){return void 0!==v},exports.round=function(x){return+(Math.round(100*x)+"e-2")}}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0);function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var modules,installedModules}),function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).toMarkdown=f()}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return s(t[o][1][e]||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var toMarkdown,converters,mdConverters=require("./lib/md-converters"),gfmConverters=require("./lib/gfm-converters"),HtmlParser=require("./lib/html-parser"),collapse=require("collapse-whitespace"),blocks=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function isBlock(node){return-1!==blocks.indexOf(node.nodeName.toLowerCase())}var voids=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function isVoid(node){return-1!==voids.indexOf(node.nodeName.toLowerCase())}function getContent(node){for(var text="",i=0;i<node.childNodes.length;i++)if(1===node.childNodes[i].nodeType)text+=node.childNodes[i]._replacement;else{if(3!==node.childNodes[i].nodeType)continue;text+=node.childNodes[i].data}return text}function canConvert(node,filter){if("string"==typeof filter)return filter===node.nodeName.toLowerCase();if(Array.isArray(filter))return-1!==filter.indexOf(node.nodeName.toLowerCase());if("function"==typeof filter)return filter.call(toMarkdown,node);throw new TypeError("`filter` needs to be a string, array, or function")}function isFlankedByWhitespace(side,node){var sibling,regExp,isFlanked;return regExp="left"===side?(sibling=node.previousSibling,/ $/):(sibling=node.nextSibling,/^ /),sibling&&(3===sibling.nodeType?isFlanked=regExp.test(sibling.nodeValue):1!==sibling.nodeType||isBlock(sibling)||(isFlanked=regExp.test(sibling.textContent))),isFlanked}function flankingWhitespace(node,content){var leading="",trailing="";if(!isBlock(node)){var hasLeading=/^[ \r\n\t]/.test(content),hasTrailing=/[ \r\n\t]$/.test(content);hasLeading&&!isFlankedByWhitespace("left",node)&&(leading=" "),hasTrailing&&!isFlankedByWhitespace("right",node)&&(trailing=" ")}return{leading:leading,trailing:trailing}}function process(node){var replacement,content=getContent(node);if(isVoid(node)||/A|TH|TD/.test(node.nodeName)||!/^\s*$/i.test(content)){for(var i=0;i<converters.length;i++){var converter=converters[i];if(canConvert(node,converter.filter)){if("function"!=typeof converter.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var whitespace=flankingWhitespace(node,content);(whitespace.leading||whitespace.trailing)&&(content=content.trim()),replacement=whitespace.leading+converter.replacement.call(toMarkdown,content,node)+whitespace.trailing;break}}node._replacement=replacement}else node._replacement=""}(toMarkdown=function(input,options){if(options=options||{},"string"!=typeof input)throw new TypeError(input+" is not a string");if(""===input)return"";var string,tree,clone=(string=input=input.replace(/(\d+)\. /g,"$1\\. "),tree=(new HtmlParser).parseFromString(string,"text/html"),collapse(tree.documentElement,isBlock),tree).body,nodes=function(){for(var elem,children,i,inqueue=[clone],outqueue=[];0<inqueue.length;)for(elem=inqueue.shift(),outqueue.push(elem),children=elem.childNodes,i=0;i<children.length;i++)1===children[i].nodeType&&inqueue.push(children[i]);return outqueue.shift(),outqueue}();converters=mdConverters.slice(0),options.gfm&&(converters=gfmConverters.concat(converters)),options.converters&&(converters=options.converters.concat(converters));for(var i=nodes.length-1;0<=i;i--)process(nodes[i]);return getContent(clone).replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")}).isBlock=isBlock,toMarkdown.isVoid=isVoid,toMarkdown.outer=function(node,content){return node.cloneNode(!1).outerHTML.replace("><",">"+content+"<")},module.exports=toMarkdown},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/md-converters":4,"collapse-whitespace":7}],2:[function(require,module,exports){"use strict";function cell(content,node){var prefix=" ";return 0===Array.prototype.indexOf.call(node.parentNode.childNodes,node)&&(prefix="| "),prefix+content+" |"}var highlightRegEx=/highlight highlight-(\S+)/;module.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(content){return"~~"+content+"~~"}},{filter:function(node){return"checkbox"===node.type&&"LI"===node.parentNode.nodeName},replacement:function(content,node){return(node.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(content,node){return cell(content,node)}},{filter:"tr",replacement:function(content,node){var borderCells="",alignMap={left:":--",right:"--:",center:":-:"};if("THEAD"===node.parentNode.nodeName)for(var i=0;i<node.childNodes.length;i++){var align=node.childNodes[i].attributes.align,border="---";align&&(border=alignMap[align.value]||border),borderCells+=cell(border,node.childNodes[i])}return"\n"+content+(borderCells?"\n"+borderCells:"")}},{filter:"table",replacement:function(content){return"\n\n"+content+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(content){return content}},{filter:function(node){return"PRE"===node.nodeName&&node.firstChild&&"CODE"===node.firstChild.nodeName},replacement:function(content,node){return"\n\n```\n"+node.firstChild.textContent+"\n```\n\n"}},{filter:function(node){return"PRE"===node.nodeName&&"DIV"===node.parentNode.nodeName&&highlightRegEx.test(node.parentNode.className)},replacement:function(content,node){return"\n\n```"+node.parentNode.className.match(highlightRegEx)[1]+"\n"+node.textContent+"\n```\n\n"}},{filter:function(node){return"DIV"===node.nodeName&&highlightRegEx.test(node.className)},replacement:function(content){return"\n\n"+content+"\n\n"}}]},{}],3:[function(require,module,exports){var _window="undefined"!=typeof window?window:this;module.exports=function(){var Parser=_window.DOMParser,canParse=!1;try{(new Parser).parseFromString("","text/html")&&(canParse=!0)}catch(e){}return canParse}()?_window.DOMParser:function(){function Parser(){}if("undefined"==typeof document){var jsdom=require("jsdom");Parser.prototype.parseFromString=function(string){return jsdom.jsdom(string,{features:{FetchExternalResources:[],ProcessExternalResources:!1}})}}else!function(){var useActiveX=!1;try{document.implementation.createHTMLDocument("").open()}catch(e){window.ActiveXObject&&(useActiveX=!0)}return useActiveX}()?Parser.prototype.parseFromString=function(string){var doc=document.implementation.createHTMLDocument("");return doc.open(),doc.write(string),doc.close(),doc}:Parser.prototype.parseFromString=function(string){var doc=new window.ActiveXObject("htmlfile");return doc.designMode="on",doc.open(),doc.write(string),doc.close(),doc};return Parser}()},{jsdom:6}],4:[function(require,module,exports){"use strict";module.exports=[{filter:"p",replacement:function(content){return"\n\n"+content+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(content,node){for(var hLevel=node.nodeName.charAt(1),hPrefix="",i=0;i<hLevel;i++)hPrefix+="#";return"\n\n"+hPrefix+" "+content+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(content){return"_"+content+"_"}},{filter:["strong","b"],replacement:function(content){return"**"+content+"**"}},{filter:function(node){var hasSiblings=node.previousSibling||node.nextSibling,isCodeBlock="PRE"===node.parentNode.nodeName&&!hasSiblings;return"CODE"===node.nodeName&&!isCodeBlock},replacement:function(content){return"`"+content+"`"}},{filter:function(node){return"A"===node.nodeName&&node.getAttribute("href")},replacement:function(content,node){var titlePart=node.title?' "'+node.title+'"':"";return"["+content+"]("+node.getAttribute("href")+titlePart+")"}},{filter:"img",replacement:function(content,node){var alt=node.alt||"",src=node.getAttribute("src")||"",title=node.title||"";return src?"!["+alt+"]("+src+(title?' "'+title+'"':"")+")":""}},{filter:function(node){return"PRE"===node.nodeName&&"CODE"===node.firstChild.nodeName},replacement:function(content,node){return"\n\n    "+node.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(content){return"\n\n"+(content=(content=(content=content.trim()).replace(/\n{3,}/g,"\n\n")).replace(/^/gm,"> "))+"\n\n"}},{filter:"li",replacement:function(content,node){content=content.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var parent=node.parentNode,index=Array.prototype.indexOf.call(parent.children,node)+1;return(/ol/i.test(parent.nodeName)?index+".  ":"*   ")+content}},{filter:["ul","ol"],replacement:function(content,node){for(var strings=[],i=0;i<node.childNodes.length;i++)strings.push(node.childNodes[i]._replacement);return/li/i.test(node.parentNode.nodeName)?"\n"+strings.join("\n"):"\n\n"+strings.join("\n")+"\n\n"}},{filter:function(node){return this.isBlock(node)},replacement:function(content,node){return"\n\n"+this.outer(node,content)+"\n\n"}},{filter:function(){return!0},replacement:function(content,node){return this.outer(node,content)}}]},{}],5:[function(require,module,exports){module.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(require,module,exports){},{}],7:[function(require,module,exports){"use strict";var voidElements=require("void-elements");Object.keys(voidElements).forEach(function(name){voidElements[name.toUpperCase()]=1});var blockElements={};function isBlockElem(node){return!(!node||!blockElements[node.nodeName])}function isVoid(node){return node&&voidElements[node.nodeName]}function remove(node){var next=node.nextSibling||node.parentNode;return node.parentNode.removeChild(node),next}function next(prev,current){return prev&&prev.parentNode===current||"PRE"===current.nodeName?current.nextSibling||current.parentNode:current.firstChild||current.nextSibling||current.parentNode}require("block-elements").forEach(function(name){blockElements[name.toUpperCase()]=1}),module.exports=function(elem,isBlock){if(elem.firstChild&&"PRE"!==elem.nodeName){"function"!=typeof isBlock&&(isBlock=isBlockElem);for(var prevText=null,prevVoid=!1,prev=null,node=next(prev,elem);node!==elem;){if(3===node.nodeType){var text=node.data.replace(/[ \r\n\t]+/g," ");if(prevText&&!/ $/.test(prevText.data)||prevVoid||" "!==text[0]||(text=text.substr(1)),!text){node=remove(node);continue}node.data=text,prevText=node}else{if(1!==node.nodeType){node=remove(node);continue}isBlock(node)||"BR"===node.nodeName?(prevText&&(prevText.data=prevText.data.replace(/ $/,"")),prevText=null,prevVoid=!1):isVoid(node)&&(prevVoid=!(prevText=null))}var nextNode=next(prev,node);prev=node,node=nextNode}prevText&&(prevText.data=prevText.data.replace(/ $/,""),prevText.data||remove(prevText))}}},{"block-elements":5,"void-elements":8}],8:[function(require,module,exports){module.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}]},{},[1])(1)}),function(expose){var Markdown=expose.Markdown=function(dialect){switch(typeof dialect){case"undefined":this.dialect=Markdown.dialects.Gruber;break;case"object":this.dialect=dialect;break;default:if(!(dialect in Markdown.dialects))throw new Error("Unknown Markdown dialect '"+String(dialect)+"'");this.dialect=Markdown.dialects[dialect]}this.em_state=[],this.strong_state=[],this.debug_indent=""};function mk_block_toSource(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function mk_block_inspect(){var util=require("util");return"Markdown.mk_block( "+util.inspect(this.toString())+", "+util.inspect(this.trailing)+", "+util.inspect(this.lineNumber)+" )"}expose.parse=function(source,dialect){return new Markdown(dialect).toTree(source)},expose.toHTML=function(source,dialect,options){var input=expose.toHTMLTree(source,dialect,options);return expose.renderJsonML(input)},expose.toHTMLTree=function(input,dialect,options){"string"==typeof input&&(input=this.parse(input,dialect));var attrs=extract_attr(input),refs={};attrs&&attrs.references&&(refs=attrs.references);var html=function convert_tree_to_html(tree,references,options){var i;options=options||{};var jsonml=tree.slice(0);"function"==typeof options.preprocessTreeNode&&(jsonml=options.preprocessTreeNode(jsonml,references));var attrs=extract_attr(jsonml);if(attrs){for(i in jsonml[1]={},attrs)jsonml[1][i]=attrs[i];attrs=jsonml[1]}if("string"==typeof jsonml)return jsonml;switch(jsonml[0]){case"header":jsonml[0]="h"+jsonml[1].level,delete jsonml[1].level;break;case"bulletlist":jsonml[0]="ul";break;case"numberlist":jsonml[0]="ol";break;case"listitem":jsonml[0]="li";break;case"para":jsonml[0]="p";break;case"markdown":jsonml[0]="html",attrs&&delete attrs.references;break;case"code_block":jsonml[0]="pre",i=attrs?2:1;var code=["code"];code.push.apply(code,jsonml.splice(i,jsonml.length-i)),jsonml[i]=code;break;case"inlinecode":jsonml[0]="code";break;case"img":jsonml[1].src=jsonml[1].href,delete jsonml[1].href;break;case"linebreak":jsonml[0]="br";break;case"link":jsonml[0]="a";break;case"link_ref":if(jsonml[0]="a",!(ref=references[attrs.ref]))return attrs.original;delete attrs.ref,attrs.href=ref.href,ref.title&&(attrs.title=ref.title),delete attrs.original;break;case"img_ref":var ref;if(jsonml[0]="img",!(ref=references[attrs.ref]))return attrs.original;delete attrs.ref,attrs.src=ref.href,ref.title&&(attrs.title=ref.title),delete attrs.original}if(i=1,attrs){for(var key in jsonml[1]){i=2;break}1===i&&jsonml.splice(i,1)}for(;i<jsonml.length;++i)jsonml[i]=convert_tree_to_html(jsonml[i],references,options);return jsonml}(input,refs,options);return function merge_text_nodes(jsonml){for(var i=extract_attr(jsonml)?2:1;i<jsonml.length;)"string"==typeof jsonml[i]?i+1<jsonml.length&&"string"==typeof jsonml[i+1]?jsonml[i]+=jsonml.splice(i+1,1)[0]:++i:(merge_text_nodes(jsonml[i]),++i)}(html),html};var bullet_list,is_list_re,indent_re,mk_block=Markdown.mk_block=function(block,trail,line){1==arguments.length&&(trail="\n\n");var s=new String(block);return s.trailing=trail,s.inspect=mk_block_inspect,s.toSource=mk_block_toSource,null!=line&&(s.lineNumber=line),s};function count_lines(str){for(var n=0,i=-1;-1!==(i=str.indexOf("\n",i+1));)n++;return n}function add(li,loose,inline,nl){if(loose)li.push(["para"].concat(inline));else{var add_to=li[li.length-1]instanceof Array&&"para"==li[li.length-1][0]?li[li.length-1]:li;nl&&1<li.length&&inline.unshift(nl);for(var i=0;i<inline.length;i++){var what=inline[i];"string"==typeof what&&1<add_to.length&&"string"==typeof add_to[add_to.length-1]?add_to[add_to.length-1]+=what:add_to.push(what)}}}function get_contained_blocks(depth,blocks){for(var re=new RegExp("^("+indent_re+"{"+depth+"}.*?\\n?)*$"),replace=new RegExp("^"+indent_re+"{"+depth+"}","gm"),ret=[];0<blocks.length&&re.exec(blocks[0]);){var b=blocks.shift(),x=b.replace(replace,"");ret.push(mk_block(x,b.trailing,b.lineNumber))}return ret}function paragraphify(s,i,stack){var list=s.list,last_li=list[list.length-1];if(!(last_li[1]instanceof Array&&"para"==last_li[1][0]))if(i+1==stack.length)last_li.push(["para"].concat(last_li.splice(1,last_li.length-1)));else{var sublist=last_li.pop();last_li.push(["para"].concat(last_li.splice(1,last_li.length-1)),sublist)}}function strong_em(tag,md){var state_slot=tag+"_state",other_slot="strong"==tag?"em_state":"strong_state";function CloseTag(len){this.len_after=len,this.name="close_"+md}return function(text,orig_match){if(this[state_slot][0]==md)return this[state_slot].shift(),[text.length,new CloseTag(text.length-md.length)];var other=this[other_slot].slice(),state=this[state_slot].slice();this[state_slot].unshift(md);var res=this.processInline(text.substr(md.length)),last=res[res.length-1];return this[state_slot].shift(),last instanceof CloseTag?(res.pop(),[text.length-last.len_after,[tag].concat(res)]):(this[other_slot]=other,this[state_slot]=state,[md.length,md])}}Markdown.prototype.split_blocks=function(input){input=input.replace(/(\r\n|\n|\r)/g,"\n");var m,re=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,blocks=[],line_no=1;for(null!=(m=/^(\s*\n)/.exec(input))&&(line_no+=count_lines(m[0]),re.lastIndex=m[0].length);null!==(m=re.exec(input));)"\n#"==m[2]&&(m[2]="\n",re.lastIndex--),blocks.push(mk_block(m[1],m[2],line_no)),line_no+=count_lines(m[0]);return blocks},Markdown.prototype.processBlock=function(block,next){var cbs=this.dialect.block,ord=cbs.__order__;if("__call__"in cbs)return cbs.__call__.call(this,block,next);for(var i=0;i<ord.length;i++){var res=cbs[ord[i]].call(this,block,next);if(res)return(!isArray(res)||0<res.length&&!isArray(res[0]))&&this.debug(ord[i],"didn't return a proper array"),res}return[]},Markdown.prototype.processInline=function(block){return this.dialect.inline.__call__.call(this,String(block))},Markdown.prototype.toTree=function(source,custom_root){var blocks=source instanceof Array?source:this.split_blocks(source),old_tree=this.tree;try{for(this.tree=custom_root||this.tree||["markdown"];blocks.length;){var b=this.processBlock(blocks.shift(),blocks);b.length&&this.tree.push.apply(this.tree,b)}return this.tree}finally{custom_root&&(this.tree=old_tree)}},Markdown.prototype.debug=function(){var args=Array.prototype.slice.call(arguments);args.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,args)},Markdown.prototype.loop_re_over_block=function(re,block,cb){for(var m,b=block.valueOf();b.length&&null!=(m=re.exec(b));)b=b.substr(m[0].length),cb.call(this,m);return b},Markdown.dialects={},Markdown.dialects.Gruber={block:{atxHeader:function(block,next){var m=block.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(m){var header=["header",{level:m[1].length}];return Array.prototype.push.apply(header,this.processInline(m[2])),m[0].length<block.length&&next.unshift(mk_block(block.substr(m[0].length),block.trailing,block.lineNumber+2)),[header]}},setextHeader:function(block,next){var m=block.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(m){var header=["header",{level:"="===m[2]?1:2},m[1]];return m[0].length<block.length&&next.unshift(mk_block(block.substr(m[0].length),block.trailing,block.lineNumber+2)),[header]}},code:function(block,next){var ret=[],re=/^(?: {0,3}\t| {4})(.*)\n?/;if(block.match(re)){block_search:for(;;){var b=this.loop_re_over_block(re,block.valueOf(),function(m){ret.push(m[1])});if(b.length){next.unshift(mk_block(b,block.trailing));break block_search}if(!next.length)break block_search;if(!next[0].match(re))break block_search;ret.push(block.trailing.replace(/[^\n]/g,"").substring(2)),block=next.shift()}return[["code_block",ret.join("\n")]]}},horizRule:function(block,next){var m=block.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(m){var jsonml=[["hr"]];return m[1]&&jsonml.unshift.apply(jsonml,this.processBlock(m[1],[])),m[3]&&next.unshift(mk_block(m[3])),jsonml}},lists:(bullet_list=/[*+-]/,is_list_re=new RegExp("^( {0,3})([*+-]|\\d+\\.)[ \t]+"),indent_re="(?: {0,3}\\t| {4})",function(block,next){var m=block.match(is_list_re);if(m){for(var last_li,i,depth,stack=[],list=make_list(m),loose=!1,ret=[stack[0].list];;){for(var lines=block.split(/(?=\n)/),li_accumulate="",line_no=0;line_no<lines.length;line_no++){var nl="",l=lines[line_no].replace(/^\n/,function(n){return nl=n,""}),line_re=(depth=stack.length,new RegExp("(?:^("+indent_re+"{0,"+depth+"} {0,3})([*+-]|\\d+\\.)\\s+)|(^"+indent_re+"{0,"+(depth-1)+"}[ ]{0,4})"));if(void 0!==(m=l.match(line_re))[1]){li_accumulate.length&&(add(last_li,loose,this.processInline(li_accumulate),nl),loose=!1,li_accumulate=""),m[1]=m[1].replace(/ {0,3}\t/g,"    ");var wanted_depth=Math.floor(m[1].length/4)+1;if(wanted_depth>stack.length)list=make_list(m),last_li.push(list),last_li=list[1]=["listitem"];else{var found=!1;for(i=0;i<stack.length;i++)if(stack[i].indent==m[1]){list=stack[i].list,stack.splice(i+1,stack.length-(i+1)),found=!0;break}found||(++wanted_depth<=stack.length?(stack.splice(wanted_depth,stack.length-wanted_depth),list=stack[wanted_depth-1].list):(list=make_list(m),last_li.push(list))),last_li=["listitem"],list.push(last_li)}nl=""}l.length>m[0].length&&(li_accumulate+=nl+l.substr(m[0].length))}li_accumulate.length&&(add(last_li,loose,this.processInline(li_accumulate),nl),loose=!1,li_accumulate="");var contained=get_contained_blocks(stack.length,next);0<contained.length&&(forEach(stack,paragraphify,this),last_li.push.apply(last_li,this.toTree(contained,[])));var next_block=next[0]&&next[0].valueOf()||"";if(!next_block.match(is_list_re)&&!next_block.match(/^ /))break;block=next.shift();var hr=this.dialect.block.horizRule(block,next);if(hr){ret.push.apply(ret,hr);break}forEach(stack,paragraphify,this),loose=!0}return ret}function make_list(m){var list=bullet_list.exec(m[2])?["bulletlist"]:["numberlist"];return stack.push({list:list,indent:m[1]}),list}}),blockquote:function(block,next){if(block.match(/^>/m)){var jsonml=[];if(">"!=block[0]){for(var lines=block.split(/\n/),prev=[],line_no=block.lineNumber;lines.length&&">"!=lines[0][0];)prev.push(lines.shift()),line_no++;var abutting=mk_block(prev.join("\n"),"\n",block.lineNumber);jsonml.push.apply(jsonml,this.processBlock(abutting,[])),block=mk_block(lines.join("\n"),block.trailing,line_no)}for(;next.length&&">"==next[0][0];){var b=next.shift();block=mk_block(block+block.trailing+b,b.trailing,block.lineNumber)}var input=block.replace(/^> ?/gm,""),processedBlock=(this.tree,this.toTree(input,["blockquote"])),attr=extract_attr(processedBlock);return attr&&attr.references&&(delete attr.references,isEmpty(attr)&&processedBlock.splice(1,1)),jsonml.push(processedBlock),jsonml}},referenceDefn:function(block,next){var re=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(block.match(re)){extract_attr(this.tree)||this.tree.splice(1,0,{});var attrs=extract_attr(this.tree);void 0===attrs.references&&(attrs.references={});var b=this.loop_re_over_block(re,block,function(m){m[2]&&"<"==m[2][0]&&">"==m[2][m[2].length-1]&&(m[2]=m[2].substring(1,m[2].length-1));var ref=attrs.references[m[1].toLowerCase()]={href:m[2]};void 0!==m[4]?ref.title=m[4]:void 0!==m[5]&&(ref.title=m[5])});return b.length&&next.unshift(mk_block(b,block.trailing)),[]}},para:function(block){return[["para"].concat(this.processInline(block))]}}},Markdown.dialects.Gruber.inline={__oneElement__:function(text,patterns_or_re,previous_nodes){var m,res;return patterns_or_re=patterns_or_re||this.dialect.inline.__patterns__,(m=new RegExp("([\\s\\S]*?)("+(patterns_or_re.source||patterns_or_re)+")").exec(text))?m[1]?[m[1].length,m[1]]:(m[2]in this.dialect.inline&&(res=this.dialect.inline[m[2]].call(this,text.substr(m.index),m,previous_nodes||[])),res=res||[m[2].length,m[2]]):[text.length,text]},__call__:function(text,patterns){var res,out=[];function add(x){"string"==typeof x&&"string"==typeof out[out.length-1]?out[out.length-1]+=x:out.push(x)}for(;0<text.length;)res=this.dialect.inline.__oneElement__.call(this,text,patterns,out),text=text.substr(res.shift()),forEach(res,add);return out},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(text){return this.dialect.inline.__escape__.exec(text)?[2,text.charAt(1)]:[1,"\\"]},"![":function(text){var m=text.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(m){m[2]&&"<"==m[2][0]&&">"==m[2][m[2].length-1]&&(m[2]=m[2].substring(1,m[2].length-1)),m[2]=this.dialect.inline.__call__.call(this,m[2],/\\/)[0];var attrs={alt:m[1],href:m[2]||""};return void 0!==m[4]&&(attrs.title=m[4]),[m[0].length,["img",attrs]]}return(m=text.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/))?[m[0].length,["img_ref",{alt:m[1],ref:m[2].toLowerCase(),original:m[0]}]]:[2,"!["]},"[":function(text){var orig=String(text),res=Markdown.DialectHelpers.inline_until_char.call(this,text.substr(1),"]");if(!res)return[1,"["];var attrs,consumed=1+res[0],children=res[1],m=(text=text.substr(consumed)).match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(m){var url=m[1];if(consumed+=m[0].length,url&&"<"==url[0]&&">"==url[url.length-1]&&(url=url.substring(1,url.length-1)),!m[3])for(var open_parens=1,len=0;len<url.length;len++)switch(url[len]){case"(":open_parens++;break;case")":0==--open_parens&&(consumed-=url.length-len,url=url.substring(0,len))}return attrs={href:(url=this.dialect.inline.__call__.call(this,url,/\\/)[0])||""},void 0!==m[3]&&(attrs.title=m[3]),[consumed,["link",attrs].concat(children)]}return(m=text.match(/^\s*\[(.*?)\]/))?[consumed+=m[0].length,["link_ref",attrs={ref:(m[1]||String(children)).toLowerCase(),original:orig.substr(0,consumed)}].concat(children)]:1==children.length&&"string"==typeof children[0]?[consumed,["link_ref",attrs={ref:children[0].toLowerCase(),original:orig.substr(0,consumed)},children[0]]]:[1,"["]},"<":function(text){var m;return null!=(m=text.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?m[3]?[m[0].length,["link",{href:"mailto:"+m[3]},m[3]]]:"mailto"==m[2]?[m[0].length,["link",{href:m[1]},m[1].substr("mailto:".length)]]:[m[0].length,["link",{href:m[1]},m[1]]]:[1,"<"]},"`":function(text){var m=text.match(/(`+)(([\s\S]*?)\1)/);return m&&m[2]?[m[1].length+m[2].length,["inlinecode",m[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}},Markdown.dialects.Gruber.inline["**"]=strong_em("strong","**"),Markdown.dialects.Gruber.inline.__=strong_em("strong","__"),Markdown.dialects.Gruber.inline["*"]=strong_em("em","*"),Markdown.dialects.Gruber.inline._=strong_em("em","_"),Markdown.buildBlockOrder=function(d){var ord=[];for(var i in d)"__order__"!=i&&"__call__"!=i&&ord.push(i);d.__order__=ord},Markdown.buildInlinePatterns=function(d){var patterns=[];for(var i in d)if(!i.match(/^__.*__$/)){var l=i.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");patterns.push(1==i.length?l:"(?:"+l+")")}patterns=patterns.join("|"),d.__patterns__=patterns;var fn=d.__call__;d.__call__=function(text,pattern){return null!=pattern?fn.call(this,text,pattern):fn.call(this,text,patterns)}},Markdown.DialectHelpers={},Markdown.DialectHelpers.inline_until_char=function(text,want){for(var consumed=0,nodes=[];;){if(text.charAt(consumed)==want)return[++consumed,nodes];if(consumed>=text.length)return null;var res=this.dialect.inline.__oneElement__.call(this,text.substr(consumed));consumed+=res[0],nodes.push.apply(nodes,res.slice(1))}},Markdown.subclassDialect=function(d){function Block(){}function Inline(){}return Block.prototype=d.block,Inline.prototype=d.inline,{block:new Block,inline:new Inline}},Markdown.buildBlockOrder(Markdown.dialects.Gruber.block),Markdown.buildInlinePatterns(Markdown.dialects.Gruber.inline),Markdown.dialects.Maruku=Markdown.subclassDialect(Markdown.dialects.Gruber),Markdown.dialects.Maruku.processMetaHash=function(meta_string){for(var meta=function(meta_string){for(var meta=meta_string.split(""),parts=[""],in_quotes=!1;meta.length;){var letter=meta.shift();switch(letter){case" ":in_quotes?parts[parts.length-1]+=letter:parts.push("");break;case"'":case'"':in_quotes=!in_quotes;break;case"\\":letter=meta.shift();default:parts[parts.length-1]+=letter}}return parts}(meta_string),attr={},i=0;i<meta.length;++i)if(/^#/.test(meta[i]))attr.id=meta[i].substring(1);else if(/^\./.test(meta[i]))attr.class?attr.class=attr.class+meta[i].replace(/./," "):attr.class=meta[i].substring(1);else if(/\=/.test(meta[i])){var s=meta[i].split(/\=/);attr[s[0]]=s[1]}return attr},Markdown.dialects.Maruku.block.document_meta=function(block){if(!(1<block.lineNumber)&&block.match(/^(?:\w+:.*\n)*\w+:.*$/)){extract_attr(this.tree)||this.tree.splice(1,0,{});var pairs=block.split(/\n/);for(p in pairs){var m=pairs[p].match(/(\w+):\s*(.*)$/),key=m[1].toLowerCase(),value=m[2];this.tree[1][key]=value}return[]}},Markdown.dialects.Maruku.block.block_meta=function(block){var m=block.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(m){var hash,attr=this.dialect.processMetaHash(m[2]);if(""===m[1]){var node=this.tree[this.tree.length-1];if(hash=extract_attr(node),"string"==typeof node)return;for(a in hash||(hash={},node.splice(1,0,hash)),attr)hash[a]=attr[a];return[]}var b=block.replace(/\n.*$/,""),result=this.processBlock(b,[]);for(a in(hash=extract_attr(result[0]))||(hash={},result[0].splice(1,0,hash)),attr)hash[a]=attr[a];return result}},Markdown.dialects.Maruku.block.definition_list=function(block,next){var i,tight=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,list=["dl"];if(m=block.match(tight)){for(var blocks=[block];next.length&&tight.exec(next[0]);)blocks.push(next.shift());for(var b=0;b<blocks.length;++b){var m,terms=(m=blocks[b].match(tight))[1].replace(/\n$/,"").split(/\n/),defns=m[2].split(/\n:\s+/);for(i=0;i<terms.length;++i)list.push(["dt",terms[i]]);for(i=0;i<defns.length;++i)list.push(["dd"].concat(this.processInline(defns[i].replace(/(\n)\s+/,"$1"))))}return[list]}},Markdown.dialects.Maruku.block.table=function(block,next){function _split_on_unescaped(s,ch){(ch=ch||"\\s").match(/^[\\|\[\]{}?*.+^$]$/)&&(ch="\\"+ch);for(var m,res=[],r=new RegExp("^((?:\\\\.|[^\\\\"+ch+"])*)"+ch+"(.*)");m=s.match(r);)res.push(m[1]),s=m[2];return res.push(s),res}var i,m;if(m=block.match(/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/))m[3]=m[3].replace(/^\s*\|/gm,"");else if(!(m=block.match(/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/)))return;var table=["table",["thead",["tr"]],["tbody"]];m[2]=m[2].replace(/\|\s*$/,"").split("|");var html_attrs=[];for(forEach(m[2],function(s){s.match(/^\s*-+:\s*$/)?html_attrs.push({align:"right"}):s.match(/^\s*:-+\s*$/)?html_attrs.push({align:"left"}):s.match(/^\s*:-+:\s*$/)?html_attrs.push({align:"center"}):html_attrs.push({})}),m[1]=_split_on_unescaped(m[1].replace(/\|\s*$/,""),"|"),i=0;i<m[1].length;i++)table[1][1].push(["th",html_attrs[i]||{}].concat(this.processInline(m[1][i].trim())));return forEach(m[3].replace(/\|\s*$/gm,"").split("\n"),function(row){var html_row=["tr"];for(row=_split_on_unescaped(row,"|"),i=0;i<row.length;i++)html_row.push(["td",html_attrs[i]||{}].concat(this.processInline(row[i].trim())));table[2].push(html_row)},this),[table]},Markdown.dialects.Maruku.inline["{:"]=function(text,matches,out){if(!out.length)return[2,"{:"];var before=out[out.length-1];if("string"==typeof before)return[2,"{:"];var m=text.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!m)return[2,"{:"];var meta=this.dialect.processMetaHash(m[1]),attr=extract_attr(before);for(var k in attr||(attr={},before.splice(1,0,attr)),meta)attr[k]=meta[k];return[m[0].length,""]},Markdown.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,Markdown.buildBlockOrder(Markdown.dialects.Maruku.block),Markdown.buildInlinePatterns(Markdown.dialects.Maruku.inline);var forEach,isArray=Array.isArray||function(obj){return"[object Array]"==Object.prototype.toString.call(obj)};forEach=Array.prototype.forEach?function(arr,cb,thisp){return arr.forEach(cb,thisp)}:function(arr,cb,thisp){for(var i=0;i<arr.length;i++)cb.call(thisp||arr,arr[i],i,arr)};var isEmpty=function(obj){for(var key in obj)if(hasOwnProperty.call(obj,key))return!1;return!0};function extract_attr(jsonml){return isArray(jsonml)&&1<jsonml.length&&"object"==typeof jsonml[1]&&!isArray(jsonml[1])?jsonml[1]:void 0}function escapeHTML(text){return text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function render_tree(jsonml){if("string"==typeof jsonml)return escapeHTML(jsonml);var tag=jsonml.shift(),attributes={},content=[];for(!jsonml.length||"object"!=typeof jsonml[0]||jsonml[0]instanceof Array||(attributes=jsonml.shift());jsonml.length;)content.push(render_tree(jsonml.shift()));var tag_attrs="";for(var a in attributes)tag_attrs+=" "+a+'="'+escapeHTML(attributes[a])+'"';return"img"==tag||"br"==tag||"hr"==tag?"<"+tag+tag_attrs+"/>":"<"+tag+tag_attrs+">"+content.join("")+"</"+tag+">"}expose.renderJsonML=function(jsonml,options){(options=options||{}).root=options.root||!1;var content=[];if(options.root)content.push(render_tree(jsonml));else for(jsonml.shift(),!jsonml.length||"object"!=typeof jsonml[0]||jsonml[0]instanceof Array||jsonml.shift();jsonml.length;)content.push(render_tree(jsonml.shift()));return content.join("\n\n")}}("undefined"==typeof exports?(window.markdown={},window.markdown):exports);var formValidator=function(){function isEmpty(value){var trimmedValue=$.trim(value);return""===trimmedValue||null==trimmedValue}function isNotNumber(value){var trimmedValue=$.trim(value);return pattern=/^[0-9]+$/,isNaN(trimmedValue)&&!pattern.test(trimmedValue)}function regexMatch(str,pattern){var trimmedStr=$.trim(str),trimmedPattern=$.trim(pattern),matchResult=!1;return isEmpty(trimmedStr)||isEmpty(trimmedPattern)||(matchResult=pattern.test(trimmedStr)),matchResult}function createErrorHtml(msg){return"<span class='help-block text-base'><span class='fa fa-exclamation-circle'>&nbsp;</span>"+msg+"</span>"}function validateText(str,name,regex,requiredTrue){var reqRegex,err={status:!1,details:""},reqMsg="Please fill up this information.",valMsg="Please provide a valid value";return regex&&(reqRegex=new RegExp(regex)),name&&(reqMsg="Please provide your "+name,valMsg="Please provide a valid "+name),isEmpty(str)&&requiredTrue?(err.details=reqMsg,err.status=!0):isNotNumber(str)?reqRegex&&!reqRegex.test(str)&&(err.details=valMsg,err.status=!0):(err.details=valMsg,err.status=!0),err}function validateEmail(str,name,regex,requiredTrue){var err={status:!1,details:""},reqMsg="Please provide your email ID",valMsg="Please provide a valid email ID",pattern=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|in|global|fit|[a-z]{2,10})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i;return regex&&(pattern=new RegExp(regex)),name&&(reqMsg="Please provide your "+name,valMsg="Please provide a valid "+name),isEmpty(str)&&requiredTrue?(err.details=reqMsg,err.status=!0):isEmpty(str)||regexMatch(str,pattern)||(err.details=valMsg,err.status=!0),err}function validateMobile(mobileNum,name,regex,requiredTrue){var err={status:!1,details:""},reqMsg="Please provide your mobile Number",valMsg="Please enter a valid mobile number",pattern=new RegExp(/^[6-9][0-9]{9}$/.source+/|^1896547852$|^1975489630$|^1456253698$|^1682579456$|^1798652321$|^1896547852$|^1975489630$|^1456253698$|^1682579456$|^1798652321$|^2896547852$|^2975489630$|^2682579456$|^2798652321$/.source);return regex&&(pattern=new RegExp(regex)),name&&(reqMsg="Please provide your "+name,valMsg="Please provide a valid "+name),isEmpty(mobileNum)&&requiredTrue?(err.details=reqMsg,err.status=!0):isEmpty(mobileNum)||regexMatch(mobileNum,pattern)||(err.details=valMsg,err.status=!0),err}function validateEmailOrMobile(str,name,userRegex,requiredTrue){var err={status:!1,details:""},newMobilepattern=new RegExp(/^[6-9][0-9]{9}$/.source+/|^1896547852$|^1975489630$|^1456253698$|^1682579456$|^1798652321$|^1896547852$|^1975489630$|^1456253698$|^1682579456$|^1798652321$|^2896547852$|^2975489630$|^2682579456$|^2798652321$/.source);if(isEmpty(str)&&requiredTrue)return err.details="Please provide your email/mobile number",err.status=!0,err;if(isNotNumber(str)){if(!isEmpty(str)&&!regexMatch(str,/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|in|global|fit|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i))return err.details="Please provide a valid email ID",err.status=!0,err}else if(!regexMatch(str,newMobilepattern))return err.details="Please enter a valid mobile number",err.status=!0,err;return err}function validateNumber(value,name,regex,requiredTrue,min,max){var pattern,err={status:!1,details:""},reqMsg="Please provide this value",valMsg="Please enter a number";return regex&&(pattern=new RegExp(regex)),name&&(reqMsg="Please provide your "+name,valMsg="Please provide a valid "+name),isEmpty(value)&&requiredTrue?(err.details=reqMsg,err.status=!0):isNotNumber(value)||pattern&&!regexMatch(value,pattern)?(err.details=valMsg,err.status=!0):min&&parseFloat(value)<parseFloat(min)?(err.details="Minimum value should be "+min,err.status=!0):max&&parseFloat(value)>parseFloat(max)&&(err.details="Maximum value should be "+max,err.status=!0),err}function validateCommaSeparatedNumberWithRupeeInput(num,min,max){var err={status:!1,details:""};return num=num.replace(/,|\u20B9/g,""),isEmpty(num)?(err.details="Can not be empty",err.status=!0):isNaN(num)?(err.details="Please enter a valid number",err.status=!0):min&&num<min?(err.details="Number should be greater than "+min,err.status=!0):max&&max<num&&(err.details="Number should be less than "+max,err.status=!0),err}function validateTextarea(str,name,regex,requiredTrue){var err={status:!1,details:""},reqMsg="Please write your message";return regex&&(pattern=new RegExp(regex)),name&&(reqMsg="Please provide your "+name),isEmpty(str)&&requiredTrue&&(err.details=reqMsg,err.status=!0),err}function validateRadio(value,name,regex,requiredTrue){var err={status:!1,details:""},reqMsg="Please select one of the choices";return name&&(reqMsg="Please select your "+name),isEmpty(value)&&requiredTrue&&(err.details=reqMsg,err.status=!0),err}function validateCheckbox(value,name,regex,requiredTrue){var err={status:!1,details:""},reqMsg="Please tick the checkbox";return name&&(reqMsg="Please acknowledge that you agree by our "+name),(isEmpty(value)||!0!==value)&&requiredTrue&&(err.details=reqMsg,err.status=!0),err}function validatePassword(value,name,regex,requiredTrue){var err={status:!1,details:""},reqMsg="Please provide a password",valMsg="The password must be atleast 6 characters in length";return name&&(reqMsg="Please provide your "+name,valMsg="Please provide a valid "+name),isEmpty(value)&&requiredTrue?(err.details=reqMsg,err.status=!0):value.length<6&&(err.details=valMsg,err.status=!0),err}function validateOTP(value,name,regex,requiredTrue){var err={status:!1,details:""},reqMsg="Please provide a valid OTP",valMsg="The OTP you entered is incorrect.";return name&&(reqMsg="Please provide a "+name,valMsg="Please provide a valid "+name),isEmpty(value)&&requiredTrue?(err.details=reqMsg,err.status=!0):regex.test(value)||(err.details=valMsg,err.status=!0),err}function validateFile(value,length,type,requiredTrue){var err={status:!1,details:""};if(isEmpty(value)&&requiredTrue)return err.details="Please provide a file.",err.status=!0,err;if(value&&value.length<=0&&requiredTrue)return err.details="Please provide a valid file.",err.status=!0,err;for(var validFileExtensions=["doc","docx","pdf"],currentFileExtension=value&&value[0]&&value[0].name&&value[0].name.split(".").pop(),extensionMatch=!1,j=0;j<validFileExtensions.length;j++)currentFileExtension===validFileExtensions[j].toLowerCase()&&(extensionMatch=!0);return!extensionMatch&&value&&0<value.length&&(err.details="Invalid file type.",err.status=!0),value&&value[0]&&5242880<value[0].size&&(err.details="File size should be less than 5mb",err.status=!0),err}function empty(str,name){var err={status:!1,details:""},reqMsg="This field cannot be empty";return name&&(reqMsg="Please provide your "+name),isEmpty(str)&&(err.details=reqMsg,err.status=!0),err}function validateLocation(selector,value){var err={status:!1,details:""},selectorId=selector.attr("id"),placeIdContainerValue=selector.siblings("#"+selectorId+"-place-id").val();return(isEmpty(value)||isEmpty(placeIdContainerValue))&&(err.details="Please provide a valid location",err.status=!0),err}return{validate:function(selector,validationType,showMessage,name,userRegex,requiredTrue){if(!$(selector)[0])return!0;var result=!1,valueToValidate=null,validationTypeDict={text:validateText,email:validateEmail,CommaSeparatedNumber:validateCommaSeparatedNumberWithRupeeInput,mobile:validateMobile,textarea:validateTextarea,empty:empty,radio:validateRadio,checkbox:validateCheckbox,password:validatePassword,emailOrMobile:validateEmailOrMobile,otp:validateOTP,location:validateLocation,number:validateNumber,file:validateFile};"radio"!==validationType&&(valueToValidate=$(selector).val()),"radio"===validationType&&(valueToValidate=$(selector+":radio:checked").val()),"checkbox"===validationType&&(valueToValidate=$(selector).prop("checked")),"file"===validationType&&(valueToValidate=$(selector)&&$(selector)[0]&&$(selector)[0].files||void 0);var errorContainer="";if(validationTypeDict.hasOwnProperty(validationType)){var closestParent=$(selector).closest(".form-group"),valid=!1;if(requiredTrue=!(void 0!==requiredTrue||!$(selector).attr("required"))||requiredTrue,"location"===validationType)valid=validationTypeDict[validationType]($(selector),valueToValidate);else if("number"===validationType){var max=$(selector).attr("max"),min=$(selector).attr("min");valid=validationTypeDict[validationType](valueToValidate,name,userRegex,requiredTrue,min,max)}else valid=validationTypeDict[validationType](valueToValidate,name,userRegex,requiredTrue);!0===valid.status&&!1!==showMessage?(errorContainer=createErrorHtml(valid.details),closestParent.hasClass("has-error")?closestParent.children(".help-block").replaceWith(errorContainer):"radio"!==validationType&&"checkbox"!==validationType&&"textarea"!==validationType&&"location"!==validationType?closestParent.find(".input-group").length?closestParent.addClass("has-error").find(".input-group").after(errorContainer):closestParent.addClass("has-error").find("input").after(errorContainer):closestParent.addClass("has-error").append(errorContainer),result=!1):!1===valid.status&&(closestParent.hasClass("has-error")&&closestParent.removeClass("has-error").find(".help-block").remove(),result=!0)}return result},validateSelectize:function(iSelectize,requiredTrue,name){var err={status:!1,details:""},result=!1;if(isEmpty(name)&&(name="option"),iSelectize){iSelectize.items&&iSelectize.items.constructor===Array&&iSelectize.items.length<=0&&requiredTrue||"string"==typeof iSelectize.items&&isEmpty(iSelectize.items)&&requiredTrue?(err.status=!0,err.details="Please select your "+name):isEmpty(iSelectize.items)&&(err.status=!0,err.details="Please select your "+name);var selectizeWrapper=iSelectize.$wrapper[0],closestParent=$(selectizeWrapper).closest(".form-group");if(!0===err.status){var errorContainer;errorContainer=createErrorHtml(err.details),closestParent.find(".help-block")&&closestParent.find(".help-block").length?(closestParent.children(".help-block").replaceWith(errorContainer),closestParent.addClass("has-error")):closestParent.addClass("has-error").find(".selectize-input").after(errorContainer),result=!1}else closestParent.find(".help-block")&&closestParent.find(".help-block").length?closestParent.removeClass("has-error").find(".help-block").remove():closestParent.find(".help-block").remove(),result=!0}return result},unvalidate:function(selector){var closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")&&closestParent.removeClass("has-error").children(".help-block").remove()},trueOrFalse:function(){var match=!0;if(0<arguments.length)for(var i=0;i<arguments.length;i++)if(!1===arguments[i]){match=!1;break}return match}}}();function Peppermint(a,b){function d(a){var b=["Webkit","Moz","O","ms"],c=document.createElement("div");if(void 0!==c.style[a])return!0;for(var d in a=a.charAt(0).toUpperCase()+a.slice(1),b)if(void 0!==c.style[b[d]+a])return!0;return!1}function e(a,b){new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)||(a.className+=" "+b)}function f(a,b){a.className=a.className.replace(new RegExp("(\\s+|^)"+b+"(\\s+|$)","g")," ").replace(/^\s+|\s+$/g,"")}function g(a,b){a<0?a=0:v-1<a&&(a=v-1);for(var c=C.dots.length-1;0<=c;c--)f(C.dots[c],G.activeDot);return e(C.dots[a],G.activeDot),h(-(E=a)*C.width,void 0===b?F.speed:b),o(),F.onSlideChange&&F.onSlideChange(a),a}function h(a,b){var c=b?b+"ms":"";y.style.webkitTransitionDuration=y.style.MozTransitionDuration=y.style.msTransitionDuration=y.style.OTransitionDuration=y.style.transitionDuration=c,j(a)}function i(a,b){if(B&&clearInterval(B),b){var c=+new Date,d=C.left;B=setInterval(function(){function e(a,b){return(b-a)*i+a}var f,g,i=(new Date-c)/b,k=[0,.7,1,1];return 1<=i?(j(a),void clearInterval(B)):(f=a-d,g=e(e(e(k[0],k[1]),e(k[1],k[2])),e(e(k[1],k[2]),e(k[2],k[3]))),void j(Math.floor(g*f+d)))},15)}else j(a)}function j(a){y.style.webkitTransform="translate("+a+"px,0) translateZ(0)",y.style.msTransform=y.style.MozTransform=y.style.OTransform=y.style.transform="translateX("+a+"px)",C.left=a}function k(a){y.style.left=a+"px",C.left=a}function l(){var a=E+1;return v-1<a&&(a=0),g(a)}function n(){A=!0,o()}function o(){A&&(z&&clearTimeout(z),z=setTimeout(function(){l()},F.slideshowInterval))}function p(){z&&clearTimeout(z)}function q(){A=!1,z&&clearTimeout(z)}function r(){C.width=a.offsetWidth,y.style.width=C.width*v+"px";for(var b=0;b<v;b++)C.slides[b].style.width=C.width+"px";h(-E*C.width)}function s(a,b,c,d){b&&(a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c))}var v,x,y,z,A,B,C={slides:[],dots:[],left:0},E=0,F={speed:300,touchSpeed:300,slideshow:!1,slideshowInterval:4e3,stopSlideshowAfterInteraction:!1,startSlide:0,mouseDrag:!0,disableIfOneSlide:!0,cssPrefix:"peppermint-",dots:!1,dotsPrepend:!1,dotsContainer:void 0,slidesContainer:void 0,onSlideChange:void 0,onSetup:void 0};b&&function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}(F,b);var G={inactive:F.cssPrefix+"inactive",active:F.cssPrefix+"active",mouse:F.cssPrefix+"mouse",drag:F.cssPrefix+"drag",slides:F.cssPrefix+"slides",dots:F.cssPrefix+"dots",activeDot:F.cssPrefix+"active-dot",mouseClicked:F.cssPrefix+"mouse-clicked"},H_transforms=d("transform"),H_transitions=d("transition");return function(){var b=F.slidesContainer||a,c=F.dotsContainer||a;if(!(F.disableIfOneSlide&&b.children.length<=1)){H_transforms&&!window.opera||(j=k),H_transitions&&!window.opera||(h=i),e(y=F.slidesContainer||document.createElement("div"),G.slides);for(var d=0,l=b.children.length;d<l;d++){var m=b.children[d],o=document.createElement("li");C.slides.push(m),o.setAttribute("tabindex","0"),o.setAttribute("role","button"),o.innerHTML="<span></span>",function(b,c){s(c,"click",function(){g(b),F.stopSlideshowAfterInteraction&&q()}),s(c,"keyup",function(a){13==a.keyCode&&(g(b),F.stopSlideshowAfterInteraction&&q())}),s(c,"mouseup",function(){e(c,G.mouseClicked)}),s(c,"blur",function(){f(c,G.mouseClicked)},!0),s(m,"focus",m.onfocusin=function(){a.scrollLeft=0,setTimeout(function(){a.scrollLeft=0},0),g(b)},!0)}(d,o),C.dots.push(o)}for(v=C.slides.length,e(a,G.active),f(a,G.inactive),F.mouseDrag&&e(a,G.mouse),C.width=a.offsetWidth,y.style.width=C.width*v+"px",d=0;d<v;d++)C.slides[d].style.width=C.width+"px",y.appendChild(C.slides[d]);if(F.slidesContainer||a.appendChild(y),F.dots&&1<v){for(e(x=document.createElement("ul"),G.dots),d=0,l=C.dots.length;d<l;d++)x.appendChild(C.dots[d]);F.dotsPrepend?c.insertBefore(x,c.firstChild):c.appendChild(x)}s(window,"resize",r),s(window,"orientationchange",r),setTimeout(function(){g(F.startSlide,0)},0),F.slideshow&&n(),EventBurrito(y,{mouse:F.mouseDrag,start:function(){e(a,G.drag)},move:function(a,b,c){p(),c.x=c.x/(!E&&0<c.x||E==v-1&&c.x<0?Math.abs(c.x)/C.width*2+1:1),h(c.x-C.width*E)},end:function(b,c,d){if(d.x){var e=Math.abs(d.x)/C.width,h=Math.floor(e)+(.25<e-Math.floor(e)?1:0);h+=d.time<200+200*h/1.8&&Math.abs(d.x)-h*C.width>(h?-C.width/9:20)?1:0,d.x<0?g(E+h,F.touchSpeed):g(E-h,F.touchSpeed),F.stopSlideshowAfterInteraction&&q()}f(a,G.drag)}}),setTimeout(function(){F.onSetup&&F.onSetup(v)},0)}}(),{slideTo:function(a,b){return g(parseInt(a,10),b)},next:l,prev:function(){var a=E-1;return a<0&&(a=v-1),g(a)},start:n,stop:q,pause:p,getCurrentPos:function(){return E},getSlidesNumber:function(){return v},recalcWidth:r}}function EventBurrito(a,b){function d(a,b,c,d){return b?(a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c),{remove:function(){e(a,b,c,d)}}):void 0}function e(a,b,c,d){b&&(a.removeEventListener?a.removeEventListener(b,c,!!d):a.detachEvent("on"+b,c))}function f(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function g(a){if((r={x:(o?a.clientX:a.touches[0].clientX)-q.x,y:(o?a.clientY:a.touches[0].clientY)-q.y,time:Number(new Date)-q.time}).time-t[t.length-1].time){for(var b=0;b<t.length-1&&80<r.time-t[b].time;b++);s={x:(r.x-t[b].x)/(r.time-t[b].time),y:(r.y-t[b].y)/(r.time-t[b].time)},5<=t.length&&t.shift(),t.push({x:r.x,y:r.y,time:r.time})}}function h(a,b){v=!0,y[o=b](a)||(d(document,x[o][1],i),d(document,x[o][2],j),d(document,x[o][3],j),m.preventDefault&&o&&f(a),q={x:o?a.clientX:a.touches[0].clientX,y:o?a.clientY:a.touches[0].clientY,time:Number(new Date)},n=void 0,r={x:0,y:0,time:0},s={x:0,y:0},t=[{x:0,y:0,time:0}],m.start(a,q))}function i(a){!m.preventScroll&&n||y[o](a)||(g(a),(Math.abs(r.x)>m.clickTolerance||Math.abs(r.y)>m.clickTolerance)&&(v=!1),void 0===n&&3!==o&&(n=Math.abs(r.x)<Math.abs(r.y)&&!m.preventScroll)||(m.preventDefault&&f(a),m.move(a,q,r,s)))}function j(a){o&&g(a),!v&&a.target&&a.target.blur&&a.target.blur(),e(document,x[o][1],i),e(document,x[o][2],j),e(document,x[o][3],j),m.end(a,q,r,s)}function l(){}var m={preventDefault:!0,clickTolerance:0,preventScroll:!1,mouse:!0,start:l,move:l,end:l,click:l};b&&function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}(m,b);var n,o,p_pointerEvents=!!window.navigator.pointerEnabled,p_msPointerEvents=!!window.navigator.msPointerEnabled,q={},r={},s={},t=[],u=[],v=!0,w=p_pointerEvents?1:p_msPointerEvents?2:0,x=[["touchstart","touchmove","touchend","touchcancel"],["pointerdown","pointermove","pointerup","pointercancel"],["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"],["mousedown","mousemove","mouseup",!1]],y=[function(a){return a.touches&&1<a.touches.length||a.scale&&1!==a.scale},function(a){return!a.isPrimary||a.buttons&&1!==a.buttons||!m.mouse&&"touch"!==a.pointerType&&"pen"!==a.pointerType},function(a){return!a.isPrimary||a.buttons&&1!==a.buttons||!m.mouse&&a.pointerType!==a.MSPOINTER_TYPE_TOUCH&&a.pointerType!==a.MSPOINTER_TYPE_PEN},function(a){return a.buttons&&1!==a.buttons}];return u.push(d(a,x[w][0],function(a){h(a,w)})),u.push(d(a,"dragstart",f)),m.mouse&&!w&&u.push(d(a,x[3][0],function(a){h(a,3)})),u.push(d(a,"click",function(a){v?m.click(a):f(a)})),{getClicksAllowed:function(){return v},kill:function(){for(var a=u.length-1;0<=a;a--)u[a].remove()}}}window.jQuery&&function($){$.fn.Peppermint=function(a){return this.each(function(){$(this).data("Peppermint",Peppermint(this,a))}),this}}(window.jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){"use strict";function c(a,b,c){if(void 0===a.selectionStart){a.focus();var d=a.createTextRange();d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d.select()}else a.selectionStart=b,a.selectionEnd=c}function d(b,c){a.each(c,function(a,d){"function"==typeof d?c[a]=d(b,c,a):"function"==typeof b.autoNumeric[d]&&(c[a]=b.autoNumeric[d](b,c,a))})}function e(a,b){"string"==typeof a[b]&&(a[b]*=1)}function f(a,b){d(a,b),b.tagList=["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"];var c=b.vMax.toString().split("."),f=b.vMin||0===b.vMin?b.vMin.toString().split("."):[];if(e(b,"vMax"),e(b,"vMin"),e(b,"mDec"),b.mDec="CHF"===b.mRound?"2":b.mDec,b.allowLeading=!0,b.aNeg=b.vMin<0?"-":"",c[0]=c[0].replace("-",""),f[0]=f[0].replace("-",""),b.mInt=Math.max(c[0].length,f[0].length,1),null===b.mDec){var g=0,h=0;c[1]&&(g=c[1].length),f[1]&&(h=f[1].length),b.mDec=Math.max(g,h)}null===b.altDec&&0<b.mDec&&("."===b.aDec&&","!==b.aSep?b.altDec=",":","===b.aDec&&"."!==b.aSep&&(b.altDec="."));var i=b.aNeg?"([-\\"+b.aNeg+"]?)":"(-?)";b.aNegRegAutoStrip=i,b.skipFirstAutoStrip=new RegExp(i+"[^-"+(b.aNeg?"\\"+b.aNeg:"")+"\\"+b.aDec+"\\d].*?(\\d|\\"+b.aDec+"\\d)"),b.skipLastAutoStrip=new RegExp("(\\d\\"+b.aDec+"?)[^\\"+b.aDec+"\\d]\\D*$");var j="-"+b.aNum+"\\"+b.aDec;return b.allowedAutoStrip=new RegExp("[^"+j+"]","gi"),b.numRegAutoStrip=new RegExp(i+"(?:\\"+b.aDec+"?(\\d+\\"+b.aDec+"\\d+)|(\\d*(?:\\"+b.aDec+"\\d*)?))"),b}function g(a,b,c){if(b.aSign)for(;-1<a.indexOf(b.aSign);)a=a.replace(b.aSign,"");a=(a=(a=a.replace(b.skipFirstAutoStrip,"$1$2")).replace(b.skipLastAutoStrip,"$1")).replace(b.allowedAutoStrip,""),b.altDec&&(a=a.replace(b.altDec,b.aDec));var d=a.match(b.numRegAutoStrip);if(a=d?[d[1],d[2],d[3]].join(""):"",("allow"===b.lZero||"keep"===b.lZero)&&"strip"!==c){var e=[],f="";-1!==(e=a.split(b.aDec))[0].indexOf("-")&&(f="-",e[0]=e[0].replace("-","")),e[0].length>b.mInt&&"0"===e[0].charAt(0)&&(e[0]=e[0].slice(1)),a=f+e.join(b.aDec)}if(c&&"deny"===b.lZero||c&&"allow"===b.lZero&&!1===b.allowLeading){var g="^"+b.aNegRegAutoStrip+"0*(\\d"+("leading"===c?")":"|$)");g=new RegExp(g),a=a.replace(g,"$1$2")}return a}function h(a,b){if("p"===b.pSign){var c=b.nBracket.split(",");b.hasFocus||b.removeBrackets?(b.hasFocus&&a.charAt(0)===c[0]||b.removeBrackets&&a.charAt(0)===c[0])&&(a=(a=a.replace(c[0],b.aNeg)).replace(c[1],"")):(a=a.replace(b.aNeg,""),a=c[0]+a+c[1])}return a}function i(a,b){if(a){var c=+a;if(c<1e-6&&-1<c)(a=+a)<1e-6&&0<a&&(a=(a=(a+10).toString()).substring(1)),a<0&&-1<a&&(a="-"+(a=(a-10).toString()).substring(2)),a=a.toString();else{var d=a.split(".");void 0!==d[1]&&(a=0==+d[1]?d[0]:(d[1]=d[1].replace(/0*$/,""),d.join(".")))}}return"keep"===b.lZero?a:a.replace(/^0*(\d)/,"$1")}function j(a,b,c){return b&&"."!==b&&(a=a.replace(b,".")),c&&"-"!==c&&(a=a.replace(c,"-")),a.match(/\d/)||(a+="0"),a}function k(a,b,c){return c&&"-"!==c&&(a=a.replace("-",c)),b&&"."!==b&&(a=a.replace(".",b)),a}function l(a,b,c){return""===a||a===b.aNeg?"zero"===b.wEmpty?a+"0":"sign"===b.wEmpty||c?a+b.aSign:a:null}function m(a,b){var c=(a=g(a,b)).replace(",","."),d=l(a,b,!0);if(null!==d)return d;var e="";e=2===b.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===b.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var f=a.split(b.aDec);b.altDec&&1===f.length&&(f=a.split(b.altDec));var i=f[0];if(b.aSep)for(;e.test(i);)i=i.replace(e,"$1"+b.aSep+"$2");if(a=0!==b.mDec&&1<f.length?(f[1].length>b.mDec&&(f[1]=f[1].substring(0,b.mDec)),i+b.aDec+f[1]):i,b.aSign){var j=-1!==a.indexOf(b.aNeg);a=a.replace(b.aNeg,""),a="p"===b.pSign?b.aSign+a:a+b.aSign,j&&(a=b.aNeg+a)}return c<0&&null!==b.nBracket&&(a=h(a,b)),a}function n(a,b){function h(a){var b=0===g?/(\.(?:\d*[1-9])?)0*$/:1===g?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+g+"}(?:\\d*[1-9])?)0*$");return a=a.replace(b,"$1"),0===g&&(a=a.replace(/\.$/,"")),a}a=""===a?"0":a.toString(),e(b,"mDec"),"CHF"===b.mRound&&(a=(Math.round(20*a)/20).toString());var c="",d=0,f="",g="boolean"==typeof b.aPad||null===b.aPad?b.aPad?b.mDec:0:+b.aPad;"-"===a.charAt(0)&&(f="-",a=a.replace("-","")),a.match(/^\d/)||(a="0"+a),"-"===f&&0==+a&&(f=""),(0<+a&&"keep"!==b.lZero||0<a.length&&"allow"===b.lZero)&&(a=a.replace(/^0*(\d)/,"$1"));var i=a.lastIndexOf("."),j=-1===i?a.length-1:i,k=a.length-1-j;if(k<=b.mDec){if(c=a,k<g){-1===i&&(c+=b.aDec);for(var l="000000";k<g;)c+=l=l.substring(0,g-k),k+=l.length}else g<k?c=h(c):0===k&&0===g&&(c=c.replace(/\.$/,""));if("CHF"!==b.mRound)return 0==+c?c:f+c;"CHF"===b.mRound&&(i=c.lastIndexOf("."),a=c)}var m=i+b.mDec,n=+a.charAt(m+1),o=a.substring(0,m+1).split(""),p="."===a.charAt(m)?a.charAt(m-1)%2:a.charAt(m)%2,q=!0;if(1!==p&&(p=0===p&&0<a.substring(m+2,a.length)?1:0),4<n&&"S"===b.mRound||4<n&&"A"===b.mRound&&""===f||5<n&&"A"===b.mRound&&"-"===f||5<n&&"s"===b.mRound||5<n&&"a"===b.mRound&&""===f||4<n&&"a"===b.mRound&&"-"===f||5<n&&"B"===b.mRound||5==n&&"B"===b.mRound&&1===p||0<n&&"C"===b.mRound&&""===f||0<n&&"F"===b.mRound&&"-"===f||0<n&&"U"===b.mRound||"CHF"===b.mRound)for(d=o.length-1;0<=d;--d)if("."!==o[d]){if("CHF"===b.mRound&&o[d]<=2&&q){o[d]=0,q=!1;break}if("CHF"===b.mRound&&o[d]<=7&&q){q=!(o[d]=5);break}if("CHF"===b.mRound&&q?q=!(o[d]=10):o[d]=+o[d]+1,o[d]<10)break;0<d&&(o[d]="0")}return 0==+(c=h((o=o.slice(0,m+1)).join("")))?c:f+c}function o(a,b,c){var d=b.aDec,e=b.mDec;if(a="paste"===c?n(a,b):a,d&&e){var f=a.split(d);f[1]&&f[1].length>e&&(a=0<e?(f[1]=f[1].substring(0,e),f.join(d)):f[0])}return a}function p(a,b){var c=+(a=j(a=o(a=g(a,b),b),b.aDec,b.aNeg));return c>=b.vMin&&c<=b.vMax}function q(b,c){this.settings=c,this.that=b,this.$that=a(b),this.formatted=!1,this.settingsClone=f(this.$that,this.settings),this.value=b.value}function r(b){return"string"==typeof b&&(b="#"+(b=b.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).replace(/(:|\.)/g,"\\$1")),a(b)}function s(a,b,c){var d=a.data("autoNumeric");d||(d={},a.data("autoNumeric",d));var e=d.holder;return(void 0===e&&b||c)&&(e=new q(a.get(0),b),d.holder=e),e}q.prototype={init:function(a){this.value=this.that.value,this.settingsClone=f(this.$that,this.settings),this.ctrlKey=a.ctrlKey,this.cmdKey=a.metaKey,this.shiftKey=a.shiftKey,this.selection=function(a){var b={};if(void 0===a.selectionStart){a.focus();var c=document.selection.createRange();b.length=c.text.length,c.moveStart("character",-a.value.length),b.end=c.text.length,b.start=b.end-b.length}else b.start=a.selectionStart,b.end=a.selectionEnd,b.length=b.end-b.start;return b}(this.that),"keydown"!==a.type&&"keyup"!==a.type||(this.kdCode=a.keyCode),this.which=a.which,this.processed=!1,this.formatted=!1},setSelection:function(a,b,d){a=Math.max(a,0),b=Math.min(b,this.that.value.length),this.selection={start:a,end:b,length:b-a},void 0!==d&&!d||c(this.that,a,b)},setPosition:function(a,b){this.setSelection(a,a,b)},getBeforeAfter:function(){var a=this.value;return[a.substring(0,this.selection.start),a.substring(this.selection.end,a.length)]},getBeforeAfterStriped:function(){var a=this.getBeforeAfter();return a[0]=g(a[0],this.settingsClone),a[1]=g(a[1],this.settingsClone),a},normalizeParts:function(a,b){var c=this.settingsClone;b=g(b,c),""!==(a=g(a,c,!!b.match(/^\d/)||"leading"))&&a!==c.aNeg||"deny"!==c.lZero||""<b&&(b=b.replace(/^0*(\d)/,"$1"));var e=a+b;if(c.aDec){var f=e.match(new RegExp("^"+c.aNegRegAutoStrip+"\\"+c.aDec));f&&(e=(a=a.replace(f[1],f[1]+"0"))+b)}return"zero"!==c.wEmpty||e!==c.aNeg&&""!==e||(a+="0"),[a,b]},setValueParts:function(a,b,c){var d=this.settingsClone,e=this.normalizeParts(a,b),f=e.join(""),g=e[0].length;return!!p(f,d)&&(g>(f=o(f,d,c)).length&&(g=f.length),this.value=f,this.setPosition(g,!1),!0)},signPosition:function(){var a=this.settingsClone,b=a.aSign,c=this.that;if(b){var d=b.length;if("p"===a.pSign)return a.aNeg&&c.value&&c.value.charAt(0)===a.aNeg?[1,d+1]:[0,d];var f=c.value.length;return[f-d,f]}return[1e3,-1]},expandSelectionOnSign:function(a){var b=this.signPosition(),c=this.selection;c.start<b[1]&&c.end>b[0]&&((c.start<b[0]||c.end>b[1])&&this.value.substring(Math.max(c.start,b[0]),Math.min(c.end,b[1])).match(/^\s*$/)?c.start<b[0]?this.setSelection(c.start,b[0],a):this.setSelection(b[1],c.end,a):this.setSelection(Math.min(c.start,b[0]),Math.max(c.end,b[1]),a))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var a=this.getBeforeAfter(),b=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,a[0]=a[0].substr(0,b[0].length)+g(a[0].substr(b[0].length),this.settingsClone),this.setValueParts(a[0],a[1],"paste")||(this.value=b.join(""),this.setPosition(b[0].length,!1))}},skipAllways:function(a){var b=this.kdCode,c=this.which,d=this.ctrlKey,e=this.cmdKey,f=this.shiftKey;if((d||e)&&"keyup"===a.type&&void 0!==this.valuePartsBeforePaste||f&&45===b)return this.checkPaste(),!1;if(112<=b&&b<=123||91<=b&&b<=93||9<=b&&b<=31||b<8&&(0===c||c===b)||144===b||145===b||45===b||224===b)return!0;if((d||e)&&65===b)return!0;if((d||e)&&(67===b||86===b||88===b))return"keydown"===a.type&&this.expandSelectionOnSign(),86!==b&&45!==b||("keydown"===a.type||"keypress"===a.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===a.type||"keypress"===a.type||67===b;if(d||e)return!0;if(37!==b&&39!==b)return 34<=b&&b<=40;var g=this.settingsClone.aSep,h=this.selection.start,i=this.that.value;return"keydown"===a.type&&g&&!this.shiftKey&&(37===b&&i.charAt(h-2)===g?this.setPosition(h-1):39===b&&i.charAt(h+1)===g&&this.setPosition(h+1)),!0},processAllways:function(){var a;return(8===this.kdCode||46===this.kdCode)&&(this.selection.length?(this.expandSelectionOnSign(!1),a=this.getBeforeAfterStriped()):(a=this.getBeforeAfterStriped(),8===this.kdCode?a[0]=a[0].substring(0,a[0].length-1):a[1]=a[1].substring(1,a[1].length)),this.setValueParts(a[0],a[1]),!0)},processKeypress:function(){var a=this.settingsClone,b=String.fromCharCode(this.which),c=this.getBeforeAfterStriped(),d=c[0],e=c[1];return b===a.aDec||a.altDec&&b===a.altDec||("."===b||","===b)&&110===this.kdCode?!a.mDec||!a.aDec||!!(a.aNeg&&-1<e.indexOf(a.aNeg))||-1<d.indexOf(a.aDec)||0<e.indexOf(a.aDec)||(0===e.indexOf(a.aDec)&&(e=e.substr(1)),this.setValueParts(d+a.aDec,e),!0):"-"===b||"+"===b?!a.aNeg||(""===d&&-1<e.indexOf(a.aNeg)&&(d=a.aNeg,e=e.substring(1,e.length)),d=d.charAt(0)===a.aNeg?d.substring(1,d.length):"-"===b?a.aNeg+d:d,this.setValueParts(d,e),!0):!("0"<=b&&b<="9"&&(a.aNeg&&""===d&&-1<e.indexOf(a.aNeg)&&(d=a.aNeg,e=e.substring(1,e.length)),a.vMax<=0&&a.vMin<a.vMax&&-1===this.value.indexOf(a.aNeg)&&"0"!==b&&(d=a.aNeg+d),this.setValueParts(d+b,e),0))},formatQuick:function(){var a=this.settingsClone,b=this.getBeforeAfterStriped(),c=this.value;if((""===a.aSep||""!==a.aSep&&-1===c.indexOf(a.aSep))&&(""===a.aSign||""!==a.aSign&&-1===c.indexOf(a.aSign))){var d=[],e="";-1<(d=c.split(a.aDec))[0].indexOf("-")&&(e="-",d[0]=d[0].replace("-",""),b[0]=b[0].replace("-","")),d[0].length>a.mInt&&"0"===b[0].charAt(0)&&(b[0]=b[0].slice(1)),b[0]=e+b[0]}var f=m(this.value,this.settingsClone),g=f.length;if(f){for(var h=b[0].split(""),i=0;i<h.length;i+=1)h[i].match("\\d")||(h[i]="\\"+h[i]);var j=new RegExp("^.*?"+h.join(".*?")),k=f.match(j);k?(0===(g=k[0].length)&&f.charAt(0)!==a.aNeg||1===g&&f.charAt(0)===a.aNeg)&&a.aSign&&"p"===a.pSign&&(g=this.settingsClone.aSign.length+("-"===f.charAt(0)?1:0)):a.aSign&&"s"===a.pSign&&(g-=a.aSign.length)}this.that.value!==f&&(this.that.value=f,this.setPosition(g)),this.formatted=!0}};var t={init:function(b){return this.each(function(){var d=a(this),e=d.data("autoNumeric"),f=d.data(),i=d.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");if("object"==typeof e)return this;(e=a.extend({},a.fn.autoNumeric.defaults,f,b,{aNum:"0123456789",hasFocus:!1,removeBrackets:!1,runOnce:!1,tagList:["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"]})).aDec===e.aSep&&a.error("autoNumeric will not function properly when the decimal character aDec: '"+e.aDec+"' and thousand separator aSep: '"+e.aSep+"' are the same character"),d.data("autoNumeric",e);var o=s(d,e);if(i||"input"!==d.prop("tagName").toLowerCase()||a.error('The input type "'+d.prop("type")+'" is not supported by autoNumeric()'),-1===a.inArray(d.prop("tagName").toLowerCase(),e.tagList)&&"input"!==d.prop("tagName").toLowerCase()&&a.error("The <"+d.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),!1===e.runOnce&&e.aForm){if(i){var q=!0;""===d[0].value&&"empty"===e.wEmpty&&(d[0].value="",q=!1),""===d[0].value&&"sign"===e.wEmpty&&(d[0].value=e.aSign,q=!1),q&&""!==d.val()&&(null===e.anDefault&&d[0].value===d.prop("defaultValue")||null!==e.anDefault&&e.anDefault.toString()===d.val())&&d.autoNumeric("set",d.val())}-1!==a.inArray(d.prop("tagName").toLowerCase(),e.tagList)&&""!==d.text()&&d.autoNumeric("set",d.text())}e.runOnce=!0,d.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(d.on("keydown.autoNumeric",function(b){return(o=s(d)).settings.aDec===o.settings.aSep&&a.error("autoNumeric will not function properly when the decimal character aDec: '"+o.settings.aDec+"' and thousand separator aSep: '"+o.settings.aSep+"' are the same character"),o.that.readOnly?o.processed=!0:(o.init(b),o.skipAllways(b)?o.processed=!0:o.processAllways()?(o.processed=!0,o.formatQuick(),b.preventDefault(),!1):!(o.formatted=!1))}),d.on("keypress.autoNumeric",function(a){var b=(o=s(d)).processed;return o.init(a),!!o.skipAllways(a)||(b?(a.preventDefault(),!1):o.processAllways()||o.processKeypress()?(o.formatQuick(),a.preventDefault(),!1):void(o.formatted=!1))}),d.on("keyup.autoNumeric",function(a){(o=s(d)).init(a);var b=o.skipAllways(a),e=o.kdCode;return o.kdCode=0,delete o.valuePartsBeforePaste,d[0].value===o.settings.aSign?"s"===o.settings.pSign?c(this,0,0):c(this,o.settings.aSign.length,o.settings.aSign.length):9===e&&c(this,0,d.val().length),!!b||""===this.value||void(o.formatted||o.formatQuick())}),d.on("focusin.autoNumeric",function(){var a=(o=s(d)).settingsClone;if(a.hasFocus=!0,null!==a.nBracket){var b=d.val();d.val(h(b,a))}o.inVal=d.val();var c=l(o.inVal,a,!0);null!==c&&""!==c&&d.val(c)}),d.on("focusout.autoNumeric",function(){var a=(o=s(d)).settingsClone,b=d.val(),c=b,e="";a.hasFocus=!1,"allow"===a.lZero&&(a.allowLeading=!1,e="leading"),""!==b&&(b=null===l(b=g(b,a,e),a)&&p(b,a,d[0])?k(b=n(b=j(b,a.aDec,a.aNeg),a),a.aDec,a.aNeg):"");var f=l(b,a,!1);null===f&&(f=m(b,a)),f===o.inVal&&f===c||(d.val(f),d.change(),delete o.inVal)}))})},destroy:function(){return a(this).each(function(){var b=a(this);b.removeData("autoNumeric"),b.off(".autoNumeric")})},update:function(b){return a(this).each(function(){var c=r(a(this)),d=c.data("autoNumeric");"object"!=typeof d&&a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");var e=c.autoNumeric("get");if(s(c,d=a.extend(d,b),!0),d.aDec===d.aSep&&a.error("autoNumeric will not function properly when the decimal character aDec: '"+d.aDec+"' and thousand separator aSep: '"+d.aSep+"' are the same character"),c.data("autoNumeric",d),""!==c.val()||""!==c.text())return c.autoNumeric("set",e)})},set:function(b){if(null!==b&&!isNaN(b))return a(this).each(function(){var c=r(a(this)),d=c.data("autoNumeric"),e=b.toString(),f=b.toString(),g=c.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");return"object"!=typeof d&&a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),f!==c.attr("value")&&f!==c.text()||!1!==d.runOnce||(e=e.replace(",",".")),a.isNumeric(+e)||a.error("The value ("+e+") being 'set' is not numeric and has caused a error to be thrown"),e=i(e,d),d.setEvent=!0,e.toString(),""!==e&&(e=n(e,d)),p(e=k(e,d.aDec,d.aNeg),d)||(e=n("",d)),e=m(e,d),g?c.val(e):-1!==a.inArray(c.prop("tagName").toLowerCase(),d.tagList)&&c.text(e)})},get:function(){var b=r(a(this)),c=b.data("autoNumeric");"object"!=typeof c&&a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");var d="";return b.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?d=b.eq(0).val():-1!==a.inArray(b.prop("tagName").toLowerCase(),c.tagList)?d=b.eq(0).text():a.error("The <"+b.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),""===d&&"empty"===c.wEmpty||d===c.aSign&&("sign"===c.wEmpty||"empty"===c.wEmpty)?"":(""!==d&&null!==c.nBracket&&(c.removeBrackets=!0,d=h(d,c),c.removeBrackets=!1),!c.runOnce&&!1!==c.aForm||(d=g(d,c)),0==+(d=j(d,c.aDec,c.aNeg))&&"keep"!==c.lZero&&(d="0"),"keep"===c.lZero?d:d=i(d,c))},getString:function(){var b=!1,c=r(a(this)),e=c.serialize().split("&"),f=a("form").index(c),g=a("form:eq("+f+")"),h=[],i=[],j=/^(?:submit|button|image|reset|file)$/i,k=/^(?:input|select|textarea|keygen)/i,l=/^(?:checkbox|radio)$/i,m=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,n=0;return a.each(g[0],function(a,b){""===b.name||!k.test(b.localName)||j.test(b.type)||b.disabled||!b.checked&&l.test(b.type)?i.push(-1):(i.push(n),n+=1)}),n=0,a.each(g[0],function(a,b){"input"!==b.localName||""!==b.type&&"text"!==b.type&&"hidden"!==b.type&&"tel"!==b.type?(h.push(-1),"input"===b.localName&&m.test(b.type)&&(n+=1)):(h.push(n),n+=1)}),a.each(e,function(c,d){d=e[c].split("=");var g=a.inArray(c,i);-1<g&&-1<h[g]&&"object"==typeof a("form:eq("+f+") input:eq("+h[g]+")").data("autoNumeric")&&null!==d[1]&&(d[1]=a("form:eq("+f+") input:eq("+h[g]+")").autoNumeric("get").toString(),e[c]=d.join("="),b=!0)}),b||a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),e.join("&")},getArray:function(){var b=!1,c=r(a(this)),d=c.serializeArray(),e=a("form").index(c),f=a("form:eq("+e+")"),g=[],h=[],i=/^(?:submit|button|image|reset|file)$/i,j=/^(?:input|select|textarea|keygen)/i,k=/^(?:checkbox|radio)$/i,l=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,m=0;return a.each(f[0],function(a,b){""===b.name||!j.test(b.localName)||i.test(b.type)||b.disabled||!b.checked&&k.test(b.type)?h.push(-1):(h.push(m),m+=1)}),m=0,a.each(f[0],function(a,b){"input"!==b.localName||""!==b.type&&"text"!==b.type&&"hidden"!==b.type&&"tel"!==b.type?(g.push(-1),"input"===b.localName&&l.test(b.type)&&(m+=1)):(g.push(m),m+=1)}),a.each(d,function(c,d){var f=a.inArray(c,h);-1<f&&-1<g[f]&&"object"==typeof a("form:eq("+e+") input:eq("+g[f]+")").data("autoNumeric")&&(d.value=a("form:eq("+e+") input:eq("+g[f]+")").autoNumeric("get").toString(),b=!0)}),b||a.error("None of the successful form inputs are initialized by autoNumeric."),d},getSettings:function(){return r(a(this)).eq(0).data("autoNumeric")}};a.fn.autoNumeric=function(b){return t[b]?t[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error('Method "'+b+'" is not supported by autoNumeric()'):t.init.apply(this,arguments)},a.fn.autoNumeric.defaults={aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"-9999999999999.99",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",sNumber:!0,aForm:!0,anDefault:null}});var Geohash=new function(){function Rect(){}var round=Math.round,max=Math.max,pow=Math.pow,log=Math.log,table="0123456789bcdefghjkmnpqrstuvwxyz",isGeohash=new RegExp("^["+table+"]+$");Rect.prototype={minlat:-90,maxlat:90,minlng:-180,maxlng:180,halfLat:function(){return(this.minlat+this.maxlat)/2},halfLng:function(){return(this.minlng+this.maxlng)/2}},this.encode=function(lat,lng){if(lat instanceof Array&&null==lng&&(lng=lat[1],lat=lat[0]),lng*=1,(lat*=1)!=lat)throw new Error("Geohash.encode: lat must be a Number");if(lng!=lng)throw new Error("Geohash.encode: lng must be a Number");for(var next,lap=lat.toString().length-lat.toFixed().length-2,lop=lng.toString().length-lat.toFixed().length-2,prec=pow(10,-max(lap,lop,0))/2,rect=new Rect,result=[],edge=180,even=!0,chr=0,bit=4;prec<=edge;)if(even?(next=rect.halfLng())<lng?(chr|=1<<bit,rect.minlng=next):rect.maxlng=next:(next=rect.halfLat())<lat?(chr|=1<<bit,rect.minlat=next):rect.maxlat=next,even=!even,bit)bit--;else{if(edge===(edge=max(rect.maxlng-rect.minlng,rect.maxlat-rect.minlat)))break;result.push(table[chr]),bit=4,chr=0}return result.join("")},this.decode=function(hash){if(!isGeohash.test(hash))throw new Error("Geohash.decode: hash must be a geohash string");function shink(bit,value,even){var bin=1<<bit;!(1&bit)^!(1&even)?bin&value?rect.minlat=rect.halfLat():rect.maxlat=rect.halfLat():bin&value?rect.minlng=rect.halfLng():rect.maxlng=rect.halfLng()}for(var rect=new Rect,latE=90,lngE=180,i=0,c=hash.length;i<c;i++){for(var value=table.indexOf(hash[i]),even=1&i,bit=4;0<=bit;bit--)shink(bit,value,even);even?(latE/=8,lngE/=4):(latE/=4,lngE/=8)}var pLat=pow(10,max(1,-round(log(latE)/log(10)))-1),pLng=pow(10,max(1,-round(log(lngE)/log(10)))-1);return[round(rect.halfLat()*pLat)/pLat,round(rect.halfLng()*pLng)/pLng]}};"object"==typeof module&&(module.exports=Geohash),function(){function n(n){return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=0<n?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),function(t,r,e,u,i,o){for(;0<=i&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=0<n?0:u-1;0<=i&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)0<n?o=0<=i?i:Math.max(i+a,o):a=0<=i?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return e[i=r(e,u)]===u?i:-1;if(u!=u)return 0<=(i=t(l.call(e,o,a),m.isNaN))?i+o:-1;for(i=0<n?o:a-1;0<=i&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)(i=I[r])in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}function d(){}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};function _(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}}function j(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t}function w(n){return function(t){return null==t?void 0:t[n]}}m.iteratee=function(n,t){return x(n,t,1/0)};var A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&0<=t&&t<=A};function F(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}}m.each=m.forEach=function(n,t,r){var e,u;if(t=b(t,r),k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return void 0!==(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r))&&-1!==e?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),"number"==typeof r&&!e||(r=0),0<=m.indexOf(n,t,r)},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n)for(var a=0,c=(n=k(n)?n:m.values(n)).length;a<c;a++)e=n[a],i<e&&(i=e);else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o<u||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n)for(var a=0,c=(n=k(n)?n:m.values(n)).length;a<c;a++)(e=n[a])<i&&(i=e);else t=x(t,r),m.each(n,function(n,r,e){((u=t(n,r,e))<o||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)(t=m.random(0,i))!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(e<r||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")},m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};function E(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i}m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){for(var u=(r=x(r,e,1))(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u},m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)n[r=arguments[t]]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;function c(){a=!1===r.leading?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)}return r=r||{},function(){var f=m.now();a||!1!==r.leading||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||t<l?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||!1===r.trailing||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&0<=f?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e=e||setTimeout(c,t),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return 0<--n&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)o[e=u[a]]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(t(n[e=u[i]],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}e=e||[];for(var c=(r=r||[]).length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if((c=n.length)!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};function R(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}}m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"==t||"object"==t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B);m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;function L(n){return"\\"+z[n]}m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g;function P(n,t){return n._chain?m(t).chain():t}m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}function c(n){return o.call(this,n,m)}var f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t},m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}.call(this),$.fn.searchify=function(options){function slugifySuggestions(text){return text.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g," ").replace(/[^\w\-]+/g," ").replace(/\s+/g,"-").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/\//,"-")}var settings=$.extend({search:"job",suggestions_api:baseURI+"api/v5/suggest/keyword/",locality_suggestions_api:baseURI+"geo_location/search/locality/",city_suggestions_api:baseURI+"geo_location/search/city/",search_api:baseURI+"api/v5/search/jobs/",zone:options&&"candidate"===options.search?"employer":Cookies.get("zone")},options);Date.daysBetween=function(date1,date2){try{var date1_ms=date1.getTime(),difference_ms=date2.getTime()-date1_ms;return Math.round(difference_ms/864e5)}catch(e){return"Invalid Format"}};var locationElement,i,l,experienceElement,storage=window.localStorage;function resetRecentSearch(){storage.setItem("AJ_NEW_RECENT_SEARCHES",JSON.stringify(recentSearch))}function updatedRecentSearch(keyword,new_count){if(0<Date.daysBetween(new Date(recentSearch[keyword].updated_on),new Date)&&new_count>recentSearch[keyword].new_count){recentSearch[keyword].old_count=recentSearch[keyword].new_count,recentSearch[keyword].new_count=new_count,recentSearch[keyword].updated_on=new Date;var curr_index=recentSearch._keywords.indexOf(keyword);0<=curr_index?recentSearch._keywords.splice(curr_index,1):recentSearch._keywords&&Array.isArray(recentSearch._keywords)?4===recentSearch._keywords.length&&(delete recentSearch[recentSearch._keywords[0]],recentSearch._keywords.splice(0,1)):recentSearch={_keywords:[]},recentSearch._keywords.push(keyword),resetRecentSearch()}}function getAndUpdateRecentSearch(keyword){$.ajax({url:settings.search_api,type:"GET",data:{query:JSON.stringify({terms:keyword}),limit:0},dataType:"json",success:function(result){result&&result.meta&&result.meta.count&&result.meta.count>recentSearch[keyword].new_count&&updatedRecentSearch(keyword,result.meta.count)}})}storage.removeItem("_aj_recent_searches_"),recentSearch={},function(){var i,l,_keyword;if(recentSearch=storage.getItem("AJ_NEW_RECENT_SEARCHES"),recentSearch)try{if(recentSearch=JSON.parse(recentSearch),$.isEmptyObject(recentSearch))recentSearch={};else if(recentSearch._keywords.length<=4){var recentSearchItems=[];for(i=0,l=recentSearch._keywords.length;i<l;i++){if(_keyword=recentSearch._keywords[i],recentSearch[_keyword]){if(recentSearch[_keyword]){var diff=Date.daysBetween(new Date(recentSearch[_keyword].updated_on),new Date);(0===recentSearch[_keyword].new_count||0<diff)&&getAndUpdateRecentSearch(_keyword)}}else recentSearch[_keyword].old_count=0,recentSearch[_keyword].new_count=0,recentSearch[_keyword].updated_on=new Date;var keywordUrl="/s/"+slugifySuggestions(_keyword)+"-jobs/";recentSearch[_keyword]&&!recentSearch[_keyword].new_count?recentSearchItems.push('<a href="'+keywordUrl+'" class="text-small text-primary flex-center flex-justify-space-between text-decoration-none m-top-5"><span class="ellipsis-1-line col-xs-6 p-x-axis-0">'+_keyword+"</span></a>"):recentSearch[_keyword]&&recentSearch[_keyword].new_count&&recentSearchItems.push('<a href="'+keywordUrl+'" class="text-small text-primary flex-center flex-justify-space-between text-decoration-none m-top-5"><span class="ellipsis-1-line col-xs-6 p-x-axis-0">'+_keyword+"</span><span>"+recentSearch[_keyword].new_count+" New Jobs</span></a>")}0<recentSearchItems.length&&($(".recent_search").removeClass("hidden"),recentSearchItems=recentSearchItems.reverse(),$(".recent_search_items").append(recentSearchItems.join(" "))),resetRecentSearch()}else{for(i=recentSearch._keywords.length,l=recentSearch._keywords.length-4;l<i;i--)_keyword=recentSearch._keywords[i],recentSearch[_keyword]&&delete recentSearch[_keyword];resetRecentSearch(recentSearch)}}catch(e){storage.removeItem("AJ_NEW_RECENT_SEARCHES"),recentSearch={}}else recentSearch={}}(),document.city_region_list;try{locationElement=document.getElementById("search_location")}catch(e){locationElement={}}try{locationDropdownElement=document.getElementById("search_location_dropdown")}catch(e){locationDropdownElement={}}try{experienceElement=document.getElementById("search_experience")}catch(e){experienceElement={}}var awesome,awesomeLocation,searchButtonJquery=$(".search-btn"),locationElementJquery=$("#search_location"),experienceElementJquery=($("#search_location_dropdown"),$("#search_experience")),queryElement=document.getElementById("search-query"),queryElementJquery=this.find("#search-query"),querySuggestionsList=[],querySuggestionsObject={},years=function(){for(var list=[],i=1;i<=20;i++){var displayKey=i<=1?i.toString()+" year":i.toString()+" years",listObj={value:i,label:displayKey};list.push(listObj)}return list}();function trackEvent(name,properties){window.clevertap&&window.clevertap.event&&window.clevertap.event.push(name,properties)}if(years=[{value:"Fresher",label:"Fresher"}].concat(years),window.setSearchQueryAndLocation=function(query,location){query&&queryElementJquery.val(query+", "),location&&locationElementJquery.val(location)},window.search_config&&window.search_config.location_slug&&locationElementJquery.val(window.search_config.location_slug),window.search_config&&window.search_config.filter&&window.search_config.experience&&experienceElementJquery.val(window.search_config.experience),window.search_config&&window.search_config.keywords&&Array.isArray(window.search_config.keywords)&&0<window.search_config.keywords.length&&(queryElementJquery.val(window.search_config.keywords.join(", ")+", "),1===window.search_config.keywords.length&&function(_keyword){if(recentSearch&&recentSearch[_keyword]&&recentSearch[_keyword].updated_on){new Date;try{window.search_config.location_slug?getAndUpdateRecentSearch(_keyword):updatedRecentSearch(_keyword,window.search_config.total_count)}catch(e){}}else recentSearch&&!recentSearch[_keyword]&&(keyword=_keyword,0<(count=window.search_config.total_count)&&(recentSearch._keywords&&Array.isArray(recentSearch._keywords)?4===recentSearch._keywords.length&&(delete recentSearch[recentSearch._keywords[0]],recentSearch._keywords.splice(0,1)):recentSearch={_keywords:[]},recentSearch._keywords.push(keyword),recentSearch[keyword]={},recentSearch[keyword].old_count=count,recentSearch[keyword].new_count=count,recentSearch[keyword].updated_on=new Date,resetRecentSearch()));var keyword,count}(window.search_config.keywords[0])),window.search_result_page){var trackingObj={"Search Type":window.is_government_jobs_page?"Government Jobs":"Aasaanjobs Jobs",Location:window.search_config&&window.search_config.location_slug||"NA",Page:window.search_config&&window.search_config.page||1,State:Cookies.get("access_token")?"Logged In":"Logged Out","Number of Results":window.search_config&&window.search_config.total_count||0,"Keyword Count":window.search_config&&window.search_config.keywords&&window.search_config.keywords.length||0,LocationKeywordFilter:(window.search_config&&window.search_config.location_slug||"NA")+"|",Source:window.referrerName?window.referrerName:"NA"};if(window.search_config&&Array.isArray(window.search_config.keywords)){for(i=0,l=window.search_config.keywords.length;i<l;i++)trackingObj["Keyword-"+(i+1)]=window.search_config.keywords[i],trackingObj.LocationKeywordFilter+=window.search_config.keywords[i]+",";trackingObj.LocationKeywordFilter+="|"}for(var filterType in window.search_config.filter)trackingObj.LocationKeywordFilter+=filterType+",";0===window.search_config.total_count&&ga("send","event",{eventCategory:"page_load",eventAction:"search",eventLabel:"zero_search_results",eventValue:0}),trackEvent("Job Search - Results Page",trackingObj)}try{awesome=new Awesomplete("#search-query",{maxItems:10,minChars:0,filter:function(text,input){return!0},replace:function(text){var before=this.input.value.match(/^.+,\s*|/)[0];text=text.value.replace(/^\s+|\s+$/g,""),this.input.value=before+text+", ",awesome.list=removeSelectedFromSuggestions(querySuggestionsList),queryElementJquery.focus()},sort:function(a,b){return 0},item:function(text,input){var currentInput="";return input&&(currentInput=input.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),currentInputArr=currentInput.split(","),1<currentInputArr.length&&(currentInput=currentInputArr[currentInputArr.length-1].trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"))),function(o){var element=document.createElement("li");for(var i in o){var val=o[i];if("inside"===i)$(val).appendChild(element);else if("around"===i){var ref=$(val);ref.parentNode.insertBefore(element,ref),element.appendChild(ref)}else i in element?element[i]=val:element.setAttribute(i,val)}return element}({innerHTML:""===currentInput?text:text.replace(RegExp(currentInput.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")+"(?=[^<>]*(<|$))","gi"),"<mark>$&</mark>"),"aria-selected":"false"})}})}catch(e){awesome={}}function searchSuggestions(focus){var q=queryElementJquery.val();q&&2<q.trim().length?($.ajax({url:settings.suggestions_api,type:"GET",data:{q:q.trim()},dataType:"json",success:function(suggestionsJSON){querySuggestionsObject=suggestionsJSON.objects,querySuggestionsList=function(suggestionsJSON){document.querySuggestionsList=[],querySuggestionsList=[];for(var i=0,l=suggestionsJSON.objects.length;i<l;i++)querySuggestionsList[i]={label:suggestionsJSON.objects[i].name,value:suggestionsJSON.objects[i].name},document.querySuggestionsList[i]=suggestionsJSON.objects[i].name;return awesome.recent_search=!1,removeSelectedFromSuggestions(querySuggestionsList)}(suggestionsJSON),awesome.list=querySuggestionsList}}),queryElementJquery.val(),queryElementJquery.next().removeAttr("hidden")):(focus||queryElementJquery.focus(),awesome.list=removeSelectedFromSuggestions(querySuggestionsList))}awesome.list_updated=!0,queryElementJquery.on("focus",function(event){searchSuggestions(focus)}),queryElementJquery.on("keyup",function(event){document.getElementById("search-query"),13==event.keyCode?(awesome.close(),13!==awesome.preKeyCode&&querySuggestionsList&&0!==querySuggestionsList.length||(awesome.preKeyCode=event.keyCode,searchButtonJquery.trigger("click"))):38===event.keyCode||40===event.keyCode||9===event.keyCode||searchSuggestions(),awesome.preKeyCode=event.keyCode}),queryElement.addEventListener("awesomplete-select",function(event){awesome.list=removeSelectedFromSuggestions(querySuggestionsList),event&&event.text&&event.text.label&&event.text.label.includes("js-recent-click")?Cookies.set("search_type","Search-Recent"):Cookies.remove("search_type")}),queryElement.addEventListener("awesomplete-open",function(event){}),queryElement.addEventListener("awesomplete-close",function(event){}),queryElement.addEventListener("awesomplete-selectcomplete",function(event){if(document.querySuggestionsList&&1<=document.querySuggestionsList.length){for(var currIndex=document.querySuggestionsList.indexOf(event.text.value)+1||"NA",loginState="loggedout",stakeHoldersHref=["candidate-zone","partner-zone","employer-zone"],i=0;i<stakeHoldersHref.length;i++)-1!=location.href.indexOf(stakeHoldersHref[i])&&(loginState="loggedin");trackEvent("SearchClick",{indexClicked:currIndex,type:"suggestion",state:loginState})}});try{awesomeLocation=new Awesomplete("#search_location",{minChars:0,maxItems:10,sort:function(a,b){return a.value>b.value?1:a.value<b.value?-1:0}})}catch(e){awesomeLocation={}}locationElement.addEventListener("awesomplete-select",function(event){!function(event){var current_loc=event&&event.text&&event.text.value,locationList=combinedSortedArray,matchedLocation=_.find(locationList,function(city){return city.value==current_loc});if(matchedLocation){var latitude=matchedLocation&&matchedLocation.full&&matchedLocation.full.latitude,longitude=matchedLocation&&matchedLocation.full&&matchedLocation.full.longitude,locationObj={lat:latitude,long:longitude};if(latitude&&longitude){var inThirtyMinutes=new Date((new Date).getTime()+18e5);Cookies.set("matched_location",JSON.stringify(locationObj),{expires:inThirtyMinutes})}}}(event)}),locationElementJquery.on("focus",function(event){locationElementJquery.val(),locationSuggestions(focus),awesomeLocation.evaluate(),awesomeLocation.open()}),locationElementJquery.on("keyup",function(event){13==event.keyCode?(awesomeLocation.close(),13===awesomeLocation.preKeyCode&&searchButtonJquery.trigger("click")):38==event.keyCode||40==event.keyCode||9===event.keyCode||locationElementJquery.focus(),awesomeLocation.preKeyCode=event.keyCode});var awesomeExperience,locationSuggestions=function(focus){var q=locationElementJquery.val();document.locationSuggestionsList=[],locationSuggestionsList=[],citySuggestionList=[],combinedSortedArray=[],q&&2<q.trim().length?$.when(function(q){return $.ajax({url:settings.locality_suggestions_api,type:"GET",data:{query:q.trim()},dataType:"json"})}(q),function(q){return $.ajax({url:settings.city_suggestions_api,type:"GET",data:{query:q.trim()},dataType:"json"})}(q)).done(function(locality,city){for(var i=0,l=(querySuggestionsObject=locality&&locality[0]).length;i<l;i++)locationSuggestionsList[i]={label:querySuggestionsObject[i].name,value:querySuggestionsObject[i].name,full:querySuggestionsObject[i]},document.locationSuggestionsList.push(querySuggestionsObject[i].name);citySuggestionsObject=city&&city[0]&&city[0].objects&&city[0].objects;for(var j=0,len=citySuggestionsObject.length;j<len;j++)citySuggestionList[j]={label:citySuggestionsObject[j].name,value:citySuggestionsObject[j].name,full:citySuggestionsObject[j]},document.locationSuggestionsList.push(citySuggestionsObject[j].name);(locationSuggestionsList.length||citySuggestionList.lenth)&&(locationSuggestionsList.length&&citySuggestionList.length?(Array.prototype.push.apply(combinedSortedArray,citySuggestionList),Array.prototype.push.apply(combinedSortedArray,locationSuggestionsList)):(locationSuggestionsList.length||citySuggestionList.length)&&(Array.prototype.push.apply(combinedSortedArray,locationSuggestionsList),citySuggestionList.length&&Array.prototype.push.apply(combinedSortedArray,citySuggestionList))),combinedSortedArray=_.sortBy(combinedSortedArray,function(obj){return obj.name}),awesomeLocation.list=_.uniq(combinedSortedArray,"label")}):focus||queryElementJquery.focus()};try{awesomeExperience=new Awesomplete("#search_experience",{list:years,minChars:0,sort:function(a,b){var a_value="fresher"===a.value.toString().toLowerCase()?0:a.value,b_value="fresher"===b.value.toString().toLowerCase()?0:b.value;return b_value<a_value?1:a_value<b_value?-1:0},maxItems:20,filter:function(text,input){return!0},replace:function(text){}})}catch(e){awesomeExperience={}}experienceElementJquery.on("focus",function(event){experienceElementJquery.val(),awesomeExperience.evaluate(),awesomeExperience.open()}),experienceElementJquery.on("keyup",function(event){awesomeExperience.open(),13==event.keyCode?(awesomeExperience.close(),13===awesomeExperience.preKeyCode&&searchButtonJquery.trigger("click")):38==event.keyCode||40==event.keyCode||9===event.keyCode||experienceElementJquery.focus(),awesomeExperience.preKeyCode=event.keyCode}),experienceElement&&experienceElement.addEventListener("awesomplete-select",function(event){experienceElementJquery.val(event.text.value),$("#search_location").focus()}),searchButtonJquery.on("click",function(){var trackObject={Source:$(this).data().trackSource||"Public",Page:window.location.pathname||"NA"};urlToRedirect="/s/";var query="",keyword_query="",searched_keywords=$("#search-query").val();if(searched_keywords&&searched_keywords.trim()){for(var keywords=searched_keywords.split(","),actual_keywords=[],track_count=0,i=0,l=keywords.length;i<l;i++)keywords[i].trim()&&(++track_count<9&&(trackObject["Keyword-"+track_count]=keywords[i].trim()),actual_keywords.push(slugifySuggestions(keywords[i])));query=(keyword_query=actual_keywords.join("|"))+"-jobs",trackObject["Keyword Count"]=actual_keywords.length}else trackObject["Keyword Count"]=0,keyword_query="",query="jobs";var json,location=locationElementJquery.val();if(location&&location.trim()&&0<location.trim().length?(trackObject.Location=location.trim()||"NA",query=query+"-in-"+slugifySuggestions(location.trim())):trackObject.Location="NA",window.location.pathname.startsWith("/candidate-zone")){urlToRedirect="/candidate-zone/search/";var urlParams={};keyword_query&&(urlParams.query=keyword_query),location&&location.trim()&&(urlParams.location=location.trim()),urlParams.page=1,urlParams.sort="relevance",json=urlParams,urlParams="?"+Object.keys(json).map(function(key){return encodeURIComponent(key)+"="+encodeURIComponent(json[key])}).join("&"),urlToRedirect+=urlParams,urlToRedirect=urlToRedirect.replace(/\/+$/g,"")}else urlToRedirect+=query,urlToRedirect=urlToRedirect.replace(/\/+$/g,"")+"/";var exp=experienceElementJquery.val();return exp&&exp.trim()&&(urlToRedirect=urlToRedirect+"?experience="+exp),trackObject.State=Cookies.get("access_token")?"Logged In":"Logged Out",trackEvent("Job Search Action",trackObject),window.location=urlToRedirect,!1});var removeSelectedFromSuggestions=function(list){var return_list,i,l,new_jobs_text,new_job_count,inputValue=$("#search-query").val(),selectedTexts=[],label="";if(0===inputValue.trim().length&&recentSearch._keywords&&Array.isArray(recentSearch._keywords)&&0<recentSearch._keywords.length){var recent_search_list=[];for(i=recentSearch._keywords.length-1;0<=i;i--){var new_job=!1;recentSearch[recentSearch._keywords[i]]&&recentSearch[recentSearch._keywords[i]].new_count>recentSearch[recentSearch._keywords[i]].old_count?(new_jobs_text=1<(new_job_count=recentSearch[recentSearch._keywords[i]].new_count-recentSearch[recentSearch._keywords[i]].old_count)?new_job_count+" New Jobs":new_job_count+" New Job",label='<div class=""><span class="col-xs-9 p-all-0 ellipsis-1-line">'+recentSearch._keywords[i]+'</span><span class="col-xs-3 badge badge-success b-radius-4 text-center p-all-0"><span class="text-extra-small text-light line-height-20">'+new_jobs_text+" </span></span></div>",new_job=!0):label='<div class=""><span class="col-xs-12 p-all-0 ellipsis-1-line">'+recentSearch._keywords[i]+"</span></div>",recent_search_list.push({label:label,value:recentSearch._keywords[i],new_job:new_job,new_jobs_text:new_jobs_text})}0<(recent_search_list=recent_search_list.sort(function(a,b){return a.new_job?-1:b.new_job?1:0})).length&&(recent_search_list[0].new_job?recent_search_list[0].label='<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Recent Searches</div><div style="padding-bottom:5px !important; padding-top:5px !important;" class="js-recent-click flex-center"><span class="col-xs-9 p-all-0 ellipsis-1-line p-y-axis-5">'+recent_search_list[0].value+'</span><span class="col-xs-3 badge badge-success b-radius-4 text-center p-all-0"><span class="text-extra-small text-light line-height-20">'+recent_search_list[0].new_jobs_text+" </span></span></div>":recent_search_list[0].label='<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Recent Searches</div><div style="padding-bottom:5px !important; padding-top:5px !important;" class="js-recent-click flex-center"><span class="col-xs-12 p-all-0 ellipsis-1-line p-y-axis-5">'+recent_search_list[0].value+"</span></div>"),return_list=recent_search_list,awesome.recent_search=!0}else{if(awesome.recent_search=!1,Array.isArray(list)){if(list.length,inputValue.trim()){var newList=[],trimmedSelectedTexts=[];for(i=0,l=(selectedTexts=inputValue.trim().split(",")).length;i<l;i++)selectedTexts[i].trim()&&trimmedSelectedTexts.push(selectedTexts[i].trim());if(0<trimmedSelectedTexts.length){for(i=0,l=list.length;i<l;i++)try{var listText=list[i].value;trimmedSelectedTexts.indexOf(listText)<0&&newList.push(list[i])}catch(e){newList.push(list[i])}return_list=newList}else return_list=list}}else return_list=list;Array.isArray(return_list)&&0<return_list.length&&(1<(selectedTexts=inputValue.trim().split(",")).length&&!selectedTexts[selectedTexts.length-1].trim()?0<=return_list[0].label.indexOf('<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Related Searches</div>')||0<=return_list[0].label.indexOf('<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Suggested Searches</div>')||0<=return_list[0].label.indexOf('<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Recent Searches</div>')||(label='<div style="padding-bottom:5px !important; padding-top:5px !important;"><span class="col-xs-12 p-all-0 ellipsis-1-line p-y-axis-5">'+return_list[0].label+"</span></div>",return_list[0].label='<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Related Searches</div>'+label):0<=return_list[0].label.indexOf('<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Related Searches</div>')||0<=return_list[0].label.indexOf('<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Suggested Searches</div>')||0<=return_list[0].label.indexOf('<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Recent Searches</div>')||(label='<div style="padding-bottom:5px !important; padding-top:5px !important;"><span class="col-xs-12 p-all-0 ellipsis-1-line p-y-axis-5">'+return_list[0].label+"</span></div>",return_list[0].label='<div class="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5">Suggested Searches</div>'+label))}return return_list}},$.fn.candidate_searchify=function(options){var locationElement,settings=$.extend({search:"job",suggestions_api:baseURI+(options&&"candidate"==options.search?"api/v4/suggest/candidates/":"api/v4/suggest/jobs/"),zone:options&&"candidate"===options.search?"employer":Cookies.get("zone")},options),queryElement=document.getElementById("search-query");try{locationElement=document.getElementById("search-location")}catch(e){locationElement={}}function trackSearchTypeAhead($element,eventName,selectedVal){if($element.data("started_typing")){var source=$("#search-bar").data("source");(settings.zone||"").toLowerCase(),loginModule.sendEvent(eventName,{Source:source,Keyword:$element.val(),"Selected Value":selectedVal||"NA"})}}var selectedSuggestion,awesome,searchButtonJquery=$(".search-btn"),locationElementJquery=$("#search-location"),queryElementJquery=this.find("#search-query"),querySuggestionsList=[],selectedLocation="",selectedLocationQuery="";if(queryElementJquery.on("focusin",function(){var moment=new Date;$(this).data("focus_in_moment",moment),searchButtonJquery.data("focus_in_moment")||searchButtonJquery.data("focus_in_moment",moment)}),locationElementJquery.on("focusin",function(){var moment=new Date;$(this).data("focus_in_moment",moment),searchButtonJquery.data("focus_in_moment")||searchButtonJquery.data("focus_in_moment",moment)}),queryElementJquery.on("keyup",function(){$(this).data("started_typing",!0)}),locationElementJquery.on("keyup",function(){$(this).data("started_typing",!0)}),queryElementJquery.on("blur",function(){var $self=$(this);if($self.data("started_typing")){var keyword=$self.val();searchButtonJquery.data("user_query_input",keyword),trackSearchTypeAhead($self,"Search - Typeahead - Query",selectedSuggestion?selectedSuggestion.text?selectedSuggestion.text:selectedSuggestion._source.entity_name?selectedSuggestion._source.entity_name:"NA":"NA"),$self.data("started_typing",!1)}}),locationElementJquery.on("blur",function(){var $self=$(this);if($self.data("started_typing")){var keyword=$self.val();searchButtonJquery.data("user_location_input",keyword),trackSearchTypeAhead($self,"Search - Typeahead - Location",selectedLocation.formatted_address||"NA"),$self.data("started_typing",!1)}}),$("#search-query").val(Cookies.get("search-term")),$("#search-query-hidden").val(window.localStorage.getItem("search-term-hidden")),window.localStorage.getItem("search-term-hidden"))try{selectedSuggestion=JSON.parse(window.localStorage.getItem("search-term-hidden"))}catch(e){}$("#search-location").val(Cookies.get("search-location")?decodeURIComponent(Cookies.get("search-location")):void 0),$("#search-location-hidden").val(Cookies.get("search-location-hidden"));try{awesome=new Awesomplete(queryElement,{replace:function(text){this.input.value=text.value.text||text.value._source.entity_name},sort:function(a,b){return 1},item:function(text,input){return function(o){var element=document.createElement("li");for(var i in o){var val=o[i];if("inside"===i)$(val).appendChild(element);else if("around"===i){var ref=$(val);ref.parentNode.insertBefore(element,ref),element.appendChild(ref)}else i in element?element[i]=val:element.setAttribute(i,val)}return element}({innerHTML:""===input?text:text.replace(RegExp(input.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")+"(?=[^<>]*(<|$))","gi"),"<mark>$&</mark>"),"aria-selected":"false"})}})}catch(e){awesome={}}window.addEventListener("awesomplete-select",function(event){selectedSuggestion=event.text.value,$("#search-location").focus(),queryElementJquery.data("selection_moment",new Date)},!1),queryElementJquery.on("keyup",function(event){if(13!=event.keyCode&&38!=event.keyCode&&40!=event.keyCode){$.ajax({url:settings.suggestions_api,type:"GET",data:{q:queryElementJquery.val()},dataType:"json",success:function(suggestionsJSON){suggestionsJSON.objects,suggestionsJSON.objects=sortSuggestionList(suggestionsJSON.objects),querySuggestionsList=makeListFromSuggestions(suggestionsJSON),awesome.list=querySuggestionsList}});var query=$("#search-query").val();selectedSuggestion={text:query},Cookies.set("search-term",query),window.localStorage.setItem("search-term-hidden",JSON.stringify(selectedSuggestion))}}),searchButtonJquery.on("click",function(){var urlToRedirect="",trackObject={};if(Cookies.get("search-location")&&Cookies.get("search-location-hidden")&&(selectedLocationQuery="-around-"+slugifyLocation(Cookies.get("search-location"))+"-"+Cookies.get("search-location-hidden"),trackObject.location=Cookies.get("search-location")||"NA"),options&&"candidate"==options.search){if(urlToRedirect="/s/hire/",trackObject.search="candidate",selectedSuggestion&&(window.localStorage.setItem("search-term-hidden",JSON.stringify(selectedSuggestion)),selectedSuggestion.text&&(Cookies.set("search-term",selectedSuggestion.text),urlToRedirect+=slugifySuggestions(selectedSuggestion.text),trackObject.search_type="keyword",trackObject.keyword=selectedSuggestion.text),selectedSuggestion._source)){switch(Cookies.set("search-term",selectedSuggestion._source.entity_name),selectedSuggestion._source.category){case"Functional Area":urlToRedirect="/s/hire-"+selectedSuggestion._source.slug+"/";break;case"Skill":urlToRedirect="/s/hire-with-"+selectedSuggestion._source.slug+"/"}trackObject.keyword=selectedSuggestion._source.entity_name||"NA",trackObject.search_type=selectedSuggestion._source.category||"NA"}}else if(urlToRedirect="/s/jobs/",trackObject.search="job",selectedSuggestion&&(window.localStorage.setItem("search-term-hidden",JSON.stringify(selectedSuggestion)),selectedSuggestion.text&&(Cookies.set("search-term",selectedSuggestion.text),urlToRedirect+=slugifySuggestions(selectedSuggestion.text),trackObject.search_type="keyword",trackObject.keyword=selectedSuggestion.text),selectedSuggestion._source)){switch(Cookies.set("search-term",selectedSuggestion._source.entity_name),selectedSuggestion._source.category){case"Functional Area":urlToRedirect="/s/"+selectedSuggestion._source.slug+"-jobs/";break;case"Company":case"Industry":urlToRedirect="/s/jobs-in-"+selectedSuggestion._source.slug+"/";break;case"Skill":urlToRedirect="/s/jobs-with-"+selectedSuggestion._source.slug+"/"}trackObject.keyword=selectedSuggestion._source.entity_name||"NA",trackObject.search_type=selectedSuggestion._source.category||"NA"}trackObject.page=document.location.pathname||"NA",trackObject.source=$("#search-bar").data("source")||"NA",trackObject.location=trackObject.location||"NA",trackObject.search_type=trackObject.search_type||"NA",trackObject.keyword=trackObject.keyword||"NA",trackObject.State=Cookies.get("access_token")?"Logged In":"Logged Out";var expiryTime=new Date;return expiryTime.setTime(expiryTime.getTime()+24e4),searchButtonJquery.data("user_query_input")?"undefined"!=typeof Cookies&&Cookies.set("user-query-input",searchButtonJquery.data("user_query_input"),{expires:expiryTime}):"undefined"!=typeof Cookies&&Cookies.remove("user-query-input"),searchButtonJquery.data("user_location_input")?"undefined"!=typeof Cookies&&Cookies.set("user-location-input",searchButtonJquery.data("user_location_input"),{expires:expiryTime}):"undefined"!=typeof Cookies&&Cookies.remove("user-location-input"),searchButtonJquery.data("focus_in_moment"),queryElementJquery.data("focus_in_moment"),locationElementJquery.data("focus_in_moment"),queryElementJquery.data("selection_moment"),locationElementJquery.data("selection_moment"),loginModule.sendEvent("Search Action",trackObject),urlToRedirect=urlToRedirect.replace(/\/+$/g,""),window.location=urlToRedirect+selectedLocationQuery+"/",!1});try{locationElement.addEventListener("focus",function(event){locationElement.select("value")}),locationElement.addEventListener("keyup",function(e){e.stopPropagation(),13===e.keyCode&&0===locationElement.value.length?$(".search-btn").click():0===locationElement.value.length&&(Cookies.remove("search-location"),Cookies.remove("search-location-hidden")),window.searchAutocomplete||loadScript("https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places&callback=initializePlacesInput&key=AIzaSyDQqMf0iAtipQfF2CNxWAVqEQeWsDqOnC0",function(){})})}catch(e){}window.initializePlacesInput=function(){window.searchAutocomplete=new google.maps.places.Autocomplete(locationElement),window.searchAutocomplete.addListener("place_changed",function(){var selectedLocationName=(selectedLocation=this.getPlace()).formatted_address.split(",")[0],selectedLocationGeoHash=Geohash.encode(selectedLocation.geometry.location.lat(),selectedLocation.geometry.location.lng());selectedLocationQuery="-around-"+selectedLocationName+"-"+selectedLocationGeoHash,Cookies.set("search-location",selectedLocationName),Cookies.set("search-location-hidden",selectedLocationGeoHash),locationElementJquery.data("selection_moment",new Date)})};var loadScript=function(src,callback){var script=document.createElement("script");script.type="text/javascript",callback&&(script.onload=callback),document.getElementsByTagName("head")[0].appendChild(script),script.src=src},makeListFromSuggestions=function(suggestionsJSON){if(querySuggestionsList=[],options&&"candidate"==options.search)for(var candidateSuggestionItem in suggestionsJSON.objects)if(suggestionsJSON.objects[candidateSuggestionItem]&&"text"in suggestionsJSON.objects[candidateSuggestionItem])querySuggestionsList[candidateSuggestionItem]={label:'<span class="text-light display-block p-y-axis p-x-axis-sm text-small">'+suggestionsJSON.objects[candidateSuggestionItem].text+"</span>",value:suggestionsJSON.objects[candidateSuggestionItem]};else switch(suggestionsJSON.objects[candidateSuggestionItem]._source.category){case"Skill":querySuggestionsList[candidateSuggestionItem]={label:'<div class="col-xs-12 p-y-axis-xs b-bottom-gray-lightest flex-center p-x-axis-sm text-small"><span class="col-xs-12 p-all-0 ellipsis-1-line">Candidates with '+suggestionsJSON.objects[candidateSuggestionItem]._source.entity_name+" Skills </span></div>",value:suggestionsJSON.objects[candidateSuggestionItem]};break;case"Functional Area":querySuggestionsList[candidateSuggestionItem]={label:'<div class="col-xs-12 p-y-axis-xs b-bottom-gray-lightest flex-center p-x-axis-sm text-small"><span class="col-xs-12 p-all-0 ellipsis-1-line">'+suggestionsJSON.objects[candidateSuggestionItem]._source.entity_name+" candidates </span></div>",value:suggestionsJSON.objects[candidateSuggestionItem]}}else for(var jobSuggestionItem in suggestionsJSON.objects)if(suggestionsJSON.objects[jobSuggestionItem]&&"text"in suggestionsJSON.objects[jobSuggestionItem])querySuggestionsList[jobSuggestionItem]={label:'<span class="text-light p-y-axis display-block p-x-axis-sm text-small">'+suggestionsJSON.objects[jobSuggestionItem].text+"</span>",value:suggestionsJSON.objects[jobSuggestionItem]};else switch(suggestionsJSON.objects[jobSuggestionItem]._source.category){case"Industry":querySuggestionsList[jobSuggestionItem]={label:'<div class="col-xs-12 p-y-axis-xs b-bottom-gray-lightest flex-center p-x-axis-sm text-small"><span class="col-xs-12 p-all-0 ellipsis-1-line">Jobs in '+suggestionsJSON.objects[jobSuggestionItem]._source.entity_name+" Industry </span></div>",value:suggestionsJSON.objects[jobSuggestionItem]};break;case"Functional Area":querySuggestionsList[jobSuggestionItem]={label:'<div class="col-xs-12 p-y-axis-xs b-bottom-gray-lightest flex-center p-x-axis-sm text-small"><span class="col-xs-12 p-all-0 ellipsis-1-line">Jobs as '+suggestionsJSON.objects[jobSuggestionItem]._source.entity_name+" </span></div>",value:suggestionsJSON.objects[jobSuggestionItem]};break;case"Company":querySuggestionsList[jobSuggestionItem]={label:'<div class="col-xs-12 p-y-axis-xs b-bottom-gray-lightest flex-center p-x-axis-sm text-small"><span class="col-xs-12 p-all-0 ellipsis-1-line">Jobs in '+suggestionsJSON.objects[jobSuggestionItem]._source.popular_name+" Company </span></div>",value:suggestionsJSON.objects[jobSuggestionItem]};break;case"Skill":querySuggestionsList[jobSuggestionItem]={label:'<div class="col-xs-12 p-y-axis-xs b-bottom-gray-lightest flex-center p-x-axis-sm text-small"><span class="col-xs-12 p-all-0 ellipsis-1-line">Jobs requiring '+suggestionsJSON.objects[jobSuggestionItem]._source.entity_name+" Skills </span></div>",value:suggestionsJSON.objects[jobSuggestionItem]}}return querySuggestionsList},sortSuggestionList=function(list){return list.sort(function(a,b){return a._source&&a._source.vacancies&&b._source&&b._source.vacancies&&a._source.vacancies>b._source.vacancies||a._source&&a._source.vacancies&&!b._source&&b.text?1:b._source&&b._source.vacancies&&!a._source&&a.text?-1:0})},slugifySuggestions=function(text){return text.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/\//,"-")},slugifyLocation=function(text){return text.toString().toLowerCase().replace(/,\s+/g,"-").replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/\_/g,".").replace(/-+$/,"")}};var ajUtilities={};!function(self){self.loadScript=function(src,callback){var script=document.createElement("script");script.type="text/javascript",callback&&(script.onload=callback),document.getElementsByTagName("head")[0].appendChild(script),script.src=src},self.geocode=function(options){var deferred=$.Deferred();return(new google.maps.Geocoder).geocode(options,function(results,status){status==google.maps.GeocoderStatus.OK?deferred.resolve(results[0]):deferred.reject(status)}),deferred.promise()},self.getCurrentPosition=function(geoLocationOptions){var deferred=$.Deferred();return navigator.geolocation?(void 0===geoLocationOptions?geoLocationOptions={timeout:5e3}:void 0===geoLocationOptions.timeout&&(geoLocationOptions.timeout=5e3),navigator.geolocation.getCurrentPosition(function(position){deferred.resolve(position)},function(evt){deferred.reject(evt)},geoLocationOptions)):deferred.reject("Browser Geolocation service failed."),deferred.promise()},self.DateTimeService={getYearList:function(startYear,descending){var list=[],currentYear=(new Date).getFullYear();null==startYear&&(startYear=1950);for(var i=startYear;i<=currentYear;i++){var listObj={value:i,display:i};list.push(listObj)}return descending&&(list=angular.copy(list).reverse()),list},getMonthList:function(format){var list=[],monthsArray=[];switch(format){case"short":monthsArray=moment.monthsShort();break;case"long":monthsArray=moment.months();break;default:monthsArray=moment.monthsShort()}for(var monthsArrayLen=monthsArray.length,i=0;i<monthsArrayLen;i++){var listObj={value:i<10?"0"+i:i,display:monthsArray[i]};list.push(listObj)}return list},getDaysNumberList:function(limit){for(var list=[],i=1;i<=31;i++){var lzNum=i<10?"0"+i:i,listObj={value:lzNum,display:lzNum};list.push(listObj)}return list},getMonthsNumbersList:function(limit,startAt,appendText){for(var list=[],i=startAt;i<=limit;i++){var displayKey=1===i?i.toString()+" "+appendText:i.toString()+" "+appendText+"s",listObj={value:i,display:displayKey};list.push(listObj)}return list}},self.serializeUrl=function(obj,prefix){var str=[];for(var p in obj)if(obj.hasOwnProperty(p)){var k=prefix?prefix+"["+p+"]":p,v=obj[p];if(v&&Array.isArray(v))for(var i=0;i<v.length;i++){var newObj={};newObj[p]=v[i],str.push("object"==typeof v?self.serializeUrl(newObj):encodeURIComponent(k)+"="+encodeURIComponent(v))}else null!=v&&str.push("object"==typeof v?self.serializeUrl(v,k):encodeURIComponent(k)+"="+encodeURIComponent(v))}return str.join("&")},self.parseUrlParams=function(){return _.chain(window.location.search.slice(1).split("&")).map(function(item){if(item)return item.split("=")}).compact().object().mapObject(function(value){return decodeURIComponent(value)}).value()},self.customEvent=function(name,data){var event;return("function"==typeof Event?"function"==typeof CustomEvent||"object"==typeof CustomEvent:fa)?event=new CustomEvent(name,data):((event=document.createEvent("Event")).initEvent(name,!0,!0),event)},self.addMultipleEvents=function(el,str,fn){str.split(" ").forEach(function(e){el.addEventListener(e,fn)})},self.getDataAtribute=function(el,name){return el.dataset&&el.dataset[name]||el.getAttribute("data-"+name)},self.numbersList=function(limit,startAt,appendText){for(var list=[],i=startAt;i<=limit;i++){var displayKey=i<=1?i.toString()+" "+appendText:i.toString()+" "+appendText+"s",listObj={value:i,label:displayKey};list.push(listObj)}return list},self.decodeHtmlEntities=function(encodedString){var textarea=document.createElement("textarea");return textarea.innerHTML=encodedString,textarea.value},self.findChildNodesByClass=function(elm,className){for(var childElem,childNodes=elm.childNodes,matchedChild=[],i=0;i<childNodes.length;i++)"className"in(childElem=childNodes[i])&&(childElem.className===className?matchedChild.push(childElem):matchedChild=matchedChild.concat(self.findChildNodesByClass(childElem,className)));return matchedChild},self.setCookie=function(name,value,settings){var sett=cookie_settings;cookie_settings&&(sett=JSON.parse(cookie_settings.replace(/&#39;/g,'"'))),name&&Cookies.set(name,value||"",sett?_.extend(sett,settings):sett)}}(ajUtilities);var debouncedResize=function(){function onResize(){cancelAnimationFrame(rafIndex),rafIndex=requestAnimationFrame(runCallbacks)}var lastWindowSize={x:window.innerWidth,y:window.innerHeight},threshold=992,rafIndex=0,callbacks=[];function runCallbacks(){var isResizedenough,currentWindowWidth;isResizedenough=!1,(currentWindowWidth=window.innerWidth)>lastWindowSize.x&&lastWindowSize.x<threshold&&threshold<currentWindowWidth?isResizedenough=!0:currentWindowWidth<lastWindowSize.x&&lastWindowSize.x>threshold&&currentWindowWidth<threshold&&(isResizedenough=!0),lastWindowSize.x=currentWindowWidth,isResizedenough&&callbacks.forEach(function(callback){callback()})}return{add:function(callback){callbacks.length||window.addEventListener("resize",onResize),function(callback){callback&&callbacks.push(callback)}(callback)}}}(),faqjs=function($){var faqElements=[];function findMatches(regex){if(regex){var text=Array.prototype.slice.call(arguments,1).join(";");return regex.test(text)}}function search(event){var inputText=event.target.value;if(!(0!==inputText.length&&inputText.length<3)){for(var matchRegex=new RegExp(inputText,"i"),question="",answer="",isInputZero=!inputText.length,i=0,len=faqElements.length;i<len;i++)question=faqElements[i].questionElement&&(faqElements[i].questionElement.innerText||faqElements[i].questionElement.textContent),answer=faqElements[i].answerElement&&(faqElements[i].answerElement.innerText||faqElements[i].answerElement.textContent),isInputZero||findMatches(matchRegex,question,answer)?$(faqElements[i].parentElement).removeClass("hide").addClass("show"):$(faqElements[i].parentElement).removeClass("show").addClass("hide");answer=question=null}}return{run:function(inputElement){inputElement&&$(inputElement).on("keyup",search),function(){for(var answerNodes=$(".answer"),i=0,len=answerNodes.length;i<len;i++){var parentNode=$(answerNodes[i]).parent(".basic-collapse"),questionNode=parentNode.find(".question"),faqElement={};faqElement.answerElement=answerNodes[i],faqElement.questionElement=questionNode[0],faqElement.parentElement=parentNode[0],faqElements.push(faqElement)}}()}}}((window,$));function bindTrackGAEvents(){$(".track-ga").on("click",function(e){var gaObject={},trackData=$(this).data();trackData&&(trackData.gaCategory&&(gaObject.eventCategory=trackData.gaCategory?trackData.gaCategory:"NA"),trackData.gaAction&&(gaObject.eventAction=trackData.gaAction?trackData.gaAction:"NA"),trackData.gaLabel&&(gaObject.eventLabel=trackData.gaLabel?trackData.gaLabel:"NA"),trackData.gaValue&&(gaObject.eventValue=trackData.gaValue?trackData.gaValue:"NA"),ga("send","event",gaObject))})}function sendGTagEvent(obj){if("undefined"!=typeof window&&window.dataLayer){var props={event:obj};window.dataLayer.push(props)}}function sendGAEvent(obj){var gaObject={};obj.category&&(gaObject.eventCategory=obj.category?obj.category:"NA"),obj.action&&(gaObject.eventAction=obj.action?obj.action:"NA"),obj.label&&(gaObject.eventLabel=obj.label?obj.label:"NA"),obj.value&&(gaObject.eventValue=obj.value?obj.value:"NA"),ga("send","event",gaObject)}$(document).ready(function(){/\/faq\/$/.test(window.location.pathname)&&faqjs.run($("#faq_search"))}),window.microsite={},microsite.events={},function(events){events.eventList={};var eventUid=-1;function extractEventName(eventString){if(!eventString||"[object String]"!==Object.prototype.toString.call(eventString))return null;var stringSlipt=eventString.split(":");return stringSlipt[stringSlipt.length-1]}function extractEventGroup(eventString){if(!eventString||"[object String]"!==Object.prototype.toString.call(eventString))return null;var objectNestingSplit=eventString.split("."),eventNameSplit=objectNestingSplit[objectNestingSplit.length-1].split(":");(objectNestingSplit=objectNestingSplit.splice(objectNestingSplit.length-1,1)).push(eventNameSplit[0]);for(var group,len=objectNestingSplit.length,i=0;i<len;i++)group=events.eventList[objectNestingSplit[i]];return group||null}events.triggerEvent=function(name,args,context){return function(name,args,context){var eventGroup=extractEventGroup(name),eventName=extractEventName(name);if(eventGroup&&eventName&&eventGroup._events[eventName]){var subscribers=eventGroup._events[eventName],length=subscribers.length||0;context=context||null;for(var i=0;i<length;i++)subscribers[i].func.call(context,name,args)}}(name,args,context),context||this},events.on=function(name,fn){return function(name,fn){var eventGroup=extractEventGroup(name),eventName=extractEventName(name);if(eventGroup){if(!eventName)throw new Error("Improper event name configuration.");var token="event_ms_"+(++eventUid).toString(),newEvent={token:token,func:fn};return eventGroup._events[eventName]||(eventGroup._events[eventName]=[]),eventGroup._events[eventName].push(newEvent),token}}(name,fn)},events.createGroup=function(name){if(!name||"[object String]"!==Object.prototype.toString.call(name))throw new Error("Invalid Arguments");return function(name){name&&"[object String]"===Object.prototype.toString.call(name)&&(events.eventList[name]||(events.eventList[name]={_events:[]}))}(name),this}}(microsite.events,jQuery),function(scope,$){scope.Input=function(settings,element,plugin){this.settings=settings||{},this.plugin=plugin||null,this.element=element,"function"==typeof Object.defineProperty&&Object.defineProperty(this,"value",{enumerable:!0,get:function(){return this.element.value},set:function(value){this.element.value=value}})},$.extend(!0,scope.Input.prototype,{handleEvent:function(evt){}})}(microsite,jQuery),function(scope,$,_,utils,plugin){scope.Awesomeinput=function(){if(!arguments[0])throw Error("Constructor expects at least 1 arguments. None provided");if(!(arguments[0]instanceof HTMLElement))throw Error("Expected an HTMLElement. Provided "+typeof arguments[0]);var settings={suggestionUrl:null,label:"label",value:"value",closeOnSelect:!0,title:"Awesome search",list:[],autoFirst:!1,preload:{list:[],remote:!1,title:"Awesome preload",removeSelection:!1}};settings=arguments[1]&&"[object Object]"===Object.prototype.toString.call(arguments[1])?$.extend(!0,{},settings,arguments[1]):settings;var element=arguments[0];scope.Input.call(this,settings,element,plugin),this.typeAhead=new Awesomplete(element,{autoFirst:settings.autoFirst,minChars:0,maxItems:50,filter:function(text,input){return utils.getDataAtribute(this.input,"multiple"),!0},item:function(text,input){return plugin.ITEM(text,input.match(/[^,]*$/)[0])},replace:function(text){var before=this.input.value.match(/^.+,\s*|/)[0],isDataMultiple=""===utils.getDataAtribute(this.input,"multiple");this.input.value=isDataMultiple?before+text+", ":text.value},sort:settings.sort||void 0}),this.typeAhead.list=this.settings.list||[],this.mapItems(this.settings.list),this.prekeyCode=!1,scope.events.createGroup("awesompleteEvents"),utils.addMultipleEvents.call(this,this.element,"awesomplete-open awesomplete-select focus keyup",this)};var awesomeSearchPrototype={removePreloadSelection:function(selection){if(selection&&this.settings.preload.removeSelection&&"fetched"!==this.typeAhead.listType){var newList=_.filter(this.typeAhead._list,function(obj){return obj.value!==selection});this.mapItems(newList),this.renderTypeAhead()}},renderTypeAhead:function(){this.typeAhead.evaluate(),this.typeAhead.open()},getTypeAhead:function(){return this.typeAhead},onfocus:function(){(null===this.element.value||""===this.element.value)&&0<this.settings.preload.list.length&&this.mapItems(this.settings.preload.list),this.element.value&&0===this.typeAhead.ul.childNodes.length&&(this.typeAhead.minChars=0),this.settings.closeOnSelect&&this.element.value||this.renderTypeAhead()},onkeyup:function(evt){var charCode=(evt=evt||window.event).keycode||evt.which;this.settings.suggestionUrl?null!=charCode&&(13===charCode?13===this.prekeyCode&&(this.prekeyCode=charCode,scope.events.triggerEvent("awesompleteEvents:enter",{},this),this.typeAhead.close()):this.element.value&&38!==charCode&&40!==charCode&&9!==charCode&&$.when(this.fetchItems(null,{q:this.element.value})).then(function(data){this.renderTypeAhead()},function(err){})):13===charCode&&13===this.prekeyCode&&(this.prekeyCode=charCode,scope.events.triggerEvent("awesompleteEvents:enter",{},this),this.typeAhead.close()),this.prekeyCode=charCode},"onawesomplete-open":function(){if(this.typeAhead.ul.firstChild&&"DIV"!==this.typeAhead.ul.firstChild.firstChild.tagName&&(this.settings.preload.list.length&&"[object String]"===Object.prototype.toString.call(this.settings.preload.title)||"[object String]"===Object.prototype.toString.call(this.settings.title))){var element=document.createElement("div");element.innerHTML=(null===this.element.value||""===this.element.value)&&0<this.settings.preload.list.length?this.settings.preload.title:this.settings.title,element.setAttribute("aria-selected","false"),element.className="text-left text-small text-gray-dark pointer-events-none text-gray-light line-height-1 b-bottom-gray-lightest row p-left-5 p-y-axis-5 m-bottom-5",this.typeAhead.ul.firstChild.className+="p-bottom-5",this.typeAhead.ul.firstChild.insertBefore(element,this.typeAhead.ul.firstChild.firstChild||null)}},"onawesomplete-select":function(evt){this.settings.closeOnSelect||(evt.keycode||evt.which,event.preventDefault(),this.typeAhead.replace(evt.text),this.removePreloadSelection(evt.text.value),this.onkeyup())},handleEvent:function(evt){this["on"+evt.type]&&this["on"+evt.type](evt)},fetchItems:function(url,payload){if(!this.settings.suggestionUrl&&!url)throw Error("No valid url found");url&&(self.settings.suggestionUrl=url);var self=this,deffered=$.Deferred();return $.ajax({context:self,url:self.settings.suggestionUrl,type:"GET",data:payload,dataType:"json",success:function(data){self.mapItems(data.objects),0<data.objects.length&&(this.typeAhead.listType="fetched"),deffered.resolve.call(this,self.typeAhead.list)}}),deffered.promise()},mapItems:function(data){if(!data||"[object Array]"!==Object.prototype.toString.call(data))throw new Error("Expected argument to be type Array. Found "+typeof data+" "+data);var label=this.settings.label,value=this.settings.value;this.typeAhead.list=_.map(data,function(obj){if(obj.label&&obj.value)return obj;var listObj={};return"[object Object]"===Object.prototype.toString.call(obj)?(obj[label]&&(listObj.label=obj[label]),obj[value]&&(listObj.value=obj[value])):(listObj.label=obj,listObj.value=obj),listObj})}};scope.Awesomeinput.prototype=Object.create(scope.Input.prototype),scope.Awesomeinput.prototype.constructor=scope.Awesomeinput,$.extend(!0,scope.Awesomeinput.prototype,awesomeSearchPrototype)}(microsite,jQuery,_,ajUtilities,Awesomplete),function(scope,$){scope.SearchInput=function(){if(!arguments[0])throw Error("Constructor expects at least 1 arguments. None provided");if("[object String]"!==Object.prototype.toString.call(arguments[0]))throw Error("Expected a string selector, got "+Object.prototype.toString.call(arguments[0]));this.instances=[];var selector=arguments[0],settings=arguments[1];function createNewInput(el){var newSearch=new scope.Awesomeinput(el,settings);return newSearch.getRelatedSearch=function(){null!==newSearch.element.value&&void 0!==newSearch.element.value&&""!==newSearch.element.value.trim()&&$.when(this.fetchItems(null,{q:newSearch.element.value})).then(function(data){this.renderTypeAhead()},function(err){})},newSearch["onawesomplete-select"]=function(evt){newSearch.settings.closeOnSelect||(event.preventDefault(),newSearch.typeAhead.replace(evt.text),newSearch.removePreloadSelection(evt.text.value),newSearch.getRelatedSearch())},newSearch}this.settings=settings;for(var element=document.querySelectorAll&&document.querySelectorAll(selector)||"."===selector.charAt(0)&&document.getElementsByClassName(selector.slice(1))||"#"===selector.charAt(0)&&document.getElementById(selector.slice(1))&&[document.getElementById(selector.slice(1))],i=0;i<element.length;i++)this.instances.push(createNewInput(element[i]))},$.extend(!0,scope.SearchInput.prototype,{setValue:function(value){this.settings.linkValues&&this.instances.forEach(function(instance){instance.value=value})},setToFirst:function(){if(this.settings.linkValues){for(var firstValue=null,i=0;i<this.instances.length;i++)if(this.instances[i].value){firstValue=this.instances[i].value;break}this.setValue(firstValue)}}})}(microsite,jQuery),function(scope){scope.Button=function(element,settings,plugin){this.settings=settings||{},this.plugin=plugin||null,this.element=element;var eventRegex=/^on/i;for(var setting in this.settings)this.settings.hasOwnProperty(setting)&&eventRegex.test(setting)&&"function"==typeof this.settings[setting]&&(this.element["on"+setting.slice(2)]=this.settings[setting])},$.extend(!0,scope.Button,{})}(microsite),function(scope){scope.SearchButton=function(){if(!arguments[0])throw Error("Constructor expects at least 1 arguments. None provided");if("[object String]"!==Object.prototype.toString.call(arguments[0]))throw Error("Expected a string selector, got "+Object.prototype.toString.call(arguments[0]));this.instances=[];for(var selector=arguments[0],element=document.querySelectorAll&&document.querySelectorAll(selector)||"."===selector.charAt(0)&&document.getElementsByClassName(selector.slice(1))||"#"===selector.charAt(0)&&document.getElementById(selector.slice(1))&&[document.getElementById(selector.slice(1))],i=0;i<element.length;i++){var newButton=new scope.Button(element[i],arguments[1]);newButton.index=i,newButton.element.setAttribute("data-index",newButton.index),this.instances.push(newButton)}}}(microsite),function(scope,$){scope.PageButton=function(element,settings){"[object Array]"===Object.prototype.toString.call(element)&&(element=element[0]),scope.Button.call(this,element,settings)},scope.PageButton.prototype=Object.create(scope.Button.prototype),scope.PageButtonList=function(){if(!arguments[0])throw Error("Constructor expects at least 1 arguments. None provided");if("[object Array]"!==Object.prototype.toString.call(arguments[0]))throw Error("Expected a Array, got "+Object.prototype.toString.call(arguments[0]));var settings=arguments[1]||{};this.list=arguments[0],this.selectorElement="",this.createButtonList=function(){this.childtemplates=function(){for(var childTemplates=[],i=0,length=this.list.length;i<length;i++){var buttonElement=document.createElement("button");buttonElement.setAttribute("data-page",this.list[i]),buttonElement.innerHTML=this.list[i]+"",buttonElement.value=this.list[i],buttonElement.className+="text-light",childTemplates.push(new microsite.PageButton(buttonElement,settings))}return childTemplates}.call(this)||[],this.element=function(ins_arr){var el=document.createDocumentFragment().appendChild(document.createElement("ul"));el.className+="list-inline pagination-links m-all-0 p-y-axis-xs m-y-axis-xs text-center";for(var i=0;i<ins_arr.length;i++){var buttonParent=document.createElement("li");buttonParent.appendChild(ins_arr[i].element),el.appendChild(buttonParent)}return el}.call(this,this.childtemplates)||""},this.createButtonList()};var pageButtonListPrototype={appendTo:function(selector){var container;if("string"==typeof selector&&null!=selector){container=document.querySelector&&document.querySelector(selector);var isSelectorString="[object String]"===Object.prototype.toString.call(selector);if(!container&&isSelectorString){if("."===selector.charAt(0)){var elementByClass=document.getElementsByClassName(selector.slice(1));elementByClass&&elementByClass[0]&&(container=elementByClass[0])}"#"===selector.charAt(0)&&(container=document.getElementById(selector.slice(1)))}}for(container=container||this.selectorElement||"",this.selectorElement=container;container.firstChild;)container.removeChild(container.firstChild);container.appendChild&&container.appendChild(this.element)},update:function(data,selector,replace){var isDataArray="[object Array]"===Object.prototype.toString.call(data);data&&isDataArray&&(this.list=replace?data:this.list.concat(data)),this.createButtonList(),this.appendTo(selector)},clear:function(){this.list=[],this.createButtonList(),this.appendTo(this.selectorElement)}};$.extend(!0,scope.PageButtonList.prototype,pageButtonListPrototype)}(microsite,jQuery),function(scope,$,_,document){var counter=-1;scope.Card=function(data,st,settings){var defaults={name:"card_"+(++counter).toString(),helpers:{}};this.settings=$.extend(!0,{},defaults,settings),this.template=data&&st&&this.compile(data,st)||"",this.element=function(){var el=document.createElement("div");return el.innerHTML=this.template,el}.call(this),this.data=data,this.templateString=st};var cardPrototype={compile:function(data,st){if(!data||"[object Object]"!==Object.prototype.toString.call(data))return"";var tmplData=$.extend(!0,{},data,{_template_helpers:this.settings.helpers,SCREEN_SIZE:window.innerWidth});return _.template(st)(tmplData)}};$.extend(!0,scope.Card.prototype,cardPrototype)}(microsite,jQuery,_,document),function(scope){scope.CardList=function(cardData,stringtemplate,settings){if(!cardData)throw Error("Constructor expects at least 1 arguments. None provided");if("[object Array]"!==Object.prototype.toString.call(cardData))throw Error("Expected an array, got "+Object.prototype.toString.call(cardData));var stringTemplate="[object String]"===Object.prototype.toString.call(stringtemplate)?stringtemplate:"";this.list=cardData,this.selectorElement="",this.createCardList=function(){this.childTemplates=function(){for(var childTemplates=[],i=0,length=this.list.length;i<length;i++)childTemplates.push(new microsite.Card(this.list[i],stringTemplate,settings));return childTemplates}.call(this)||[],0===this.childTemplates.length?this.element=function(){var el=document.createDocumentFragment().appendChild(document.createElement("div")),emptyTemplate=settings.list_empty&&settings.list_empty.template||"",emptyTemplateData=settings.list_empty&&settings.list_empty.data||{};return settings.list_header&&(el.innerHTML=_.template(emptyTemplate)(emptyTemplateData)),el}.call(this)||"":this.element=function(ins_arr){var fragment=document.createDocumentFragment(),firstChild=document.createElement("div");firstChild.className+="pos-relative";var el=fragment.appendChild(firstChild),loaderDiv=document.createElement("div");loaderDiv.id="#search-loader",loaderDiv.className+="flex-all-center flex-center p-y-axis-lg pos-absolute",loaderDiv.style.left=0,loaderDiv.style.right=0,loaderDiv.style.bottom=0,loaderDiv.style.top=0,loaderDiv.style.background="rgba(0,0,0,.05)",loaderDiv.style.display="none",loaderDiv.innerHTML="<img src="+window.scriptUrlPath+"src/images/assets/page_loader.gif>",settings.list_header&&(el.innerHTML=_.template(settings.list_header)({}),el.appendChild(loaderDiv));for(var i=0;i<ins_arr.length;i++)el.appendChild(ins_arr[i].element);return el}.call(this,this.childTemplates)||""},this.createCardList()};var cardListPrototype={appendTo:function(selector){var container=document.querySelector&&document.querySelector(selector),isSelectorString="[object String]"===Object.prototype.toString.call(selector);if(!container&&isSelectorString){if("."===selector.charAt(0)){var elementByClass=document.getElementsByClassName(selector.slice(1));elementByClass&&elementByClass[0]&&(container=elementByClass[0])}"#"===selector.charAt(0)&&(container=document.getElementById(selector.slice(1)))}for(container=container||this.selectorElement||"",this.selectorElement=container;container.firstChild;)container.removeChild(container.firstChild);container.appendChild&&container.appendChild(this.element)},update:function(data,selector,replace){var isDataArray="[object Array]"===Object.prototype.toString.call(data);data&&isDataArray&&(this.list=replace?data:this.list.concat(data)),this.createCardList(),this.appendTo(selector)},showLoader:function(){var loader=document.getElementById("#search-loader");loader&&(loader.style.display="")},hideLoader:function(){var loader=document.getElementById("#search-loader");loader&&(loader.style.display="none")},compile:function(){this.childTemplates.forEach(function(card){card.compile(card.data,card.templateString)}),this.createCardList(),this.appendTo()}};$.extend(!0,scope.CardList.prototype,cardListPrototype)}(microsite),function(scope,$,utils,scrollUtil,root){scope.search={range_end:5,range_start:1,agency_id:"",input:{},resized:!1,displayInstances:{},data:{limit:10},resize:function(){var self=this;root.debouncedResize.add(function(){self.resized=!0,scope.jobSearchInput&&scope.jobSearchInput.setToFirst(),scope.locationInput&&scope.locationInput.setToFirst(),self.cardlist.compile(),self.showResultNumbers()})},eventDict:{"search:data-loaded":function(evt,data){var self=this;this.data.count=data.meta.count,this.data.objects=_.map(data.objects,function(obj){return obj.agency_id=self.agency_id,obj}),this.data.currentPage=data.meta.offset/data.meta.limit+1,this.data.totalPages=0===data.count?0:parseInt(data.meta.count/data.meta.limit,10)+1,this.data.currentShowCount=this.data.count-data.meta.offset>data.meta.limit?data.meta.offset+1+"-"+(data.meta.offset+data.meta.limit):this.data.count-data.meta.offset<data.meta.limit?data.meta.offset+1+"-"+this.data.count:"",this.data.currentShowCount="Showing "+this.data.currentShowCount+" of "+this.data.count+" Jobs",this.createCards(),this.togglePagination(),this.createPages(),this.cardlist&&this.cardlist.hideLoader(),"function"==typeof root.bindClevertapEvent&&root.bindClevertapEvent()}},templateHelpers:{educationFilter:function(key){var EducationProficiencyMap={0:"Not Specified",1:"10th",2:"12th",3:"Under Graduation",4:"Graduation",5:"Post Graduation",6:"Doctrate",7:"Diploma"};return EducationProficiencyMap.hasOwnProperty(key)?EducationProficiencyMap[key]:null},companyUrl:function(job){return job&&job.organization?root.siteAddress+"/org/"+job.organization.slug+"/"+job.organization.id:""},jobUrl:function(job){return job?root.siteAddress+"/job/"+job.slug+"/"+job.id:""},genderFilter:function(expectations){var gender_preference_display_value="";return"D"!==expectations.gender_preference&&("M"===expectations.gender_preference?gender_preference_display_value+="Males":"F"===expectations.gender_preference&&(gender_preference_display_value+="Females")),expectations.is_gender_pref_mandatory?gender_preference_display_value+=" Only":gender_preference_display_value="Preferably "+gender_preference_display_value,gender_preference_display_value},pluralize:function(value,string){return"[object Number]"!==Object.prototype.toString.call(value)?value+string:1<value?value+" "+string+"s":value+" "+string},experienceFilter:function(monthsNumber){var displayedValue,years=0,months=0;return void 0===monthsNumber||isNaN(monthsNumber)||(displayedValue="",years=parseInt(monthsNumber/12),months=parseInt(monthsNumber%12)),0!==years&&(displayedValue+=years,displayedValue+=1<years?" yrs":" yr"),0!==months&&(displayedValue+=" ",displayedValue+=months,displayedValue+=1<months?" months":" month"),displayedValue},currencyFilter:function(input,symbol){var exp,converted,abs=Math.abs(input);return window.isNaN(input)?null:input<1e3?input:(exp=Math.floor(Math.log(input)/Math.log(100)),abs>=Math.pow(10,9)?converted=(input/Math.pow(10,exp)).toFixed(1)+"":abs<Math.pow(10,9)&&abs>=Math.pow(10,7)?converted=(input/Math.pow(10,7)).toFixed(1)+" Cr ":abs<Math.pow(10,7)&&abs>=Math.pow(10,5)?converted=(input/Math.pow(10,5)).toFixed(1)+" Lac ":abs<Math.pow(10,5)&&abs>=Math.pow(10,3)&&(converted=(input/Math.pow(10,3)).toFixed(1)+" K "),!1===symbol?converted:"&#8377;"+converted)}},generateCardTemplate:function(){return window.JST["templates/public/partials/partner-search/search-cards"]()},searchDataLoaded:function(evt,data){this.data.count=data.meta.count,this.createCards()},showResultNumbers:function(){if(0<this.data.count){var showing=document.createElement("div");showing.innerHTML=this.data.currentShowCount,showing.className+="m-y-axis-xs text-semibold",this.cardlist.selectorElement.insertBefore(showing,this.cardlist.selectorElement.firstChild)}},createCards:function(parentSelector){this.cardlist?this.updateCards(this.data.objects):(this.cardlist=new microsite.CardList(this.data.objects,this.generateCardTemplate(),{helpers:this.templateHelpers,name:"microsite-search",list_header:'<div class="row hidden-sm hidden-xs"><div class="col-xs-12"> <div class="col-xs-12 bg-gray-darker p-y-axis"> <div class="row"> <div class="col-xs-12 col-md-7"> <div class="row"> <div class="col-xs-12 col-md-6"> <p class="m-bottom-0 text-white">Job Name</p> </div> <div class="col-xs-12 col-md-6"> <p class="m-bottom-0 text-white">Details</p> </div> </div> </div> <div class="col-xs-12 col-md-5"> <div class="row"> <div class="col-xs-12 col-md-7"> <p class="m-bottom-0 text-white">Requirements</p> </div> <div class="col-xs-12 col-md-5"> <p class="m-bottom-0 text-white">Action</p> </div> </div> </div> </div> </div> </div> </div>',list_empty:{template:'<div class="row m-y-axis-md p-y-axis-xs"> <div class="col-xs-12 p-top-xs flex-all-center flex-direction-column"> <p class="m-bottom-0 flex-center"><img src="'+scriptUrlPath+'src/images/others/illustrations/dashboard/partner/sad-face.svg" alt="Empty State" class="m-right-xs"><span class="m-left-xs text-medium"><strong>Oops</strong>, no results found</span></p> <p class="m-bottom-0 text-medium m-top-md">Couldn\'t find the opening you were looking for?</p> <p class="m-bottom-0 flex-center m-top-sm p-top-xs"><a class="btn btn-warning btn-sm text-base text-light b-radius-3 p-y-axis p-x-axis-md candidate-register-auth track-clevertap" title="Register" data-track-source="Partner Microsite" data-track-name="Register modal" data-track-type="Register" data-track-attrs="{"Type":"Type"}", data-click-type="A">Register with us</a> <button href="" class="btn btn-link p-all-0 m-left-md text-info text-base text-light" id="reset-search">Reset Search</button> </p> </div> </div>',data:{}}}),this.updateCards(null)),this.showResultNumbers();var resetButtonId=document.getElementById("reset-search");resetButtonId&&(scope.resetButton=new scope.Button(resetButtonId,{onclick:function(){scope.search.jobList(),microsite&&microsite.jobSearchInput&&microsite.jobSearchInput.instances[0]&&(microsite.jobSearchInput.instances[0].value=null),microsite&&microsite.jobExperienceInput&&microsite.jobExperienceInput.instances[0]&&(microsite.jobExperienceInput.instances[0].value=null),microsite&&microsite.locationInput&&microsite.locationInput.instances[0]&&(microsite.locationInput.instances[0].value=null)}}))},createPages:function(){var pages=this.data.showPages;if(this.data.currentPage<this.data.totalPages&&pages.push("next>>"),1<this.data.currentPage&&pages.unshift("&lt;&lt;prev"),0<this.data.count){var self=this;this.pageList=new microsite.PageButtonList(pages,{onclick:function(){self.changePage(this,self)}}),this.pageList.childtemplates.forEach(function(el){el.element.className+=" text-base text-capitalize",this.data.currentPage==utils.getDataAtribute(el.element,"page")&&(el.element.parentElement.className+="active")},this),this.pageList.appendTo("#microsite-search-pages")}else this.pageList&&this.pageList.clear()},changePage:function(el,context){if(context&&"function"==typeof context.fetchSearchData){var offset,pageNumber=utils.getDataAtribute(el,"page");"next>>"===pageNumber&&(pageNumber=++this.data.currentPage),"&lt; prev"===pageNumber&&(pageNumber=--this.data.currentPage),offset=pageNumber*this.data.limit-this.data.limit,context.fetchSearchData(offset)}},getPager:function(totalItems,currentPage,pageSize){currentPage=currentPage||1,pageSize=pageSize||10;var startPage,endPage,totalPages=Math.ceil(totalItems/pageSize);endPage=totalPages<=pageSize?(startPage=1,totalPages):currentPage<=3?(startPage=1,pageSize):totalPages<=currentPage+2?(startPage=totalPages-4,totalPages):(startPage=currentPage-2,currentPage+2);var pages=_.range(startPage,endPage+1);this.data.showPages=pages},togglePagination:function(){this.getPager(this.data.count,this.data.currentPage,5)},updateCards:function(data){this.cardlist.update(data,"#search-results",!0),this.createCardActions(),root.initJobDetails&&root.initJobDetails(),root.bindApplyOnClickEvent&&root.bindApplyOnClickEvent()},createCardActions:function(){$('[data-toggle="tooltip"]').tooltip()},applyToJob:function(el){new microsite.Button(el,{})},fetchSearchData:function(offset){if(this.cardlist){this.cardlist.showLoader();for(var searchSection=$(".microsite-search-section"),j=0;j<searchSection.length;j++)if(0<searchSection[j].offsetWidth&&0<searchSection[j].offsetHeight){scrollUtil.scrollToTarget(searchSection[j]);break}}var payload={query:JSON.stringify({terms:this.input.searchString||void 0,locations:this.input.location||void 0}),filter:this.input.experience?JSON.stringify({and:{"expectation.min_experience":{gte:parseInt(12*this.input.experience,10)}}}):void 0,limit:this.data.limit,offset:offset||0};$.ajax({context:this,url:micrositeApiURI+"api/v4/agency/"+this.agency_id+"/jobs/",type:"GET",data:payload,dataType:"json",success:function(result){if(this.input.location)for(var locationRegex=new RegExp(this.input.location.toLowerCase(),"g"),i=0;i<result.objects.length;i++){var matchedPlace,job=result.objects[i]._source,matchedIndex=-1;if(job.places){loop2:for(var j=0;j<job.places.length;j++)if(locationRegex.test(job.places[j].short_formatted_address.toLowerCase())){matchedPlace=job.places[j],matchedIndex=j;break loop2}-1<matchedIndex&&matchedPlace&&(job.places.splice(matchedIndex,1),job.places.unshift(matchedPlace))}}this.eventDict["search:data-loaded"]&&microsite.events.triggerEvent("search:data-loaded",result,this),scope.analytics.trackSearchLoad(result)}})},jobList:function(inputs){inputs=inputs||this.getSearchInputs(),this.input.searchString=inputs&&inputs.searchString&&inputs.searchString.trim()||"",this.input.experience=inputs&&inputs.experience||null,this.input.location=inputs&&inputs.location&&inputs.location.trim()||null,microsite.events.createGroup("search"),microsite.events.on("search:data-loaded",this.eventDict["search:data-loaded"]),this.fetchSearchData()},getSearchInputs:function(){return scope.jobSearchInput&&(this.displayInstances.searchInput=this.getSearchInputValue(scope.jobSearchInput)),scope.jobExperienceInput&&(this.displayInstances.searchExperience=this.getSearchInputValue(scope.jobExperienceInput)),scope.locationInput&&(this.displayInstances.searchLocation=this.getSearchInputValue(scope.locationInput)),{searchString:this.displayInstances.searchInput,location:this.displayInstances.searchLocation,experience:this.displayInstances.searchExperience}},getSearchInputValue:function(instanceList){var instance=this.getVisibleInstance(instanceList);return instance?instance.value:null},getVisibleInstance:function(instanceList){for(var i=0;i<instanceList.instances.length;i++){var instance=instanceList.instances[i],element=instance.element;if(0<element.offsetWidth&&0<element.offsetHeight)return instance}return null}}}(microsite,jQuery,ajUtilities,smoothScroll,window),document.addEventListener("DOMContentLoaded",function(event){if(document.agency_id){microsite.search.agency_id=document.agency_id,microsite.search.jobList(),microsite.search.resize();var numbers=ajUtilities.numbersList(20,1,"year");numbers.unshift({value:"0",label:"Fresher"}),microsite.jobSearchInput=new microsite.SearchInput(".microsite-search-input",{label:"name",value:"name",closeOnSelect:!1,suggestionUrl:micrositeApiURI+"api/v5/suggest/keyword/",list:[],title:"Suggested Searches",linkValues:!0}),microsite.jobExperienceInput=new microsite.SearchInput("#microsite-search-experience",{label:"label",value:"value",closeOnSelect:!0,list:numbers||[],title:!1,sort:function(a,b){var a_value="fresher"===a.value.toString().toLowerCase()?0:a.value,b_value="fresher"===b.value.toString().toLowerCase()?0:b.value;return b_value<a_value?1:a_value<b_value?-1:0}}),microsite.locationInput=new microsite.SearchInput(".microsite-search-location",{label:"label",value:"value",closeOnSelect:!0,list:document.city_region_list,title:!1,linkValues:!0}),microsite.button=new microsite.SearchButton("#microsite-search-button",{onclick:function(){microsite.search.jobList(),microsite.analytics.trackSearchAction()}}),microsite.mobileButton=new microsite.SearchButton("#microsite-mobile-search-button",{onclick:function(){microsite.search.jobList(),microsite.analytics.trackSearchAction()}}),microsite.locationJobsButton=new microsite.SearchButton(".jobs-in-location",{onclick:function(evt){ajUtilities.getDataAtribute(evt.target,"index");var searchInputs={location:ajUtilities.getDataAtribute(evt.target,"location"),experience:null,searchString:null};if(microsite.search){var inputInstance=microsite.search.getVisibleInstance(microsite.jobSearchInput),locationInstance=microsite.search.getVisibleInstance(microsite.locationInput),experienceInstance=microsite.search.getVisibleInstance(microsite.jobExperienceInput);inputInstance.value="",locationInstance.value=searchInputs.location,experienceInstance.value=""}microsite.search.jobList(searchInputs),microsite.analytics.trackLinkAction()}}),microsite.categoryJobsButton=new microsite.SearchButton(".jobs-in-category",{onclick:function(evt){ajUtilities.getDataAtribute(evt.target,"index");var searchInputs={searchString:ajUtilities.getDataAtribute(evt.target,"category"),experience:null,location:null};if(microsite.search){var inputInstance=microsite.search.getVisibleInstance(microsite.jobSearchInput),locationInstance=microsite.search.getVisibleInstance(microsite.locationInput),experienceInstance=microsite.search.getVisibleInstance(microsite.jobExperienceInput);inputInstance.value=searchInputs.searchString,locationInstance.value="",experienceInstance.value=""}microsite.search.jobList(searchInputs),microsite.analytics.trackLinkAction()}}),microsite.events.on("awesompleteEvents:enter",function(){var searchInputs={searchString:microsite.jobSearchInput.instances[0].value,experience:microsite.jobExperienceInput.instances[0].value,location:microsite.locationInput.instances[0].value};microsite.search.jobList(searchInputs)})}}),function(scope,_){scope.analytics={getbasicTrakcObj:function(){if(scope.search){var keywords,key_count,location=null;return scope.search.input&&(scope.search.input.searchString&&(key_count=(keywords=_.compact(scope.search.input.searchString.split(",")))?keywords.length:null),scope.search.input&&scope.search.input.location&&(location=scope.search.input.location.trim())),{agency_id:document.agency_id?document.agency_id:null,keywords:keywords||null,keyword_count:key_count||null,location:location||"NA"}}return null},trackSearchAction:function(){var trackObj=this.getbasicTrakcObj(),customObj={Location:trackObj.location?trackObj.location:"NA","Keyword Count":trackObj.keyword_count?trackObj.keyword_count:"NA",Partner:trackObj.agency_id?trackObj.agency_id:"NA",Source:"Search Bar"};trackObj.keywords&&Array.isArray(trackObj.keywords)&&_.map(trackObj.keywords,function(key,index){customObj["Keyword "+(index+1)]=key}),loginModule.sendEvent("Search Action - Microsite",customObj)},trackLinkAction:function(){var trackObj=this.getbasicTrakcObj(),customObj={Location:trackObj.location?trackObj.location:"NA","Keyword Count":trackObj.keyword_count?trackObj.keyword_count:"NA",Partner:trackObj.agency_id?trackObj.agency_id:"NA",Source:"Link"};trackObj.keywords&&Array.isArray(trackObj.keywords)&&_.map(trackObj.keywords,function(key,index){customObj["Keyword "+(index+1)]=key}),loginModule.sendEvent("Search Action - Microsite",customObj)},trackSearchLoad:function(results){var trackObj=this.getbasicTrakcObj(),count=null;results&&results.meta&&results.meta.count&&(count=results.meta.count);var customObj={Location:trackObj.location?trackObj.location:"NA","Keyword Count":trackObj.keyword_count?trackObj.keyword_count:"NA",Partner:trackObj.agency_id?trackObj.agency_id:"NA","Number of Results":count||0};trackObj.keywords&&Array.isArray(trackObj.keywords)&&_.map(trackObj.keywords,function(key,index){customObj["Keyword "+(index+1)]=key}),loginModule.sendEvent("Search Result - Microsite",customObj)}}}(microsite,_),this.JST=this.JST||{},this.JST["templates/public/partials/partner-search/search-cards"]=function(){var jade_interp,buf=[];return buf.push('<div class="row p-top-sm card-custom pos-relative search-highlight search-card cursor-pointer track-search-click">'+(null==(jade_interp="<%if(SCREEN_SIZE >= 992) { %>")?"":jade_interp)+'<div class="col-xs-12"><div class="col-xs-12 col-md-7"><div class="row"><div class="col-xs-12 col-md-6"><a href="<%= _template_helpers.jobUrl(_source) %>" data-track-name="Job Title Click - Microsite" data-track-id="<%= _source.id ? _source.id : \'NA\' %>" data-track-fa="<%= _source.functional_area.name ? _source.functional_area.name : \'NA\' %>" data-track-partner="<%= agency_id ? agency_id : \'NA\' %>" data-track-company="<%= _source.organization.popular_name ? _source.organization.popular_name : \'NA\' %>" data-track-attrs="{&quot;Id&quot;:&quot;Job ID&quot;,&quot;Partner&quot;:&quot;Partner&quot;,&quot;Fa&quot;:&quot;Job FA&quot;}" target="_blank" class="m-bottom-0 text-gray-darker text-semibold track-clevertap">'+(null==(jade_interp="<%= _source.title %>")?"":jade_interp)+'</a><p class="m-bottom-0 text-small text-light text-gray-lighter">'+(null==(jade_interp="<%= _source.functional_area.name %>")?"":jade_interp)+"</p>"+(null==(jade_interp="<% if (_source.organization.popular_name) { %>")?"":jade_interp)+'<p class="m-bottom-0 text-small"><span>by</span><a href="<%= _template_helpers.companyUrl(_source) %>" data-track-name="Company Name Click - Microsite" data-track-id="<%= _source.id ? _source.id : \'NA\' %>" data-track-fa="<%= _source.functional_area.name ? _source.functional_area.name : \'NA\' %>" data-track-partner="<%= agency_id ? agency_id : \'NA\' %>" data-track-company="<%= _source.organization.popular_name ? _source.organization.popular_name : \'NA\' %>" data-track-attrs="{&quot;Id&quot;:&quot;Job ID&quot;,&quot;Partner&quot;:&quot;Partner&quot;,&quot;Fa&quot;:&quot;Job FA&quot;}" target="_blank" class="m-left-5 text-primary track-clevertap">'+(null==(jade_interp="<%= _source.organization.popular_name %>")?"":jade_interp)+"</a></p>"+(null==(jade_interp="<% } %>")?"":jade_interp)+'</div><div class="col-xs-12 col-md-6"><p class="m-bottom-0 text-small text-semibold">'+(null==(jade_interp="<%= _template_helpers.currencyFilter(_source.offer.min_offered_salary) + ' - ' + _template_helpers.currencyFilter(_source.offer.max_offered_salary) %>")?"":jade_interp)+'</p><p class="m-bottom-0 text-gray-lighter text-small text-light">'+(null==(jade_interp="<%= _template_helpers.pluralize( _source.vacancies, ' Opening') %>")?"":jade_interp)+'</p></div></div></div><div class="col-xs-12 col-md-5"><div class="row"><div class="col-xs-12 col-md-7 text-small text-light">'+(null==(jade_interp="<% if(_source.expectation.proficiency_level > 0) {%>")?"":jade_interp)+'<p class="m-bottom-0">'+(null==(jade_interp="<%= _template_helpers.educationFilter(_source.expectation.proficiency_level) %>")?"":jade_interp)+"</p>"+(null==(jade_interp="<% } %>")?"":jade_interp)+'<p class="m-bottom-0"><span>'+(null==(jade_interp="<%= 'Exp: ' + (_source.expectation.work_exp_requirements.min_experience > 0 ? _template_helpers.experienceFilter(_source.expectation.work_exp_requirements.min_experience) : 'Freshers') %>")?"":jade_interp)+"</span>"+(null==(jade_interp="<% if(_source.expectation.max_experience) { %>")?"":jade_interp)+"<span>"+(null==(jade_interp="<%= ' to ' + (_source.expectation.max_experience > 0 ? _template_helpers.experienceFilter(_source.expectation.max_experience) : '')+' exp' %>")?"":jade_interp)+"</span>"+(null==(jade_interp="<% } %>")?"":jade_interp)+'</p><p class="m-bottom-0 text-gray-lighter"><span>'+(null==(jade_interp="<%= _template_helpers.genderFilter(_source.expectation) + ', ' %>")?"":jade_interp)+"</span>"+(null==(jade_interp="<% if(_source.expectation.min_preferred_age || _source.expectation.max_preferred_age) { %>")?"":jade_interp)+"<span>"+(null==(jade_interp="<%= (_source.expectation.min_preferred_age || 0) + '-' + (_source.expectation.max_preferred_age || 0) + ' yrs' %>")?"":jade_interp)+"</span>"+(null==(jade_interp="<% } %>")?"":jade_interp)+'</p></div><div class="col-xs-12 col-md-5">'+(null==(jade_interp="<% if(_source.is_resume_subscribed ) { %>")?"":jade_interp)+'<a href="javascript: void(0)" data-type="Apply" data-resume-subscribed="<%= _source.is_resume_subscribed %>" data-click-type="A" data-ga-category="Microsite" data-ga-action="Click" data-ga-label="Apply" data-track-name="Job Apply - Microsite" data-track-id="<%= _source.id ? _source.id : \'NA\' %>" data-track-fa="<%= _source.functional_area.name ? _source.functional_area.name : \'NA\' %>" data-track-partner="<%= agency_id ? agency_id : \'NA\' %>" data-track-company="<%= _source.organization.popular_name ? _source.organization.popular_name : \'NA\' %>" data-track-attrs="{&quot;Id&quot;:&quot;Job ID&quot;,&quot;Partner&quot;:&quot;Partner&quot;,&quot;Fa&quot;:&quot;Job FA&quot;,&quot;Company&quot;:&quot;Company Name&quot;}" data-job-id="<%= _source.id ? _source.id : \'NA\' %>" class="btn btn-primary text-small b-radius-2 js-apply-click p-x-axis-md track-search-click apply-without-registration track-clevertap track-ga">Apply With CV</a>'+(null==(jade_interp="<% } else {%>")?"":jade_interp)+'<a href="javascript: void(0)" data-track-name="Job Apply - Microsite" data-type="Apply without register" data-resume-subscribed="<%= _source.is_resume_subscribed %>" data-click-type="AWR" data-ga-category="Job Details Page" data-ga-action="Click" data-ga-label="Apply without register" data-track-id="<%= _source.id ? _source.id : \'NA\' %>" data-track-fa="<%= _source.functional_area.name ? _source.functional_area.name : \'NA\' %>" data-track-partner="<%= agency_id ? agency_id : \'NA\' %>" data-track-company="<%= _source.organization.popular_name ? _source.organization.popular_name : \'NA\' %>" data-track-attrs="{&quot;Id&quot;:&quot;Job ID&quot;,&quot;Partner&quot;:&quot;Partner&quot;,&quot;Fa&quot;:&quot;Job FA&quot;,&quot;Company&quot;:&quot;Company Name&quot;}" data-job-id="<%= _source.id ? _source.id : \'NA\' %>" class="btn btn-primary text-small b-radius-2 js-apply-click p-x-axis-md track-search-click apply-without-registration track-clevertap track-ga">Apply</a></div>'+(null==(jade_interp="<% } %>")?"":jade_interp)+'</div></div><div class="col-xs-12 p-top-xs b-bottom-gray-lightest"></div></div>'+(null==(jade_interp="<% } %>")?"":jade_interp)+(null==(jade_interp="<% if(SCREEN_SIZE < 992) { %>")?"":jade_interp)+'<div class="col-xs-12"><div class="col-xs-12 p-y-axis-md bg-white b-radius-3"><p class="m-bottom-0"><a href="<%= _template_helpers.jobUrl(_source) %>" data-track-name="Job Title Click - Microsite" data-track-id="<%= _source.id ? _source.id : \'NA\' %>" data-track-fa="<%= _source.functional_area.name ? _source.functional_area.name : \'NA\' %>" data-track-partner="<%= agency_id ? agency_id : \'NA\' %>" data-track-company="<%= _source.organization.popular_name ? _source.organization.popular_name : \'NA\' %>" data-track-attrs="{&quot;Id&quot;:&quot;Job ID&quot;,&quot;Partner&quot;:&quot;Partner&quot;,&quot;Fa&quot;:&quot;Job FA&quot;}" target="_blank" class="text-medium text-bold text-gray-darker text-decoration-none track-clevertap">'+(null==(jade_interp="<%= _source.title %>")?"":jade_interp)+"</a></p>"+(null==(jade_interp="<% if (_source.organization.popular_name) { %>")?"":jade_interp)+'<p class="m-bottom-0 text-medium text-light"><a href="<%= _template_helpers.companyUrl(_source) %>" data-track-name="Company Name Click - Microsite" data-track-id="<%= _source.id ? _source.id : \'NA\' %>" data-track-fa="<%= _source.functional_area.name ? _source.functional_area.name : \'NA\' %>" data-track-partner="<%= agency_id ? agency_id : \'NA\' %>" data-track-company="<%= _source.organization.popular_name ? _source.organization.popular_name : \'NA\' %>" data-track-attrs="{&quot;Id&quot;:&quot;Job ID&quot;,&quot;Partner&quot;:&quot;Partner&quot;,&quot;Fa&quot;:&quot;Job FA&quot;}" target="_blank" class="text-gray-lighter track-clevertap">'+(null==(jade_interp="<%= _source.organization.name %>")?"":jade_interp)+"</a></p>"+(null==(jade_interp="<% } %>")?"":jade_interp)+'<div class="row m-top-xs p-top-sm display-flex"><div class="col-xs-9"><p class="m-bottom-0 flex-center p-top-sm"><span class="flex-center text-gray-lighter"><span><span class="icon-myjobs-salary icon-myjobs-salary-dims icon-70-dims"></span></span><span class="m-left-sm">'+(null==(jade_interp="<%= _template_helpers.currencyFilter(_source.offer.min_offered_salary, false) + ' - ' + _template_helpers.currencyFilter(_source.offer.max_offered_salary, false) %>")?"":jade_interp)+'</span></span></p><p class="m-bottom-0 flex-center p-top-sm"><span class="flex-center text-gray-lighter"><span><span class="icon-myjobs-experience icon-myjobs-experience-dims icon-70-dims"></span></span><span class="m-left-sm">'+(null==(jade_interp="<%= (_source.expectation.work_exp_requirements.min_experience > 0 ? _template_helpers.experienceFilter(_source.expectation.work_exp_requirements.min_experience) : 'Freshers') %>")?"":jade_interp)+'</span></span></p></div><div class="col-xs-3 align-self-flex-end p-left-0">'+(null==(jade_interp="<% if(_source.is_resume_subscribed) { %>")?"":jade_interp)+'<a href="javascript: void(0)" data-type="Apply" data-track-type="Apply" data-page="Microsite" data-resume-subscribed="<%= _source.is_resume_subscribed %>" data-click-type="A" data-ga-category="Microsite" data-ga-action="Click" data-ga-label="Apply" data-track-name="Job Apply - Microsite" data-track-id="<%= _source.id ? _source.id : \'NA\' %>" data-track-fa="<%= _source.functional_area.name ? _source.functional_area.name : \'NA\' %>" data-track-partner="<%= agency_id ? agency_id : \'NA\' %>" data-track-company="<%= _source.organization.popular_name ? _source.organization.popular_name : \'NA\' %>" data-track-attrs="{&quot;Id&quot;:&quot;Job ID&quot;,&quot;Partner&quot;:&quot;Partner&quot;,&quot;Fa&quot;:&quot;Job FA&quot;,&quot;Company&quot;:&quot;Company Name&quot;}" data-job-id="<%= _source.id ? _source.id : \'NA\' %>" class="btn btn-md btn-fluid btn-primary btn-fluid text-base text-light p-x-axis-5 b-radius-2 text-decoration-none js-apply-click track-search-click apply-without-registration track-clevertap track-ga">APPLY</a>'+(null==(jade_interp="<% } else {%>")?"":jade_interp)+'<a href="javascript: void(0)" data-track-type="Apply without register" data-page="Job Detail" data-resume-subscribed="<%= _source.is_resume_subscribed %>" data-click-type="AWR" data-ga-category="Job Details Page" data-ga-action="Click" data-ga-label="Apply without register" data-track-name="Job Apply - Microsite" data-track-id="<%= _source.id ? _source.id : \'NA\' %>" data-track-fa="<%= _source.functional_area.name ? _source.functional_area.name : \'NA\' %>" data-track-partner="<%= agency_id ? agency_id : \'NA\' %>" data-track-company="<%= _source.organization.popular_name ? _source.organization.popular_name : \'NA\' %>" data-track-attrs="{&quot;Id&quot;:&quot;Job ID&quot;,&quot;Partner&quot;:&quot;Partner&quot;,&quot;Fa&quot;:&quot;Job FA&quot;,&quot;Company&quot;:&quot;Company Name&quot;}" data-job-id="<%= _source.id ? _source.id : \'NA\' %>" class="btn btn-md btn-fluid btn-primary btn-fluid text-base text-light p-x-axis-5 b-radius-2 text-decoration-none js-apply-click track-search-click apply-without-registration track-clevertap track-ga">APPLY</a></div>'+(null==(jade_interp="<% } %>")?"":jade_interp)+"</div></div></div>"+(null==(jade_interp="<% } %>")?"":jade_interp)+"</div>"),buf.join("")},$(document).on("ready",function(e){bindTrackGAEvents()});var careersModule=function(){function getTemplate(templateToGet){var deferred=$.Deferred();if(void 0!==templateToGet)$.ajax({method:"POST",url:"/web_api/v1/career_job",data:{"data-value":templateToGet}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)});else{var err={details:"Error Function getTemplate(): Please provide a valid template name"};deferred.reject(err)}return deferred.promise()}var changeTemplate=function(){var dataValue=window.location.hash.substr(1);if(null!==dataValue&&""!==dataValue){var $this=$("body").find("[data-value='"+dataValue+"']"),templateName=$this.data("value"),tabSection=$this.closest(".tab-pane");$.when(function(templateName){var deferred=$.Deferred();return getTemplate("public/partials/careers/"+templateName+".jade").then(function(data){var jobTemplate=data.toString();deferred.resolve(jobTemplate)},function(err){deferred.reject(err)}),deferred.promise()}(templateName)).then(function(data){tabSection.html(data)},function(err){})}};return{showJobDetails:function(event){if(void 0!==event){event.type,event.preventDefault();var dataValue=$(this).data("value");(hashName=dataValue)&&(window.location.hash=hashName),changeTemplate(),smoothScroll.scrollToTarget(".tab-content")}else changeTemplate();var hashName},showAllJobs:function(event){event.preventDefault();var tabSection=$(this).closest(".tab-pane"),templateToGet="public/partials/careers/"+tabSection.attr("id")+".jade";history.pushState(null,null,"#"),getTemplate(templateToGet).then(function(data){$(tabSection).html(data)})}}}();function bindApplyOnClickEvent(){$(".js-apply-click").on("click",function(e){var storage=window.localStorage,self=$(this),job_id=self.data("job-id"),job_title=self.data("job-title"),in5mins=(new moment).add(5,"m").unix();Cookies.set("p_job",job_id),job_title&&Cookies.set("job_apply",job_title,{expires:1/96}),storage.setItem("job-apply",'{"apply": true, "job_id":"'+job_id+'", "expiresIn": '+in5mins+"}")})}$(document).ready(function(){if("/careers/"==window.location.pathname){var bodySelector=$("body");careersModule.showJobDetails(),bodySelector.on("click",".know-more",careersModule.showJobDetails),bodySelector.on("click",".back-to-Jobs",careersModule.showAllJobs)}}),$(document).ready(function(){$(".req-callback").on("click",function(e){$("#send_contact_details_success").hide(),$("#send_contact_details").show(),$("#contact_details_modal").modal("show")})}),$(document).ready(function(){function inputValues(selector){return $(selector).val()}$("#partner-campus-submit").on("click",function(e){e.preventDefault();var dataObj,deferred,nameError=formValidator.validate("#campus-contact-form #college_name","text"),cityError=formValidator.validate("#campus-contact-form #college_city","text"),addressError=formValidator.validate("#campus-contact-form #college_address","text"),courseProvidedError=formValidator.validate("#campus-contact-form #college_courses","text"),contactPersonNameError=formValidator.validate("#campus-contact-form #college_person_name","text",!0,null,new RegExp("^[A-Za-z ]+$")),mobileError=formValidator.validate("#campus-contact-form #college_contact","mobile"),emailError=formValidator.validate("#campus-contact-form #college_email","email",!0,null,null,!0);if(formValidator.trueOrFalse(nameError,cityError,addressError,courseProvidedError,contactPersonNameError,mobileError,emailError)){var dataToSubmit={college_name:inputValues("#campus-contact-form #college_name"),city_name:inputValues("#campus-contact-form #college_city"),address_text:inputValues("#campus-contact-form #college_address"),courses_list:inputValues("#campus-contact-form #college_courses"),contact_person_name:inputValues("#campus-contact-form #college_person_name"),contact_person_number:inputValues("#campus-contact-form #college_contact"),contact_person_email:inputValues("#campus-contact-form #college_email")};$.when((dataObj=dataToSubmit,deferred=$.Deferred(),null!=dataObj&&$.ajax({method:"POST",url:baseURI+"api/v4/notify_campus_partner_interest/",data:dataObj,headers:loginModule.getHeaders()}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}),deferred.promise())).then(function(status){$("#campus-contact-form").find(".form-group").addClass("hidden"),$("#campus-contact-form #success-bar").removeClass("hidden")},function(status){$("#campus-contact-form #error-bar").removeClass("hidden")},function(status){})}}),$("#partner-campus-reopen").on("click",function(){$("#campus-contact-form").find(".form-group").removeClass("hidden"),$("#campus-contact-form").find("input").val(""),$("#campus-contact-form #success-bar").addClass("hidden")}),$("#campus-contact-form #college_name").on("blur",function(e){var idToValidate="#"+String($(this).attr("id"));formValidator.validate(idToValidate,"text")}),$("#campus-contact-form #college_city").on("blur",function(e){var idToValidate="#"+String($(this).attr("id"));formValidator.validate(idToValidate,"text")}),$("#campus-contact-form #college_address").on("blur",function(e){var idToValidate="#"+String($(this).attr("id"));formValidator.validate(idToValidate,"text")}),$("#campus-contact-form #college_courses").on("blur",function(e){var idToValidate="#"+String($(this).attr("id"));formValidator.validate(idToValidate,"text")}),$("#campus-contact-form #college_person_name").on("blur",function(e){var idToValidate="#"+String($(this).attr("id"));formValidator.validate(idToValidate,"text",!0,null,new RegExp("^[A-Za-z ]+$"))}),$("#campus-contact-form #college_contact").on("blur",function(e){var idToValidate="#"+String($(this).attr("id"));formValidator.validate(idToValidate,"mobile")}),$("#campus-contact-form #college_email").on("blur",function(e){var idToValidate="#"+String($(this).attr("id"));formValidator.validate(idToValidate,"email",!0,null,null,!0)}),$("#campus-contact-form").on("focusin"," input",function(){$(this);var idToValidate="#"+String($(this).attr("id"));formValidator.unvalidate(idToValidate)})}),$(document).ready(function(){setTimeout(function(){bindApplyOnClickEvent()},3e3),loginModule.checkSocialAuthError(),loginModule.setPlatform()}),$(document).ready(function(){$("#close-download").on("click",function(e){e.stopPropagation(),$(".copyright-section").removeClass("m-bottom-copyight"),$(".button-wrapper").hide()}),$(".show-more").on("click",function(e){e.preventDefault();var self=$(this),targetId=self.data("toggle");$("#"+targetId).toggle(),self.hide()}),window.getQueryStringsFromURL=function(){function decode(s){return decodeURIComponent(s.replace(/\+/g," "))}var assoc={},keyValues=location.search.substring(1).split("&");for(var i in keyValues){var key=keyValues[i].split("=");1<key.length&&(assoc[decode(key[0])]=decode(key[1]))}return assoc};var qs=window.getQueryStringsFromURL();if(qs&&(qs.utm_source&&Cookies.set("cd_utm_source",qs.utm_source,{expires:30}),qs.utm_medium&&Cookies.set("cd_utm_medium",qs.utm_medium,{expires:30}),qs.utm_campaign&&Cookies.set("cd_utm_campaign",qs.utm_campaign,{expires:30})),document.referrer){var referrer=document.referrer.match(/:\/\/(.[^/]+)/)[1];referrer!==window.location.host&&Cookies.set("cd_http_referer",referrer,{expires:1/48})}if(window.compactObject=function(obj){function filterEmptyArrayObject(val){for(var isNotEmpty=!1,objectKeys=Object.keys(val),i=0;i<objectKeys.length;i++)if(null!==val[objectKeys[i]]&&void 0!==val[objectKeys[i]]){isNotEmpty=!0;break}return isNotEmpty}function isPropertyEmpty(val){for(var key in val)if(null!==val[key]&&void 0!==val[key])return;return 1}for(var k in obj)objVal=obj[k],null===objVal||void 0===objVal||objVal.constructor===Array&&0===objVal.length?delete obj[k]:objVal.constructor===Array&&0<objVal.length?(objVal=_.filter(objVal,filterEmptyArrayObject),0===objVal.length&&delete obj[k]):"object"==typeof objVal&&0===Object.keys(objVal).length||"string"==typeof objVal&&0===objVal.trim().length?delete obj[k]:"object"==typeof objVal&&0<Object.keys(objVal).length&&(isPropertyEmpty(objVal)?delete obj[k]:objVal=window.compactObject(objVal));return obj},window.getMarketingSource=function(){var marketing_source={utm_page:document.referrer},utm_source=Cookies.get("cd_utm_source"),utm_medium=Cookies.get("cd_utm_medium"),utm_campaign=Cookies.get("cd_utm_campaign"),http_referer=Cookies.get("cd_http_referer");return utm_source&&(marketing_source.utm_source=utm_source),utm_medium&&(marketing_source.utm_medium=utm_medium),utm_campaign&&(marketing_source.utm_campaign=utm_campaign),http_referer&&(marketing_source.http_referer=http_referer),marketing_source},window.delMarketingSourceCookie=function(){Cookies.remove("cd_utm_source"),Cookies.remove("cd_utm_medium"),Cookies.remove("cd_utm_campaign"),Cookies.remove("cd_http_referer")},$("#password-reset-form").submit(function(e){e.preventDefault();var client_id=loginModule.getClientID(),PasswordError=formValidator.validate("#password-reset-form #id_password","password","password",null,null,!0),noError=formValidator.trueOrFalse(PasswordError),formDataMap={email:$("#password-reset-form input[name=email]").val(),hash_code:$("#password-reset-form input[name=hash_code]").val(),new_password:$("#password-reset-form input[name=password]").val()};noError&&(client_id&&(formDataMap.client_id=client_id),formDataMap=JSON.stringify(formDataMap),$.ajax({url:baseURI+"api/v4/user/reset_password/",type:"PATCH",data:formDataMap,headers:loginModule.getHeaders(),success:function(response){var userType=response.user_type;loginModule.sendEvent("Reset Password",{Mode:"Email",Type:"Forgot Password",Status:"S"}),$("#password-reset").hide(),$("#password-reset-success").removeClass("hidden"),$("#password-reset-success a").on("click",function(e){e.preventDefault(),"ER"===userType?loginModule.setCookieAndRedirect(response.access_token,["new","employer"],!0):"P"===userType?loginModule.setCookieAndRedirect(response.access_token,["new","partner"],!0):loginModule.setCookieAndRedirect(response.access_token,["existing","candidate"],!0)}),window.setTimeout(function(){"ER"===userType?loginModule.setCookieAndRedirect(response.access_token,["new","employer"],!0):"P"===userType?loginModule.setCookieAndRedirect(response.access_token,["new","partner"],!0):loginModule.setCookieAndRedirect(response.access_token,["existing","candidate"],!0)},3e3)},error:function(response){loginModule.sendEvent("Reset Password",{Mode:"Email",Type:"Forgot Password",Status:"F"}),$(e.target).children("ul.non_field_errors").html("<li>An error occoured. Try resetting the password again!</li>")}}))}),$(".fb-login").on("click",function(){loginModule.sendEvent("Social Auth",{Type:"Facebook",Source:"Login"}),FB.login(function(response){var trackObj={Status:"F"};response.authResponse?(loginModule.initializeFBSignin(response,!0),loginModule.sendEvent("Social Auth",trackObj.Status="S")):(loginModule.initializeFBSignin(response,!1),loginModule.sendEvent("Social Auth",trackObj.Status="F"))},{scope:"public_profile,email",return_scopes:!0})}),$(".ga-book-interview").on("click",function(){ga("send","event","Action","Apply","Book Interview")}),$(".candidate-login").on("click",function(e){var self=$(this);e.preventDefault();sendGAEvent({category:"Home Page",action:"Click",label:"Login"}),candidateLogin.mediator.init(self,e)}),window.wootric&&document.wootricToken&&"employee"===document.zone){"production"!==document.environment&&(wootric_survey_immediately=!0);var today=new Date;window.wootricSettings={created_at:parseInt(today.setDate(today.getDate()-6)/1e3),account_token:document.wootricToken,properties:{is_logged_in:"N",is_profiled:"NA",candidate_id:"NA",mobile_verified:"NA",education_level:"NA",total_experience:"NA"}},window.wootric("run")}var replaceGoogleSignInText=function(){$(".candidate-register-social-btn .abcRioButtonContents").length&&$(".candidate-register-social-btn .abcRioButtonContents").first("span").length?$(".candidate-register-social-btn .abcRioButtonContents").first("span").text("Continue with Google"):setTimeout(replaceGoogleSignInText,100)};setTimeout(replaceGoogleSignInText,100),$("#all-products-link").on("click",function(e){e.preventDefault();var link=$(this).attr("href");window.open(link,"_blank")})}),$(document).ready(function(){var zone=document.zone,page=document.current_page,referrer=document.referrer;if("employer"==zone||"partner"==zone){var trackObj={page:page||"NA",Referrer:referrer||"NA"};loginModule.sendEvent("Public Page Load",trackObj)}"employee"===zone&&$(document).on("click",".auth-click",function(e){var self=$(this);e.preventDefault(),candidateLogin.mediator.init(self,e)}),$("#search-bar").on("click","#search-query",function(e){window&&window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction("Homepage Clicks",{Type:"Job search by title"})}),$("#search-bar").on("click","#search_experience",function(e){window&&window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction("Homepage Clicks",{Type:"Job search by experience"})}),$("#search-bar").on("click","#search_location",function(e){window&&window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction("Homepage Clicks",{Type:"Job search by location"})})}),$(document).on("ready",function(){document.platform&&"1"===document.platform&&"Employer Homepage"===document.current_page&&function(){if(!Cookies.get("email_verify_success"))return;$("#email-verification-success").modal(),Cookies.remove("email_verify_success")}()}),$(document).ready(function(){$("#dept-ca")&&$("#dept-ca").prop("checked",!0);function submitContactForm(dataObj){var deferred=$.Deferred();return null!=dataObj&&("ER"==dataObj.user_type?$.ajax({method:"POST",url:baseURI+"api/v4/employer_ticket/",data:JSON.stringify(dataObj),headers:loginModule.getHeaders()}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}):$.ajax({method:"POST",url:baseURI+"api/v4/contact_us/",data:dataObj,headers:loginModule.getHeaders()}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")})),deferred.promise()}function inputValues(selector){return $(selector).val()}$("#contact-form-btn").on("click",function(e){e.preventDefault();var nameError=formValidator.validate("#contact_form #name","text",!0,"name"),emailError=formValidator.validate("#contact_form #email","email",!0,null,null,!0),subjectError=formValidator.validate("#contact_form #subject","empty"),textAreaError=formValidator.validate("#contact_form #message","textarea",!0,null,null,!0),mobileError=formValidator.validate("#contact_form #mobile","mobile",!0,"mobile number"),noError=formValidator.trueOrFalse(nameError,emailError,subjectError,textAreaError,mobileError);if("ER"==$("input[name=department]:checked").val()&&noError){var dataToSubmit={name:inputValues("#contact_form #name"),email:inputValues("#contact_form #email"),contact_number:inputValues("#contact_form #mobile"),query:inputValues("#contact_form #message"),user_type:inputValues("input[name=department]:checked"),raise_from:"contact us Page"};$.when(submitContactForm(dataToSubmit)).then(function(status){$('form[name="contact_form"]').before("<div class='row m-y-axis-lg' id='success-bar'><div class='col-xs-12 text-center'><div class='alert p-y-axis-sm text-white bg-success'>Message sent successfully</div></div></div>"),$('form[name="contact_form"]').hide()},function(status){$('form[name="contact_form"]').before("<div class='row m-y-axis-lg' id='error-bar'><div class='col-xs-12 text-center'><div class='alert p-y-axis-sm text-white bg-warning>Error in sending form</div></div></div>")},function(status){})}if("ER"!=$("input[name=department]:checked").val()&&noError){var dataToSubmitCandidate={name:inputValues("#contact_form #name"),email:inputValues("#contact_form #email"),mobile:inputValues("#contact_form #mobile"),subject:inputValues("#contact_form #subject"),message:inputValues("#contact_form #message"),user_type:inputValues("input[name=department]:checked")};$.when(submitContactForm(JSON.stringify(dataToSubmitCandidate))).then(function(status){$('form[name="contact_form"]').before("<div class='row m-y-axis-lg' id='success-bar'><div class='col-xs-12 text-center'><div class='alert p-y-axis-sm text-white bg-success'>Message sent successfully</div></div></div>"),$('form[name="contact_form"]').hide()},function(status){$('form[name="contact_form"]').before("<div class='row m-y-axis-lg' id='error-bar'><div class='col-xs-12 text-center'><div class='alert p-y-axis-sm text-white bg-warning>Error in sending form</div></div></div>")},function(status){})}}),$("#contact_form #name").on("blur",function(e){var idToValidate="#contact_form #"+String($(this).attr("id"));formValidator.validate(idToValidate,"text",!0,"name")}),$("#contact_form #email").on("blur",function(e){var idToValidate="#contact_form #"+String($(this).attr("id"));formValidator.validate(idToValidate,"email")}),$("#contact_form #mobile").on("blur",function(e){var idToValidate="#contact_form #"+String($(this).attr("id"));formValidator.validate(idToValidate,"mobile",!0,"mobile number")}),$("#contact_form #subject").on("blur",function(e){var idToValidate="#contact_form #"+String($(this).attr("id"));formValidator.validate(idToValidate,"empty")}),$("#contact_form #message").on("blur",function(e){var idToValidate="#contact_form #"+String($(this).attr("id"));formValidator.validate(idToValidate,"textarea")}),$("#contact_form").on("focusin"," input",function(){$(this);var idToValidate="#contact_form #"+String($(this).attr("id"));formValidator.unvalidate(idToValidate)}),equalHeights.apply("#address-1","#address-2","#address-3","#address-4"),$(".open-sms-modal").on("click",function(e){e.preventDefault();this.id;var address=$(this).siblings(".address").text();$("#send_sms_modal #sms_text").val(address),$("#send_sms_modal .sms_text").text(address),$("#send_sms_modal").modal("show")});$("#sms_mobile").on("blur",function(e){String($(this).attr("id"));formValidator.validate("#sms_mobile","mobile")}),$("#send-sms-form-btn").on("click",function(e){e.preventDefault();var mobileError=formValidator.validate("#sms_mobile","mobile");if(formValidator.trueOrFalse(mobileError)){inputValues("#sms_mobile"),$("#sms_text").val().trim();$.when($.Deferred().promise()).then(function(status){$('form[name="send_sms_address"]').before("<div class='row' id='success-bar'><div class='col-xs-12 text-center'><div class='alert p-y-axis-sm text-white bg-success'>SMS sent successfully</div></div></div>"),$('form[name="send_sms_address"]').hide()},function(status){$('form[name="send_sms_address"]').before("<div class='row' id='error-bar'><div class='col-xs-12 text-center'><div class='alert p-y-axis-sm text-white bg-warning>Error in sending sms!! Try Again after some time.</div></div></div>")},function(status){})}})});var cookieFn=function(){var cookieFn={setCookie:function(cName,cValue,exDays,cPath){var d=new Date;d.setTime(d.getTime()+24*exDays*60*60*1e3);var expires="expires="+d.toUTCString(),path=cPath?"path="+cPath:"path=/";document.cookie=cName+"="+cValue+"; "+expires+";"+path},getCookie:function(cName){for(var name=cName+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0===c.indexOf(name))return c.substring(name.length,c.length)}return""},checkCookie:function(cName){return""!==cookieFn.getCookie(cName)}};return cookieFn}(),new_filters=function($){var serialize=function(obj,prefix){var str=[];for(var p in obj)if(obj.hasOwnProperty(p)){var k=prefix?prefix+"["+p+"]":p,v=obj[p];if(v&&Array.isArray(v))for(var i=0;i<v.length;i++){var newObj={};newObj[p]=v[i],str.push("object"==typeof v?serialize(newObj):encodeURIComponent(k)+"="+encodeURIComponent(v))}else null!=v&&str.push("object"==typeof v?serialize(v,k):encodeURIComponent(k)+"="+encodeURIComponent(v))}return str.join("&")};return{buildHref:function(dataValue,dataKey,singleTrue){window.search_config,window.location.href;var location_path=location.pathname;if(window.search_config&&window.search_config.no_location_match){var temp_loc_index=location_path.indexOf("-jobs-in-")+"-jobs".length;location_path=location_path.substring(0,temp_loc_index)+"/"}var configObject={};$.extend(configObject,window.search_config.filter),configObject.sort=window.search_config.sort,configObject.page=window.search_config.page,configObject.page="1";var string=serialize(configObject);if(singleTrue)if(-1!==string.indexOf(dataKey+"="))if(-1!==string.indexOf(dataKey+"="+dataValue))string=string.replace(dataKey+"="+dataValue,"");else{var replaceValue=(encodeURIComponent(dataKey)+"="+encodeURIComponent(dataValue)).toString(),toReplace=(dataKey+"="+configObject[dataKey]).toString();string=string.replace(toReplace,replaceValue)}else string=string;var eachString,newObj={};return newObj[dataKey]=dataValue,0<(eachString=(eachString=configObject[dataKey]&&Array.isArray(configObject[dataKey])?-1!==configObject[dataKey].indexOf(dataValue.toString())?string.replace(dataKey+"="+encodeURIComponent(dataValue),""):serialize(newObj)+"&"+string:singleTrue&&-1!==string.indexOf(dataKey+"=")?string:dataKey in configObject?string.replace(dataKey+"="+dataValue,""):serialize(newObj)+"&"+string).replace(/^\&|\&+$/,"")).length?location.protocol+"//"+location.host+location_path+"?"+eachString:location.protocol+"//"+location.host+location_path},serialize:serialize,show:function(){var configObject={};if(window.search_config&&window.search_config.filter){$.extend(configObject,window.search_config.filter),configObject.page=window.search_config.page,configObject.sort=window.search_config.sort;var dataKey,keys=configObject?Object.keys(configObject):[];if(!(0<keys.length))return;for(var i=0;i<keys.length;i++)if(Array.isArray(configObject[keys[i]]))for(var j=0;j<=configObject[keys[i]].length;j++)dataKey=$("[data-key='"+keys[i]+"'][data-value='"+configObject[keys[i]][j]+"']"),$.each(dataKey,function(index,obj){obj.checked=!0});else dataKey=$("[data-key='"+keys[i]+"'][data-value='"+configObject[keys[i]]+"']"),$.each(dataKey,function(index,obj){obj.checked=!0})}},buildClearHref:function(dataKey){window.search_config,window.location.href;var location_path=location.pathname;if(window.search_config&&window.search_config.no_location_match){var temp_loc_index=location_path.indexOf("-jobs-in-")+"-jobs".length;location_path=location_path.substring(0,temp_loc_index)+"/"}var current_path=location.protocol+"//"+location.host+location_path,configObject={};$.extend(configObject,window.search_config.filter);var string=serialize(configObject),eachString="",is_replaced=!1;if(configObject[dataKey]&&Array.isArray(configObject[dataKey])){eachString=string;for(var i=0,l=configObject[dataKey].length;i<l;i++)eachString=eachString.replace(dataKey+"="+encodeURIComponent(configObject[dataKey][i]),""),is_replaced=!0}else configObject[dataKey]&&(eachString=(eachString=string).replace(dataKey+"="+encodeURIComponent(configObject[dataKey]),""),is_replaced=!0);return 0<(eachString=eachString.replace(/^\&|\&+$/,"").replace(/\&\&+/g,"&").replace(/^\&+/,"").replace(/\&+$/,"")).length?current_path+"?"+eachString:is_replaced?current_path:location.href},updateQueryString:function(key,value,url){if(url=url||window.location.href,window.search_config&&window.search_config.no_location_match){var temp_loc_index=url.indexOf("-jobs-in-")+"-jobs".length;url=url.substring(0,temp_loc_index)+"/"+window.location.search}var hash,re=new RegExp("([?&])"+key+"=.*?(&|#|$)(.*)","gi");if(re.test(url))return null!=value?url.replace(re,"$1"+key+"="+value+"$2$3"):(url=(hash=url.split("#"))[0].replace(re,"$1$3").replace(/(&|\?)$/,""),void 0!==hash[1]&&null!==hash[1]&&(url+="#"+hash[1]),url);if(null==value)return url;var separator=-1!==url.indexOf("?")?"&":"?";return url=(hash=url.split("#"))[0]+separator+key+"="+value,void 0!==hash[1]&&null!==hash[1]&&(url+="#"+hash[1]),url}}}(jQuery);$.fn.loadFilters=function(){var tagsArray=[];$("input[type=checkbox][data-type='checkbox-filter']").prop("checked",!1),new_filters.show();var filterNodes=$("[data-type='checkbox-filter']");$.each(filterNodes,function(index,item){var href,displayValue,did_you_mean,no_search_results,self=this,zeptoSelf=$(this),dataSelect=zeptoSelf.data("select"),dataValue=zeptoSelf.data("value"),dataKey=zeptoSelf.data("key"),dataDropDown=(zeptoSelf.data("screen-size"),zeptoSelf.data("dropdown")),dropDownBtnId=zeptoSelf.data("button-id"),dataTag=zeptoSelf.data("tag");try{did_you_mean=$(".did_you_mean").attr("href")}catch(e){}try{no_search_results=$(".no_search_results").attr("href")}catch(e){}href=did_you_mean||no_search_results?did_you_mean||no_search_results:"single"===dataSelect?new_filters.buildHref(dataValue,dataKey,!0):new_filters.buildHref(dataValue,dataKey),zeptoSelf.parent("a").attr("href",href).on("click",function(e){if("duration"===dataKey){var durationKeyNodes=$('[data-key="duration"]');$.each(durationKeyNodes,function(index,item){var itemValue=$(item).data("value");dataValue!==itemValue?$(item).prop("checked",!1):$(item).prop("checked",!0)})}else!0===self.checked?self.checked=!1:self.checked=!0}),zeptoSelf.on("change",function(e){var thisDataKey=zeptoSelf.data("key");"duration"===thisDataKey&&$.each(thisDataKey,function(index,item){$(item).prop("checked",!1)}),this.checked=!this.checked,window.location.href=href}),!0!==dataDropDown||!dropDownBtnId||dataKey in window.search_config&&window.search_config.filter&&window.search_config.filter[dataKey]===dataValue&&($("#"+dropDownBtnId).children("#selected").text(zeptoSelf.text()),zeptoSelf.remove());if(dataTag&&self.checked&&"sort"!==dataKey&&"page"!==dataKey&&(displayValue=zeptoSelf.data("tag"))&&href){var node='<li class="inline-flex-center flex-justify-center ellipsis-1-line"><span>'+displayValue+'</span><a href="'+href+'" data-type="checkbox-filter" data-value="'+dataValue+'" data-key="'+dataKey+'" class="text-small inline-flex-center flex-justify-center m-left-5">&times;</a></li>';tagsArray.push(node),node&&$("#tags-list-container").append(node)}});var individual_clears=$("a[data-type='clear-filter']");$.each(individual_clears,function(index,item){var dataKey=$(item).data("key");href=new_filters.buildClearHref(dataKey),$(item).attr("href",href),$(item).on("click",function(e){e.stopPropagation()})}),$.each($(".js-reset-filter"),function(index,item){$(item).attr("href",window.location.origin+window.location.pathname)}),$(".job_search_pagination").each(function(i,item){var self=$(item),data=$(item).data();data&&null!==data.page&&void 0!==data.page&&self.attr("href",new_filters.updateQueryString("page",data.page))})};var companyLocationSelectize,showEmailChange=function(elem){var closestRow=elem.closest(".row");$(closestRow).after('<div id="email-change-input" class="col-xs-12 col-m-12 col-md-8 col-md-offset-2 p-x-axis-0"><div class="row"><form name="changeEmail" class="form-inline inline-flex-center col-xs-12 p-all-0"><div class="col-xs-12 col-md-1"><div class="row"><span class="text-medium text-gray-light">Email</span></div></div><div class="col-xs-12 col-md-11 p-x-axis-0"><div class="row"><div class="col-xs-12 p-x-axis-0"><input id="changed-email-value" type="text" name="changedEmailValue" class="form-control input-sm"><button type="submit" value="Change and resend confirmation" class="btn btn-primary btn-sm text-medium p-x-axis-sm text-uppercase">CHANGE &amp; RESEND CONFIRMATION</button></div></div></div></form></div></div>'),$("#change-email").on("submit",function(event){changeEmailAfterSubmit(event)})},changeEmailAfterSubmit=function(event){event.preventDefault();var emailChangeSerialized=[];formValidator.validate("#changed-email-value","email")&&"changedEmailValue"===(emailChangeSerialized=$(this).serializeArray())[0].name&&$.trim(emailChangeSerialized[0].value)};$(document).ready(function(){cookieFn.checkCookie("eVerify"),cookieFn.checkCookie("fName");var getEmail=cookieFn.getCookie("mEmail");getEmail&&$("#user-email-show").html(getEmail)}),$(document).ready(function(){$("#success_message").hide(),$(".resend-verification-link").on("click",function(){var self=$(this),userID=self.data("user-id"),userEmail=self.data("user-email"),data=self.data(),emailData={new_email:userEmail};$.when(loginModule.initiateUnverifiedEmailChange(userID,JSON.stringify(emailData))).then(function(success){data.success&&$("#success_message").show().delay(15e3).fadeOut(),self.addClass("hidden"),$(".resend-verification-success").removeClass("hidden")},function(err){$(".resend-verification-error").removeClass("hidden")})})}),$(document).ready(function(){function loginFieldBlurFn(){var platform=document.platform?document.platform:null;platform&&"1"===platform&&$("#login_modal #loginForm #mobile").on("blur",function(){var self=$(this),username=self.val(),formParent=self.closest(".form-group");username&&1<=username.length&&$.when(loginModule.recognizeUser(username)).then(function(success){$("#loginForm #userID").val(success.id),success&&"O_RJ"===success.organization_status?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-rejected").removeClass("hidden"),formParent.addClass("has-error")):"O_UA"!==success.organization_status||success.email_verified?"O_UA"===success.organization_status&&success.email_verified?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-unapproved").removeClass("hidden"),formParent.addClass("has-error")):"O_A"!==success.organization_status||success.email_verified||success.password_exists?"O_A"!==success.organization_status||success.email_verified?"O_A"===success.organization_status&&success.email_verified&&!success.password_exists?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-password-not-set").removeClass("hidden"),formParent.addClass("has-error")):("O_A"===success.organization_status&&success.email_verified&&success.password_exists,$("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".js-reset-password").removeClass("hidden"),formParent.removeClass("has-error")):($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-unverified").removeClass("hidden"),formParent.addClass("has-error")):($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-password-not-set").removeClass("hidden"),formParent.addClass("has-error")):($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-new-user").removeClass("hidden"),formParent.addClass("has-error"))},function(err){$("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-new-user").removeClass("hidden"),formParent.addClass("has-error")})})}function continueLogin(loginObj,username,obj){$.when(loginModule.loginUser(JSON.stringify(loginObj))).then(function(success){if(success.access_token){if(loginModule.trackLoginContinue(username,"S"),trackLoginSubmit(username,"S"),loginModule.setCookieAndRedirect(success.access_token,["existing","employer"],!0),success.jwt){var cookieDomain=!!document.cookie_domain&&document.cookie_domain;Cookies.set("jwt",success.jwt,{path:"/",domain:cookieDomain||"localhost"})}}else loginModule.trackLoginContinue(username,"F"),trackLoginSubmit(username,"F")},function(err){loginModule.trackLoginContinue(username,"F"),trackLoginSubmit(username,"F"),err&&401===err.status&&(err.responseJSON&&"DeactivatedUserLoginError"===err.responseJSON.type&&err.responseJSON.message?window.location.href="/account-deactivated/?message="+err.responseJSON.message:(obj.attr("disabled",!1),obj.val("Log in"),$("#loginForm #password").closest(".form-group").addClass("has-error"),$("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.invalid_password").removeClass("hidden"),$("#loginForm").find(".js-reset-password").removeClass("hidden")))})}var trackLoginSubmit=function(username,status){trackingData.Username=username||"NA",trackingData.Status=status||"NA",window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction("Login-Submit",trackingData)};$("#loginEmployer").on("click",function(e){e.preventDefault();var platform=document.platform?document.platform:null,self=$(this),data=self.data(),source=(data.trackName,data.trackSource),page=data.trackPage;trackingData={},source&&(trackingData.Source=source),page&&(trackingData.Page=page);var zone=loginModule.getZone(),formId="#"+FormNameMap.login;loginModule.resetFormErrors(formId);var passwordError=formValidator.validate("#loginForm #password","password",!0,null,null,!0),mobileError=formValidator.validate("#loginForm #mobile","email",!0,null,null,!0);if(formValidator.trueOrFalse(mobileError,passwordError)){var username=$("#loginForm #mobile").val().trim(),loginObj={username:username,client_id:loginModule.getClientID().trim(),password:$("#loginForm #password").val()};self.attr("disabled",!0),self.val("Checking..."),loginFieldBlurFn(),$.when(loginModule.recognizeUser(username)).then(function(success){var userObj=success;if(null===userObj.user_type)loginModule.showNullUserError(),self.attr("disabled",!1),self.val("Log in"),loginModule.trackLoginContinue(username,"F"),trackLoginSubmit(username,"F");else if("employer"===UserTypeMap[userObj.user_type]&&"employer"===zone){$("#loginForm #userID").val(success.id);var formParent=$("#mobile").closest(".form-group");self.attr("disabled",!1),self.val("Log in"),loginModule.trackLoginContinue(username,"F"),trackLoginSubmit(username,"F"),platform&&"1"===platform?success&&"O_RJ"===success.organization_status?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-rejected").removeClass("hidden"),formParent.addClass("has-error")):"O_UA"!==success.organization_status||success.email_verified?"O_UA"===success.organization_status&&success.email_verified?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-unapproved").removeClass("hidden"),formParent.addClass("has-error")):"O_A"!==success.organization_status||success.email_verified||success.password_exists?"O_A"!==success.organization_status||success.email_verified?"O_A"===success.organization_status&&success.email_verified&&!success.password_exists?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-password-not-set").removeClass("hidden"),formParent.addClass("has-error")):("O_A"===success.organization_status&&success.email_verified&&success.password_exists&&($("#loginForm").find(".error-field").addClass("hidden"),formParent.removeClass("has-error")),$("#loginForm").find(".js-reset-password").removeClass("hidden"),continueLogin(loginObj,username,self)):($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-unverified").removeClass("hidden"),formParent.addClass("has-error")):($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-password-not-set").removeClass("hidden"),formParent.addClass("has-error")):($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-new-user").removeClass("hidden"),formParent.addClass("has-error")):success&&"O_RJ"===success.organization_status?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm .js-rejected").removeClass("hidden"),formParent.addClass("has-error")):($("#loginForm").find(".js-reset-password").removeClass("hidden"),continueLogin(loginObj,username,self))}else loginModule.trackLoginContinue(username,"F"),trackLoginSubmit(username,"F"),loginModule.crossCheckZoneShowError(userObj),self.attr("disabled",!1),self.val("Log in")},function(err){loginModule.trackLoginContinue(username,"F"),trackLoginSubmit(username,"F"),404==err.status?(self.attr("disabled",!1),self.val("Log in"),$("#loginForm #mobile").closest(".form-group").addClass("has-error"),$("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.js-new-user").removeClass("hidden")):(self.attr("disabled",!1),self.val("Log in"))})}else $("#loginForm").find(".error-field").addClass("hidden"),self.attr("disabled",!1),self.val("Log in")}),$(".js-employer-login-submit").on("click",function(event){event.preventDefault();var self=$(this),form=self.data().type;if("emailVerified"==form){trackObj={Type:"Email login - Login with Email ID"},loginModule.sendEvent("General Click",trackObj);var emailError=formValidator.validate("#emailVerified #employerEmail","email"),passwordError=formValidator.validate("#emailVerified #employerPassword","password");if(formValidator.trueOrFalse(emailError,passwordError))if(self.attr("disabled",!0),self.val("Checking..."),$("#emailVerified #employerEmail").val()==$("#employerLoginEmail").val()){var loginObj={username:$("#emailVerified #employerEmail").val().trim(),client_id:loginModule.getClientID().trim(),password:$("#emailVerified #employerPassword").val()};$.when(loginModule.loginUser(JSON.stringify(loginObj))).then(function(success){success.access_token?(Cookies.remove("employer_access_token"),self.attr("disabled",!1),self.val("Login with Email ID"),loginModule.setCookieAndRedirect(success.access_token,["existing","employer"],!0)):(self.attr("disabled",!1),self.val("Login with Email ID"))},function(err){self.attr("disabled",!1),self.val("Login with Email ID"),err&&401===err.status&&(err.responseJSON&&"DeactivatedUserLoginError"===err.responseJSON.type&&err.responseJSON.message?window.location.href="/account-deactivated/?message="+err.responseJSON.message:($("#emailVerified").find(".error-field").addClass("hidden"),$("#emailVerified").find(".error-field.invalid_password").removeClass("hidden"),$("#loginForm").find(".js-reset-password").removeClass("hidden")))})}else $("#emailVerified").find(".error-field.email-match-error").removeClass("hidden"),self.attr("disabled",!1),self.val("Login with Email ID")}else if("emailNotVerified"==form){trackObj={Type:"Email login - Verify"},loginModule.sendEvent("General Click",trackObj);var emailUnVerifiedError=formValidator.validate("#emailNotVerified #not-verified-email","email");if(formValidator.trueOrFalse(emailUnVerifiedError)){self.attr("disabled",!0),self.val("Checking...");var emailUnVerifiedInput=$("#emailNotVerified #not-verified-email").val().trim(),postObj={new_email:emailUnVerifiedInput},userID=$("#emailNotVerified #employerUserID").val();$.when(loginModule.initiateUnverifiedEmailChange(userID,JSON.stringify(postObj))).then(function(success){Cookies.remove("employer_access_token"),Cookies.set("mEmail",emailUnVerifiedInput,{path:"/"}),self.attr("disabled",!1),self.val("Verify");window.location.href="/employer/emailVerify/notify/"},function(err){self.attr("disabled",!1),self.val("Verify"),$("#emailNotVerified").find(".error-field.server-error").removeClass("hidden")})}}else if("emailDoesNotExists"==form){trackObj={Type:"Email login - Submit Email ID"},loginModule.sendEvent("General Click",trackObj);var emailDoesNotExistError=formValidator.validate("#emailDoesNotExists #doesNotExistEmail","email");if(formValidator.trueOrFalse(emailDoesNotExistError)){self.attr("disabled",!0),self.val("Checking...");var emailDoesNotExistInput=$("#emailDoesNotExists #doesNotExistEmail").val().trim(),doesNotExistPostObj={new_email:emailDoesNotExistInput},doesNotExistUserID=$("#emailDoesNotExists #employerdoesNotExistUserID").val();$.when(loginModule.initiateUnverifiedEmailChange(doesNotExistUserID,JSON.stringify(doesNotExistPostObj))).then(function(success){Cookies.remove("employer_access_token"),Cookies.set("mEmail",emailDoesNotExistInput,{path:"/"}),self.attr("disabled",!1),self.val("Submit");window.location.href="/employer/emailVerify/notify/"},function(err){self.attr("disabled",!1),self.val("Submit"),409==err.status?$("#emailDoesNotExists").find(".error-field.duplicate-entry").removeClass("hidden"):$("#emailDoesNotExists").find(".error-field.server-error").removeClass("hidden")})}}}),$("#js-change-input").on("click",function(e){e.preventDefault();var self=$(this);trackObj={Type:"Email login - Change"},loginModule.sendEvent("General Click",trackObj);var input=$("#not-verified-email");input.val(""),input.css("pointer-events","initial"),self.addClass("hidden"),$("#js-cancel-input").removeClass("hidden")}),$("#js-cancel-input").on("click",function(e){e.preventDefault();var self=$(this);trackObj={Type:"Email login - Cancel"},loginModule.sendEvent("General Click",trackObj);var input=$("#not-verified-email");input.val(self.data("email")),input.css("pointer-events","none"),self.addClass("hidden"),$("#js-change-input").removeClass("hidden")}),$(".js-toggle-password").on("click",function(e){e.preventDefault();var self=$(this),pwdInput=self.parent().find("input"),eyeIcon=self.find("img"),type=(eyeIcon.hasClass("active")?eyeIcon.removeClass("active"):eyeIcon.addClass("active"),pwdInput.attr("type"));type="password"===type?pwdInput.attr("type","text"):pwdInput.attr("type","password")}),$("#js-send-reset-password").on("click",function(e){e.preventDefault();var userId=$("#loginForm #userID").val();$.when(loginModule.sendResetPasswordEmail(userId)).then(function(data){$("#js-reset-password-success").removeClass("hidden"),setTimeout(function(){$("#js-reset-password-success").addClass("hidden")},5e3)},function(err){$("#js-reset-password-error").removeClass("hidden"),setTimeout(function(){$("#js-reset-password-error").addClass("hidden")},5e3)})}),setTimeout(function(){loginFieldBlurFn()},500)}),$(document).ready(function(){$(".pricing-plans").on("click",function(e){var self=$(this);e.preventDefault(),$(".pricing-plans").removeClass("selected"),self.addClass("selected");var type=self.data("type");"jp"===type?($(".details").addClass("hidden"),$(".jp.details").removeClass("hidden"),smoothScroll.scrollToTarget(".jp.details")):"rp"===type&&($(".details").addClass("hidden"),$(".rp.details").removeClass("hidden"),smoothScroll.scrollToTarget(".rp.details"),equalHeights.apply(".p-p-j",".p-p-i"),equalHeights.apply(".p-p-j-details",".p-p-i-details"))});var amountSelectize=$(".amount-selection").selectize({options:[{id:"1",title:"Less than 10 lakhs"},{id:"2",title:"10 lakhs - 20 lakhs"},{id:"3",title:"More than 20 lakhs"}],maxItems:1,valueField:"id",labelField:"title",searchField:"title",hideSelected:!0,onChange:function(){var current=salarySelectize.getValue(),page=$(".amount-selection").data("trackPage"),trackObj={Page:page||"NA",Type:"Change Pricing Slab",Source:"Pricing Details",Section:"NA"};switch($(".l-t-10,.m-t-20,.between-10-20").addClass("hidden"),current){case"1":$(".l-t-10").removeClass("hidden"),$(".l-t-10 .switch").prop("checked",!1),loginModule.sendEvent("Public Click",trackObj);break;case"2":$(".between-10-20").removeClass("hidden"),loginModule.sendEvent("Public Click",trackObj);break;case"3":$(".m-t-20").removeClass("hidden"),loginModule.sendEvent("Public Click",trackObj)}}});if(amountSelectize[0]){var salarySelectize=amountSelectize[0].selectize;salarySelectize.setValue("1")}$(".l-t-10 .switch").on("change",function(){var value=$(this).prop("checked"),page=$(".amount-selection").data("trackPage"),trackObj={Page:page||"NA",Type:"Change 50% Upfront",Source:"Pricing Details",Section:"NA"};value?($(".l-t-10 .switch-on").removeClass("hidden"),$(".l-t-10 .switch-off").addClass("hidden")):($(".l-t-10 .switch-off").removeClass("hidden"),$(".l-t-10 .switch-on").addClass("hidden")),loginModule.sendEvent("Public Click",trackObj)})});var sendData=function(){var sendData={},formNameDict={name:"name",location:"city_id",email:"email",mobile:"mobile",password:"password",first_name:"first_name",last_name:"last_name"};return sendData.existingUser=function(userName){var deferred=$.Deferred();return null!=userName&&$.when(function(userName){var deferred=$.Deferred();return $.ajax({method:"GET",url:baseURI+"api/v4/recognize_user/",data:{username:userName},headers:loginModule.getHeaders()}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}),deferred.promise()}(userName)).then(function(data){void 0!==data.id&&deferred.resolve(data)},function(err){deferred.reject(!0)}),deferred.promise()},sendData.fetchCityList=function(){var deferred=$.Deferred();return document.city_region_list&&document.city_region_list.length?deferred.resolve(document.city_region_list):$.when(function(){var deferred=$.Deferred();return $.ajax({method:"GET",url:baseURI+"api/v4/city/",data:{limit:1e3,order_by:"name"},headers:loginModule.getHeaders(),cache:!0}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}),deferred.promise()}()).then(function(data){data&&data.objects&&deferred.resolve(data.objects)},function(err){deferred.reject(err)}),deferred.promise()},sendData.toRegister=function(dataArray){var toPost,deferred=$.Deferred();return void 0!==dataArray&&dataArray.constructor===Array&&0<dataArray.length&&(toPost=function(dataArray){var dataLength,postData={managers:[{user_data:{user_type:"ER",page:window.location.pathname},type:"P"}]},marketing_source=window.getMarketingSource();if(0<Object.keys(marketing_source).length&&(postData.managers[0].user_data.marketing_source=marketing_source),void 0!==dataArray){dataLength=dataArray.length;for(var i=0;i<dataLength;i++)if(formNameDict[dataArray[i].name])if("name"!==formNameDict[dataArray[i].name]&&"city_id"!==formNameDict[dataArray[i].name])""!==$.trim(dataArray[i].value)&&(postData.managers[0].user_data[formNameDict[dataArray[i].name]]=dataArray[i].value);else if("name"===formNameDict[dataArray[i].name]){if(postData.company_id=null,verfiedCompainesList&&verfiedCompainesList.objects)for(var x=0;x<verfiedCompainesList.objects.length;x++)if(verfiedCompainesList.objects[x].popular_name.toLowerCase()===dataArray[i].value.toLowerCase()||verfiedCompainesList.objects[x].name.toLowerCase()===dataArray[i].value.toLowerCase()){postData.company_id=verfiedCompainesList.objects[x].id;break}postData[formNameDict[dataArray[i].name]]=dataArray[i].value}else if("city_id"===formNameDict[dataArray[i].name]){var city_id_to_patch=Number(dataArray[i].value),operating_cities_to_patch=[city_id_to_patch];postData[formNameDict[dataArray[i].name]]=city_id_to_patch,postData.operating_cities_list=operating_cities_to_patch}}return postData}(dataArray),$.when(function(obj){if(obj){var deferred=$.Deferred();return $.ajax({method:"POST",headers:loginModule.getHeaders(),url:baseURI+"api/v4/organization/",data:JSON.stringify(obj)}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&(deferred.notify("Sending..."),alert("sending.."))}),deferred.promise()}}(toPost)).then(function(data){sendData.trackRegister($.extend({},toPost),"S"),deferred.resolve(data)},function(err){sendData.trackRegister($.extend({},toPost),"F"),deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")})),deferred.promise()},sendData.changeEmail=function(obj){},sendData.trackRegister=function(postData,status){if(window.clevertap&&window.clevertap.event)try{var trackObj={"Company Name":postData.name,"First Name":postData.managers[0].user_data.first_name,"Last Name":postData.managers[0].user_data.last_name,Email:postData.managers[0].user_data.email,Mobile:postData.managers[0].user_data.mobile||"NA",Status:status};loginModule.sendEvent("Track Event  Register - Submit",trackObj)}catch(e){}},sendData}(),setSelectizeConfig=function(selector,options,config){if(selector&&options){var selectizeConfig={labelField:"name",valueField:"id",create:!1,options:options,searchField:"name",hideSelected:!1,maxItems:1,optgroupField:"class",lockOptgroupOrder:!0,render:{optgroup_header:function(data,escape){return'<div class="optgroup-header">'+escape(data.label)+"</div>"}},optgroups:[{value:"top",label:"Top Cities",$order:1},{value:"other",label:"Other Cities",$order:2}],onType:function(typedText){},onBlur:function(){formValidator.validateSelectize(companyLocationSelectize.selectize_instance,!0,"organization location")},onChange:function(value){formValidator.validateSelectize(companyLocationSelectize.selectize_instance,!0,"organization location")}};config&&$.extend(selectizeConfig,config);var selectInit=selector.selectize(selectizeConfig);return selectInit&&selectInit.length&&selectInit[0].selectize||{}}},segregateCityOpt=function(data){var cityList=data.slice(),top_city_list=["mumbai","thane","navi-mumbai","bengaluru","new-delhi","gurgaon","pune","chennai","hyderabad"];cityList.forEach(function(city){city.class=-1<top_city_list.indexOf(city.slug)?"top":"other"})},verfiedCompainesList={},resolveCompanyNameData=function(data){var tempArray=[];if(data&&data.objects){verfiedCompainesList=data;for(var i=0;i<data.objects.length;i++)if(void 0!==data.objects[i]){var objOfname={label:data.objects[i].popular_name,value:data.objects[i].logo?data.objects[i].logo:""};tempArray.push(objOfname)}}return tempArray},getVerifiedCompanyNames=function(str){var query,deferred=$.Deferred();return str&&(query={q:str.toString()},$.ajax({method:"GET",url:baseURI+"api/v4/company_suggestion/",data:query}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&(deferred.notify("Sending..."),alert("sending.."))})),deferred.promise()};function myItemFunc(text,input){return Awesomplete.$.create("li",{innerHTML:createItem(text,input),"aria-selected":"false"})}function createItem(text,input){var img=document.createElement("img");return img.style.height="34px",img.style.width="34px",img.style.padding="2px 4px 2px 8px",img.src=text.value?text.value:0<window.scriptUrlPath.indexOf("/static/")?window.scriptUrlPath.replace("/static/","/")+"src/images/placeholder/verifiedCompaniesDefaultimg.svg":window.scriptUrlPath+"src/images/placeholder/verifiedCompaniesDefaultimg.svg",img.outerHTML+" "+text.label}$(document).ready(function(){var serializedArray=[];isFormStartEventThrown=!(companyLocationSelectize={input_id:"company-location",select_list_label:"name",select_list_value:"id",searchField:"name"});$("#company-name").on("keyup focusin",function(evt){if(13!=event.keyCode&&38!=event.keyCode&&40!=event.keyCode){var queryString=$(this).val();2<=queryString.length&&$.when(getVerifiedCompanyNames(queryString)).then(function(data){company_awesomplete.list=resolveCompanyNameData(data)},function(err){})}});var company_input=document.getElementById("company-name");if(company_input)var company_awesomplete=new Awesomplete(company_input,{item:myItemFunc,replace:function(text){$(this);$("#company-name").val(text)}});$.when(sendData.fetchCityList()).then(function(data){data&&data.length?(segregateCityOpt(data),companyLocationSelectize.selectize_instance=setSelectizeConfig($("#"+companyLocationSelectize.input_id),data,{labelField:companyLocationSelectize.select_list_label,valueField:companyLocationSelectize.select_list_value,searchField:companyLocationSelectize.select_list_label})):companyLocationSelectize.selectize_instance=setSelectizeConfig($("#"+companyLocationSelectize.input_id),[],{labelField:companyLocationSelectize.select_list_label,valueField:companyLocationSelectize.select_list_value,searchField:companyLocationSelectize.select_list_label})},function(err){}),$("#employer-registeration").submit(function(event){event.preventDefault();var self=$(this),mobileError=formValidator.validate("#user-mobile","mobile",!0,null,null,!0),companyNameError=formValidator.validate("#company-name","text",!0,"company's name"),emailError=formValidator.validate("#user-email","email",!0,null,null,!0),firstName=formValidator.validate("#user-first-name","text",!0,"first name","^[a-zA-Z ]*$",!0),lastName=formValidator.validate("#user-last-name","text",!0,"last name","^[a-zA-Z ]*$",!0),userPassword=formValidator.validate("#user-password","password"),orgLocation=formValidator.validateSelectize(companyLocationSelectize.selectize_instance,!0,"organization location");""!==$.trim($("#user-mobile").val())&&(mobileError=formValidator.validate("#user-mobile","mobile")),emailError&&$.when(sendData.existingUser($("#user-email").val().trim())).then(function(data){if(data&&appendErrorHtml("#user-email"),!0===mobileError){var mobileValue=$("#user-mobile").val().trim();$.when(sendData.existingUser(mobileValue)).then(function(data){data&&appendMobileErrorHtml("#user-mobile")},function(err){!0===err&&removeDuplicateError("#user-mobile")})}},function(err){var noError=formValidator.trueOrFalse(mobileError,companyNameError,firstName,lastName,userPassword,emailError,orgLocation);if(!0===err&&noError&&removeDuplicateError("#user-email"),!0===err)if(!0===mobileError){var mobileValue=$("#user-mobile").val().trim();$.when(sendData.existingUser(mobileValue)).then(function(data){data&&(appendMobileErrorHtml("#user-mobile"),self.find("[type=submit]").prop("disabled",!1),self.find("[type=submit]").text("Start Hiring!"))},function(err){!0===err&&(removeDuplicateError("#user-mobile"),serializeNSubmit(self,noError))})}else""===$.trim($("#user-mobile").val())&&serializeNSubmit(self,noError)})});var serializeNSubmit=function(form,noError){var thisForm=form;noError&&(thisForm.find("[type=submit]").prop("disabled",!0),thisForm.find("[type=submit]").text("Processing..."),serializedArray=thisForm.serializeArray(),$.when(sendData.toRegister(serializedArray)).then(function(data){window.delMarketingSourceCookie(),cookieFn.setCookie("eVerify",data._source.managers[0].user.email_verified,2,"/employer"),cookieFn.setCookie("fName",data._source.managers[0].user.first_name,2,"/employer"),cookieFn.setCookie("mEmail",data._source.managers[0].user.email,2,"/employer"),sendGAEvent({category:"registration",action:"submit",label:"success"}),window.location="/employer/emailVerify/notify/"},function(err){409===err.code&&alert("Organization already exists")}))},appendErrorHtml=function(selector){var errorContent="<span class='help-block text-base'><span class='fa fa-exclamation-circle'>&nbsp;</span>This Email ID already exists with us. <a class='text-info auth-click' href='javascript:void(0)' data-auth-screen='login'>Login</a> with your email id.</span>";if(selector){var closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")?closestParent.children(".help-block").replaceWith(errorContent):closestParent.addClass("has-error").append(errorContent)}},appendMobileErrorHtml=function(selector,user_type){var errorContent;if(errorContent=user_type&&"CA"===user_type?"<span class='help-block text-base'><span class='fa fa-exclamation-circle'>&nbsp;</span>You already have an account with us as a Candidate. <a href='/' target='_self'>Login as candidate</a></span>":"<span class='help-block text-base'><span class='fa fa-exclamation-circle'>&nbsp;</span>User with this phone number already exists</span>",selector){var closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")?closestParent.children(".help-block").replaceWith(errorContent):closestParent.addClass("has-error").find("input").after(errorContent)}},removeDuplicateError=function(selector){var closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")&&closestParent.removeClass("has-error").children(".help-block").remove()};if($("#user-email").on("blur",function(){var emailValue=null;formValidator.validate("#user-email","email",!1)&&void 0!==(emailValue=$(this).val().trim())&&""!==emailValue&&void 0!==emailValue&&$.when(sendData.existingUser(emailValue)).then(function(data){data&&appendErrorHtml("#user-email")},function(err){if(!0===err){removeDuplicateError("#user-email");["aol.com","aol.in","comcast.net","facebook.com","gmail.com","googlemail.com","google.com","hotmail.com","mac.com","me.com","mail.com","msn.com","live.com","yahoo.com","hushmail.com","icloud.com","inbox.com","lavabit.com","outlook.com","pobox.com","rocketmail.com","safe-mail.net","wow.com","ygm.com","ymail.com","fastmail.fm","yandex.com","naver.com","daum.net","nate.com","yahoo.co.in","rediffmail.co","yahoo.in","mailinator.com","yopmail.com","gmail.in","yahoo.ca","45gmail.com","gmali.com","testing.com","gmil.com","gamil.com","gmal.com","dispostable.com","post.com","asia.com"].includes(emailValue.split("@")[1])?$("#js-error-company-email").removeClass("hidden"):$("#js-error-company-email").addClass("hidden")}})}),$("#user-mobile").on("blur",function(){var mobileValue=null;formValidator.validate("#user-mobile","mobile",!1)&&void 0!==(mobileValue=$(this).val().trim())&&""!==mobileValue&&void 0!==mobileValue&&$.when(sendData.existingUser(mobileValue)).then(function(data){data&&appendMobileErrorHtml("#user-mobile",data.user_type)},function(err){!0===err&&removeDuplicateError("#user-mobile")})}),$("#employer-registeration").on("focusin","input",function(){$(this);var idToValidate="#"+String($(this).attr("id"));formValidator.unvalidate(idToValidate)}),document.getElementById("topCompanies")){var slider=$("#topCompanies").Peppermint({dots:!1,slideshow:!0,slideshowInterval:3e3,startSlide:0,stopSlideshowAfterInteraction:!0,disableIfOneSlide:!0,mouseDrag:!0,onSetup:function(n){}});$("#next-arrow").click(slider.data("Peppermint").next),$("#prev-arrow").click(slider.data("Peppermint").prev),$("#topCompanies").on({mouseenter:function(){slider.data("Peppermint").pause()},mouseleave:function(){slider.data("Peppermint").start()}})}var hotJob=$(".js-emp-icons > .col-xs-12 > div"),maxHotJobHeight=equalHeights.getMaxHeight(hotJob);equalHeights.setHeight(maxHotJobHeight,hotJob),$("#employer-registeration input").on("change",function(){isFormStartEventThrown||(sendGAEvent({category:"registration",action:"start",label:"registration_form"}),isFormStartEventThrown=!0)})});var equalHeights=function(){var getMaxHeight=function(elements){var maxHeight=0,elementsLength=elements.length;if(2==elementsLength){var elementHeightOne=$(elements[0]).height(),elementHeightTwo=$(elements[1]).height();maxHeight=elementHeightTwo<elementHeightOne?elementHeightOne:elementHeightTwo}else if(2<elementsLength)for(var i=0;i<elementsLength;i++){var elementHeight=$(elements[i]).height();maxHeight=maxHeight<=elementHeight?elementHeight:maxHeight}else;return maxHeight},setHeight=function(heightValue,elements){var elementsLength=elements.length;if(void 0===heightValue||isNaN(heightValue));else if(2==elementsLength)$(elements[0]).height(heightValue),$(elements[1]).height(heightValue);else if(2<elementsLength)for(var i=0;i<elementsLength;i++)$(elements[i]).height(heightValue);else 1==elementsLength&&$(elements[0]).height(heightValue)};return{apply:function(){var args=arguments,bigElementHeight=getMaxHeight(args);0<bigElementHeight&&setHeight(bigElementHeight,args)},getMaxHeight:getMaxHeight,setHeight:setHeight}}();$(document).ready(function(){var userValue;$(".autoNumeric").autoNumeric("init");function calculateMyHiringCost(dataObj){var deferred=$.Deferred();return null!=dataObj&&$.ajax({type:"POST",url:"/employer/calculator/step-1/",contentType:"application/json; charset=utf-8",data:JSON.stringify(dataObj)}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}),deferred.promise()}function inputValues(selector,simple){return simple?$(selector).val():Math.round($(selector).val().replace(/,|\u20B9/g,""))}function formatCurrency(str){return(str+="").replace(/(\d)(?=(\d\d)+\d$)/g,"$1,")}function formatCurrencyWithRupee(str){return"â¹ "+formatCurrency(str)}function showValues(){var reports_details=calculatedData.reports_details||{};$("#no-of-recruiters").val(formatCurrency(reports_details.number_of_recruiters)),$("#ctc-per-recruiter").val(formatCurrencyWithRupee(reports_details.ctc_per_recruiter)),$("#overhead-cost").val(formatCurrencyWithRupee(reports_details.overhead_costs)),$("#fixed-yearly-cost").html(formatCurrency(reports_details.total_recruiter_cost)),$("#no-of-recruiters-details").html(formatCurrency(reports_details.number_of_recruiters)),$("#ctc-per-recruiter-details").html(formatCurrency(reports_details.ctc_per_recruiter)),$("#overhead-cost-details").html(formatCurrency(reports_details.overhead_costs)),$("#fixed-yearly-cost-details").html(formatCurrency(reports_details.total_recruiter_cost));var recruitment_cost=calculatedData.recruitment_cost;$("#consultant-hire").val(formatCurrency(recruitment_cost.consultant.hires)),$("#referral-hire").val(formatCurrency(recruitment_cost.referral.hires)),$("#advertisement-hire").val(formatCurrency(recruitment_cost.advertisement.hires)),$("#subscription-hire").val(formatCurrency(recruitment_cost.subscription.hires)),$("#consultant-hire-details").html(formatCurrency(recruitment_cost.consultant.hires)),$("#referral-hire-details").html(formatCurrency(recruitment_cost.referral.hires)),$("#advertisement-hire-details").html(formatCurrency(recruitment_cost.advertisement.hires)),$("#subscription-hire-details").html(formatCurrency(recruitment_cost.subscription.hires)),$("#consultant-parameter").val(formatCurrency(recruitment_cost.consultant.parameter)),$("#referral-parameter").val(formatCurrencyWithRupee(recruitment_cost.referral.parameter)),$("#consultant-parameter-details").html(formatCurrency(recruitment_cost.consultant.parameter)),1===recruitment_cost.consultant.parameter_type?$("#consultant-parameter-type").html("% of annual CTC"):$("#consultant-parameter-type").html("Flat fee"),$("#referral-parameter-details").html(formatCurrency(recruitment_cost.referral.parameter)),$("#consultant-total").val(formatCurrencyWithRupee(recruitment_cost.consultant.total)),$("#referral-total").val(formatCurrencyWithRupee(recruitment_cost.referral.total)),$("#advertisement-total").val(formatCurrencyWithRupee(recruitment_cost.advertisement.total)),$("#subscription-total").val(formatCurrencyWithRupee(recruitment_cost.subscription.total)),$("#final-recruitment-cost").html(formatCurrency(recruitment_cost.total)),$("#consultant-total-details").html(formatCurrency(recruitment_cost.consultant.total)),$("#referral-total-details").html(formatCurrency(recruitment_cost.referral.total)),$("#advertisement-total-details").html(formatCurrency(recruitment_cost.advertisement.total)),$("#subscription-total-details").html(formatCurrency(recruitment_cost.subscription.total)),$("#final-recruitment-cost-details").html(formatCurrency(recruitment_cost.total));var summary=calculatedData.summary;$("#total-cost-of-hiring").html(formatCurrency(summary.total_hiring_cost)),$("#cost-per-hire").html(formatCurrency(summary.cost_per_hire)),$("#cost-per-interview").html(formatCurrency(summary.cost_per_interview)),$("#hire-per-year").val(formatCurrency(calculatedData.hire_per_year))}var calculatedData={};$("#generate-hiring-cost").on("click",function(e){$("#step-2").slideUp("slow");var hirePerYearError=formValidator.validate("#hire-per-year","CommaSeparatedNumber",null,10),ctcPerHireError=formValidator.validate("#ctc-per-hire","CommaSeparatedNumber",null,6e4);formValidator.trueOrFalse(hirePerYearError,ctcPerHireError)&&(calculatedData={hire_per_year:parseInt(inputValues("#hire-per-year")),ctc_per_hire:parseInt(inputValues("#ctc-per-hire"))},$.when(calculateMyHiringCost(calculatedData)).then(function(status){calculatedData=status,showValues(),$("#report-detail-1-input").slideUp(),$("#report-detail-1-display").slideDown(),$("#report-detail-2-input").slideUp(),$("#report-detail-2-display").slideDown(),$("#report-detail-1-edit").fadeIn("slow"),$("#report-detail-2-edit").fadeIn("slow"),$("#step-2").slideDown("slow")}))}),$("#report-detail-1-edit").on("click",function(e){$("#report-detail-1-display").slideUp("slow",function(){$("#report-detail-1-parent").addClass("container-bg box-shadow-none"),$("#report-detail-1-input").slideDown("slow")}),$("#report-detail-1-edit").fadeOut("slow"),$("#report-detail-2-edit").fadeOut("slow")}),$("#report-detail-2-edit").on("click",function(e){$("#report-detail-2-display").slideUp("slow",function(){$("#report-detail-2-parent").addClass("container-bg box-shadow-none"),$("#report-detail-2-input").slideDown("slow")}),$("#report-detail-1-edit").fadeOut("slow"),$("#report-detail-2-edit").fadeOut("slow")}),$("#report-detail-1-submit").on("click",function(e){var noOfRecruiterError=formValidator.validate("#no-of-recruiters","CommaSeparatedNumber"),ctcPerRecruiterError=formValidator.validate("#ctc-per-recruiter","CommaSeparatedNumber"),overheadCostError=formValidator.validate("#overhead-cost","CommaSeparatedNumber");calculatedData.reports_details.number_of_recruiters=inputValues("#no-of-recruiters"),calculatedData.reports_details.ctc_per_recruiter=inputValues("#ctc-per-recruiter"),calculatedData.reports_details.overhead_costs=inputValues("#overhead-cost");var noError=formValidator.trueOrFalse(noOfRecruiterError,ctcPerRecruiterError,overheadCostError);userValue=JSON.parse(JSON.stringify(calculatedData.reports_details)),noError&&$("#report-detail-1-input").slideUp("slow",function(){$.when(calculateMyHiringCost(calculatedData)).then(function(status){calculatedData=status,showValues(),$("#report-detail-1-parent").removeClass("container-bg box-shadow-none"),$("#report-detail-1-display").slideDown("slow"),$("#report-detail-1-edit").fadeIn("slow"),$("#report-detail-2-edit").fadeIn("slow")})})}),$("#report-detail-2-submit").on("click",function(e){var consultantHireError=formValidator.validate("#consultant-hire","CommaSeparatedNumber"),referralHireError=formValidator.validate("#referral-hire","CommaSeparatedNumber"),advertisementHireError=formValidator.validate("#advertisement-hire","CommaSeparatedNumber"),subscriptionHireError=formValidator.validate("#subscription-hire","CommaSeparatedNumber"),consultantParameterError=formValidator.validate("#consultant-parameter","CommaSeparatedNumber"),referralParameterError=formValidator.validate("#referral-parameter","CommaSeparatedNumber"),advertisementTotalError=formValidator.validate("#advertisement-total","CommaSeparatedNumber"),subscriptionTotalError=formValidator.validate("#subscription-total","CommaSeparatedNumber");formValidator.trueOrFalse(consultantHireError,referralHireError,advertisementHireError,subscriptionHireError,consultantParameterError,referralParameterError,advertisementTotalError,subscriptionTotalError)&&(delete calculatedData.reports_details,userValue&&(calculatedData.user_reports_details=userValue),calculatedData.recruitment_cost.consultant.hires=inputValues("#consultant-hire"),calculatedData.recruitment_cost.consultant.parameter_type="%"==$('input[name="parameter"]:checked').val()?1:2,calculatedData.recruitment_cost.consultant.parameter=inputValues("#consultant-parameter"),calculatedData.recruitment_cost.referral.parameter=inputValues("#referral-parameter"),calculatedData.recruitment_cost.referral.hires=inputValues("#referral-hire"),calculatedData.recruitment_cost.advertisement.hires=inputValues("#advertisement-hire"),calculatedData.recruitment_cost.advertisement.total=inputValues("#advertisement-total"),calculatedData.recruitment_cost.subscription.hires=inputValues("#subscription-hire"),calculatedData.recruitment_cost.subscription.total=inputValues("#subscription-total"),calculatedData.hire_per_year=calculatedData.recruitment_cost.consultant.hires+calculatedData.recruitment_cost.referral.hires+calculatedData.recruitment_cost.advertisement.hires+calculatedData.recruitment_cost.subscription.hires,9<calculatedData.hire_per_year?($("#report-detail-2-input-error-div").addClass("hidden"),$("#report-detail-2-input").slideUp("slow",function(){$.when(calculateMyHiringCost(calculatedData)).then(function(status){calculatedData=status,showValues(),$("#report-detail-2-parent").removeClass("container-bg box-shadow-none"),$("#report-detail-2-display").slideDown("slow"),$("#report-detail-1-edit").fadeIn("slow"),$("#report-detail-2-edit").fadeIn("slow"),$("#step-2").slideDown("slow")},function(status){},function(status){})})):$("#report-detail-2-input-error-div").removeClass("hidden"))}),$("#report-detail-2-input input").change(function(event){var consultantHireError=formValidator.validate("#consultant-hire","CommaSeparatedNumber"),referralHireError=formValidator.validate("#referral-hire","CommaSeparatedNumber"),advertisementHireError=formValidator.validate("#advertisement-hire","CommaSeparatedNumber"),subscriptionHireError=formValidator.validate("#subscription-hire","CommaSeparatedNumber"),consultantParameterError=formValidator.validate("#consultant-parameter","CommaSeparatedNumber"),referralParameterError=formValidator.validate("#referral-parameter","CommaSeparatedNumber"),advertisementTotalError=formValidator.validate("#advertisement-total","CommaSeparatedNumber"),subscriptionTotalError=formValidator.validate("#subscription-total","CommaSeparatedNumber"),noError=formValidator.trueOrFalse(consultantHireError,referralHireError,advertisementHireError,subscriptionHireError,consultantParameterError,referralParameterError,advertisementTotalError,subscriptionTotalError),consultantParameterType="%"==$('input[name="parameter"]:checked').val()?1:2;if(noError){var _conTemp=inputValues("#consultant-parameter");calculatedData.recruitment_cost.consultant.parameter=_conTemp;var _conTotal=0;_conTotal=1==(calculatedData.recruitment_cost.consultant.type=consultantParameterType)?_conTemp/100*inputValues("#ctc-per-hire")*inputValues("#consultant-hire"):_conTemp*inputValues("#consultant-hire");var _refTemp=inputValues("#referral-parameter"),_refTotal=inputValues("#referral-hire")*_refTemp;calculatedData.recruitment_cost.referral.parameter=_refTemp,$("#referral-total").html(formatCurrency(_refTotal)),$("#consultant-total").html(formatCurrency(_conTotal))}}),$("#tell-me-more").on("click",function(e){document.user_data=calculatedData,$("#send_contact_details_success").hide(),$("#send_contact_details").show(),$("#contact_details_modal").modal("show")});var qs=window.getQueryStringsFromURL();if(qs){var toCall=0;qs.annual_ctc&&parseInt(qs.annual_ctc)&&6e4<=parseInt(qs.annual_ctc)&&($("#ctc-per-hire").val(parseInt(qs.annual_ctc)),$("#ctc-per-hire").trigger("keyup"),toCall++),qs.total_hires&&parseInt(qs.total_hires)&&0<parseInt(qs.total_hires)&&($("#hire-per-year").val(parseInt(qs.total_hires)),$("#hire-per-year").trigger("keyup"),toCall++),2===toCall&&$("#generate-hiring-cost").trigger("click")}});var inputValues=function(selector){return $(selector).val()};$(document).ready(function(){$(".req-callback").on("click",function(e){$("#send_contact_details_success").hide(),$("#send_contact_details").show(),$("#contact_details_modal").modal("show"),$("#comments").addClass("hidden")});$("#send-contact-details-form-btn").on("click",function(e){e.preventDefault(),self=$(this);var trackData=$(this).data(),page=trackData.trackPage;source=trackData.trackPage,$("#send_contact_details_faliur_div").addClass("hidden");var dataObj,deferred,nameError=formValidator.validate("#send_contact_details #name","text"),emailError=formValidator.validate("#send_contact_details #email","email",!0,"email"),contactNumberError=formValidator.validate("#send_contact_details #mobile","mobile"),orgNameError=formValidator.validate("#send_contact_details #org_name","text");if(formValidator.trueOrFalse(nameError,emailError,contactNumberError,orgNameError)){function trackEvent(trackObject){trackObject.State=Cookies.get("access_token")?"Logged In":"Public",window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction("Request Call Back",trackObject)}var data={};data="Employer Registration"===page?{email:inputValues("#send_contact_details #email"),name:inputValues("#send_contact_details #name"),organization:inputValues("#send_contact_details #org_name"),contact_number:inputValues("#send_contact_details #mobile"),query:"Need help from registration Page",raise_from:"Registration page"}:{user_data:document.user_data||{},email:inputValues("#send_contact_details #email"),name:inputValues("#send_contact_details #name"),org:inputValues("#send_contact_details #org_name"),number:inputValues("#send_contact_details #mobile"),source:source||"Employer Homepage"},!1===$("send_contact_details #comments").hasClass("hidden")?data.comment=inputValues("#send_contact_details #comments textarea"):delete data.comment,data.comment&&0===data.comment.length?delete data.comment:data.comment||delete data.comment;var trackObject={Email:data.email,Name:data.name,"Company Name":data.org,Phone:data.number,Source:data.source,Page:page};$.when((dataObj=data,deferred=$.Deferred(),null!=dataObj&&(dataObj.raise_from?$.ajax({method:"POST",url:baseURI+"api/v4/employer_ticket/",headers:loginModule.getHeaders(),data:JSON.stringify(dataObj)}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}):$.ajax({type:"POST",url:"/employer/lead/",contentType:"application/json; charset=utf-8",beforeSend:function(xhr){xhr.setRequestHeader("X-CSRFToken",Cookies.get("csrftoken"))},data:JSON.stringify(dataObj)}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")})),deferred.promise())).then(function(status){trackObject.Status="S",trackEvent(trackObject),$("#send_contact_details_success").show(),$("#send_contact_details").hide()},function(status){$("#send_contact_details_faliur_div").html("Error in sending your details!! Try Again after some time."),$("#send_contact_details_faliur_div").removeClass("hidden"),trackObject.Status="F",trackEvent(trackObject)})}}),$("#contact_details_modal").on("hidden.bs.modal",function(){$("#send_contact_details_success").hide(),document.getElementById("send_contact_details").reset(),$("#send_contact_details").show()}),$("#send_contact_details_success_ok_btn").on("click",function(e){"page"==$(this).data("type")?($("#send_contact_details_success").hide(),document.getElementById("send_contact_details").reset(),$("#send_contact_details").show()):$("#contact_details_modal").modal("hide")})}),$(document).ready(function(){$(function(){$(".expandSearch").on("click",function(){$("#basicSearch").addClass("hidden"),$("#advancedSearch").removeClass("hidden"),$("#search-close-icon").removeClass("hidden"),$("#search-query").focus()}),$(".collapseSearch").on("click",function(){$("#advancedSearch").addClass("hidden"),$("#search-close-icon").addClass("hidden"),$("#basicSearch").removeClass("hidden")}),$(".filter-search-nested").on("keyup",function(){var self=$(this),inputId=self.attr("id"),listId=self.data("list-id"),parentListClass=self.data("parent-list-class");nestedListSearchFunction(parentListClass,inputId,listId)}),$(".filter-search").on("keyup",function(){var self=$(this);!function(inputId,listId){var filter,li,a,i,l;for(filter=document.getElementById(inputId).value.toUpperCase(),i=0,l=(li=document.getElementById(listId).getElementsByTagName("li")).length;i<l;i++){a=li[i].getElementsByTagName("a")[0];var classList=li[i].classList;classList&&classList.contains&&classList.contains("is_category")||(-1<a.innerHTML.toUpperCase().indexOf(filter)?li[i].style.display="":li[i].style.display="none")}}(self.attr("id"),self.data("list-id"))}),$(".more-fa").on("click",function(){$(this);$(".extra-fa").removeClass("hidden"),$(".more-fa").addClass("hidden"),$(".less-fa").removeClass("hidden")}),$(".less-fa").on("click",function(){$(this);$(".extra-fa").addClass("hidden"),$(".less-fa").addClass("hidden"),$(".more-fa").removeClass("hidden")}),$(".js-cookie-click").on("click",function(){var cookieName=$(this).data("type");Cookies.set("search_type",cookieName)})})});var extractValidConfig=function(params){var validConfig={};return"keyword"===params.search_type&&params.query&&(validConfig.keyword=params.query),params.filter&&params.filter.job_id&&(validConfig.job_id=params.filter.job_id),params.filter&&params.filter.industry_id&&(validConfig.industry_id=params.filter.industry_id),params.filter&&params.filter.industry_id&&(validConfig.industry_id=params.filter.industry_id),params.min_exp&&(validConfig.experience=params.min_exp),params.min_salary&&(validConfig.salary=params.min_salary),validConfig},serialize=function(obj,prefix){var str=[];for(var p in obj)if(obj.hasOwnProperty(p)){var k=prefix?prefix+"["+p+"]":p,v=obj[p];str.push("object"==typeof v?serialize(v,k):encodeURIComponent(k)+"="+encodeURIComponent(v))}return str.join("&")};$(document).ready(function(){var searchParams,paramString;if(void 0!==document.search_config){searchParams=search_config,window.filter_object&&(searchParams=$.extend(searchParams,JSON.parse(JSON.stringify(filter_object)))),searchParams=extractValidConfig(searchParams),paramString=serialize(searchParams);var _href=$(".job-alert-link").attr("href");paramString=_href&&-1!==_href.indexOf("?")?"&"+paramString:"?"+paramString,$(".job-alert-link").attr("href",_href+paramString)}});var loginModule=function(){RegexMap={mobile:/^[6-9][0-9]{9}$/,email:/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|in|global|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/,automation:/|^1896547852$|^1975489630$|^1456253698$|^1682579456$|^1798652321$|^1896547852$|^1975489630$|^1456253698$|^1682579456$|^1798652321$|^2896547852$|^2975489630$|^2682579456$|^2798652321$/},RegisterInputFieldTypeMap={first_name:"text",last_name:"text",mobile:"text",email:"text",gender:"radio"},FormNameMap={login:"loginForm",recognizedUser:"recognizedUserForm",forgotPassword:"forgotPasswordForm",errorContainer:"errorMessageContainer",forgotPasswordEmailSent:"forgotPasswordEmailSentForm",invalidToken:"invalidTokenMessage",loginViaOtp:"loginViaOtpForm",createPasswordEmail:"createPasswordEmailForm"},UserTypeMap={CA:"candidate",ER:"employer",P:"partner",PA:"primary-agency"},RedirectURLMap={new:{candidate:window.siteAddress+"/candidate-zone/profile/edit/",employer:window.siteAddress+"/employer-zone/home/",partner:window.siteAddress+"/partner-zone/home/","primary-agency":window.siteAddress+"/coming-soon/primary-agency/"},existing:{candidate:window.siteAddress+"/candidate-zone/matching-jobs/",employer:window.siteAddress+"/employer-zone/home/",partner:window.siteAddress+"/partner-zone/home/","primary-agency":window.siteAddress+"/coming-soon/primary-agency/"}},MobileWebAuthMap={login:"https://m.aasaanjobs.com/login/?event_id=4",register:"https://m.aasaanjobs.com/registration-step-1/?event_id=1"};function hideAll(){$.each(FormNameMap,function(i,val){$("#"+val).addClass("hidden")})}function getEmailVerificationCookie(){return!!Cookies.get("verification_email_exists")&&Cookies.get("verification_email_exists")}function getEmailVerificationValue(){return!!Cookies.get("verification_email")&&Cookies.get("verification_email")}function getCookieDomain(){return!!document.cookie_domain&&document.cookie_domain}function getToggle(){return!!document.olx_toggle&&document.olx_toggle}function getPlatform(){return document.platform}function getHeaders(token,cType){var headers={"X-AJClient":"DesktopWeb.Candidate","X-AJ-PLATFORM":getPlatform(),"Content-Type":"application/json"};return!1===cType&&(headers=_.omit(headers,"Content-Type")),token&&(headers.Authorization="Bearer "+token),headers}function initiateSocialAuth(data){var deferred=$.Deferred();return null!=data&&$.ajax({method:"POST",url:baseURI+"api/v4/social_oauth/",headers:getHeaders(),xhrFields:{withCredentials:!0},data:data}).then(function(data,textStatus,jqXHR){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Resetting...")}),deferred.promise()}function setCookieAndRedirect(key,entity,redirectTrue,force_redirect_url){var next_url=["/","/employer/","/partner/"].indexOf(window.location.pathname)<0?window.location.search&&""!==window.location.search.trim()?window.location.pathname+window.location.search:window.location.pathname:void 0,nextValue=(location.search.split("next_to=")[1]||"").split("&")[0],autoApply=_.last(_.compact(nextValue.split("/")));autoApply&&localStorage.setItem("auto_apply",String(autoApply));var redirect_url="";if(getEmailVerificationCookie()&&Cookies.remove("verification_email_exists"),redirectTrue){redirect_url=entity?RedirectURLMap[entity[0]][entity[1]]:RedirectURLMap.existing.candidate;var cookieDomain=getCookieDomain();if(Cookies.set("access_token",key,{path:"/",domain:cookieDomain||"localhost"}),entity&&"primary-agency"!==entity[1]){0<=["candidate","partner","employer"].indexOf(entity[1])&&entity[1];$.ajax({method:"GET",url:window.siteAddress+"/web_api/get_login_redirect_url/"+entity[1]+"/",xhrFields:{withCredentials:!0}}).then(function(data){window.location=window.siteAddress+data.redirect_url},function(err){next_url?Cookies.set("next_to",next_url,{path:"/"}):Cookies.remove("next_to"),window.location.href=redirect_url})}else window.location.href=redirect_url}else force_redirect_url&&(Cookies.set("access_token",key,{path:"/"}),window.location.href=force_redirect_url)}function getClientID(){return document.client_id}function linkedinSuccess(obj){setTimeout(function(){var access_token=IN.ENV.auth.oauth_token,marketing_source=window.getMarketingSource(),client_id=getClientID(),login_obj={provider:"linkedin-oauth2",access_token:access_token,client_id:client_id||"",marketing_source:marketing_source,registration_source:"RWC",user_type:"CA"};$.when(initiateSocialAuth(JSON.stringify(login_obj))).then(function(success){var access_token=success.access_token;setCookieAndRedirect(access_token,["existing","candidate"],!0)},function(err){})},500)}function sendEvent(name,properties){window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction(name,properties)}var loginModal=$("#login_modal"),clearFormElements=function(selector,onlyErrors){$(selector).find(":input").each(function(){var formGroup=$(this).closest(".form-group");switch(this.type){case"password":case"text":case"textarea":onlyErrors||$(this).val(""),formGroup.hasClass("has-error")&&(formGroup.removeClass("has-error"),$(formGroup).find(".help-block").remove()),formGroup.siblings(".error-field").addClass("hidden");break;case"file":case"select-one":case"select-multiple":onlyErrors||$(this).val(""),formGroup.hasClass("has-error")&&(formGroup.removeClass("has-error"),$(formGroup).find(".help-block").remove()),formGroup.siblings(".error-field").addClass("hidden");break;case"checkbox":case"radio":onlyErrors||($(this).checked=!1),formGroup.hasClass("has-error")&&(formGroup.removeClass("has-error"),$(formGroup).find(".help-block").remove()),formGroup.siblings(".error-field").addClass("hidden")}})};return{getAccessTokenCookie:function(){return!!Cookies.get("access_token")&&Cookies.get("access_token")},getEmailVerificationCookie:getEmailVerificationCookie,getEmailVerificationValue:getEmailVerificationValue,getZone:function(){return!!document.zone&&document.zone},getCookieDomain:getCookieDomain,getToggle:getToggle,getHeaders:getHeaders,getPlatform:getPlatform,setPlatform:function(){var toggle=getToggle();document.platform="True"===toggle?"0":"1"},isMobile:function(){var isMobile=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(isMobile=!0),isMobile},isMobileOrEmail:function(value){var mobileRegex=new RegExp(RegexMap.mobile.source+RegexMap.automation.source),emailRegex=new RegExp(RegexMap.email.source),mobileRegexCheck=mobileRegex.test(value),emailRegexCheck=emailRegex.test(value);return mobileRegexCheck?"mobile":emailRegexCheck?"email":void 0},showModal:function(target){hideAll();var idToShow="#"+FormNameMap[target];$(idToShow).removeClass("hidden"),clearFormElements(idToShow),$(idToShow).find(".error-field").addClass("hidden"),Cookies.get("invalid_auto_login_link")&&$(invalidTokenMessage).removeClass("hidden"),loginModal.modal({keyboard:!1,backdrop:"static"}),$.each($(".abcRioButtonContents"),function(inedx,value){$(this).first("span").text("Continue with Google")}),loginModal.on("shown.bs.modal",function(){$(idToShow).find(".focused-element").focus()})},hideModal:function(selector){$(selector).modal("hide")},switchScreen:function(target){hideAll();var idToShow="#"+FormNameMap[target];clearFormElements(idToShow),$(idToShow).removeClass("hidden"),$(idToShow).find(".focused-element").focus()},hideAll:hideAll,injectTrovitPixel:function(){$("<script>(function(i,s,o,g,r,a,m){i['TrovitAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://analytics.trovit.com/trovit-analytics.js','ta');ta('init', 'in', 4, 'ad44c172fc617eacc167e2474c27866d');ta('send', 'lead');<\/script>").appendTo(document.body)},clearFormElements:clearFormElements,setCookieAndRedirect:setCookieAndRedirect,checkSocialAuthError:function(){var authErrorCheck=Cookies.get("auth_error"),emailVerificationCheck=getEmailVerificationCookie(),emailVerificationValue=getEmailVerificationValue();authErrorCheck&&Cookies.get("auth_error"),emailVerificationCheck&&(emailVerificationValue?loginModule.loginWithUsername.candidate(emailVerificationValue):candidateLogin.mediator.init(self,e))},getClientID:getClientID,getAuthRedirectKey:function(){return document.auth_redirect_key},sendEvent:sendEvent,trackLoginContinue:function(username,status,type,social_auth){sendEvent("Login - Continue",{Username:username,Status:status,Type:type,"Social login":social_auth})},getInputFieldTypeMap:function(){return RegisterInputFieldTypeMap},getRecognizedData:function(){var userData=[];return $("#login_modal #userData")&&(userData=$("#login_modal #userData").data("user-data")),userData},getSocialUsedData:function(socialData){var userObj=socialData;if(socialObj={facebook:!1,google:!1,linkedin:!1},userObj&&userObj.social_auth&&userObj.social_auth.length)for(var i=0;i<userObj.social_auth.length;i++)"facebook"==userObj.social_auth[i]&&(socialObj.facebook=!0),"google-oauth2"==userObj.social_auth[i]&&(socialObj.google=!0);return socialObj},getReferralCode:function(){return!!Cookies.get("referral_code")&&Cookies.get("referral_code")},getUserData:function(access_token){var deferred=$.Deferred();return null!=access_token&&$.ajax({method:"GET",url:strictApiURI+"o/profile/",headers:getHeaders(access_token)}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Working...")}),deferred.promise()},loginUser:function(userData){var deferred=$.Deferred();return null!=userData&&$.ajax({method:"POST",url:baseURI+"api/v4/password_login/",data:userData,headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()},recognizeUser:function(username){var deferred=$.Deferred(),epochTime=Math.floor(Date.now()/1e3);return null!=username&&$.ajax({method:"GET",url:baseURI+"api/v4/recognize_user/?username="+username+"&t="+epochTime,xhrFields:{withCredentials:!0},headers:getHeaders()}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Registering...")}),deferred.promise()},getAccessTokenFromOpenID:function(body){var deferred=$.Deferred();return null!=body&&$.ajax({method:"POST",url:baseURI+"api/v4/open_id_auth/",data:body,headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Registering...")}),deferred.promise()},generateUser:function(userData){var deferred=$.Deferred();return null!=userData&&$.ajax({method:"POST",url:baseURI+"api/v4/login_or_create/",data:userData,headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data,textStatus,jqXHR){deferred.resolve({data:data,status:textStatus,jqXHR:jqXHR})},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Registering...")}),deferred.promise()},createEscrow:function(userData){var deferred=$.Deferred();return null!=userData&&$.ajax({method:"POST",url:baseURI+"api/v4/escrow/",data:userData,headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data,textStatus,jqXHR){deferred.resolve({data:data,status:textStatus,jqXHR:jqXHR})},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Registering...")}),deferred.promise()},createCandidate:function(userData){var deferred=$.Deferred();return null!=userData&&$.ajax({method:"POST",url:baseURI+"api/v4/candidate/",data:userData,headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data,textStatus,jqXHR){deferred.resolve({data:data,status:textStatus,jqXHR:jqXHR})},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Registering...")}),deferred.promise()},createOrganization:function(userData){var deferred=$.Deferred();return null!=userData&&$.ajax({method:"POST",url:baseURI+"api/v4/organization/",data:userData,headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()},updateCandidate:function(access_token,id,userData){var deferred=$.Deferred();return null!=userData&&$.ajax({method:"PATCH",url:baseURI+"api/v4/candidate/"+id+"/",data:userData,headers:getHeaders(access_token),xhrFields:{withCredentials:!0}}).then(function(data,textStatus,jqXHR){deferred.resolve({data:data,status:textStatus,jqXHR:jqXHR})},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Registering...")}),deferred.promise()},generateOTP:function(id,type){var deferred=$.Deferred();return null!=id&&$.ajax({method:"POST",url:baseURI+"api/v4/user/"+id+"/generate_otp/",data:{reset_code_type:type||"P"},xhrFields:{withCredentials:!0},headers:getHeaders(!1,!1)}).then(function(data,textStatus,jqXHR){deferred.resolve({data:data,status:textStatus,jqXHR:jqXHR})},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Generating...")}),deferred.promise()},activateMobile:function(userData){var deferred=$.Deferred();return null!=userData&&$.ajax({method:"POST",url:baseURI+"api/v4/activate_mobile/",data:userData,headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()},setStep:function(candidateId){var deferred=$.Deferred();return null!=candidateId&&$.ajax({method:"POST",url:window.siteAddress+"/web_api/v1/candidate/"+candidateId+"/step/",headers:getHeaders(),data:JSON.stringify({step:0,id:candidateId}),xhrFields:{withCredentials:!0}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()},parseResume:function(filePath){var deferred=$.Deferred();return null!=filePath&&$.ajax({method:"POST",url:baseURI+"api/v4/resume_parser/",data:filePath,headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()},resetPasswordViaOTP:function(data){var deferred=$.Deferred();return null!=data&&$.ajax({method:"POST",url:baseURI+"api/v4/otp_reset_password/",data:data,xhrFields:{withCredentials:!0},headers:getHeaders()}).then(function(data,textStatus,jqXHR){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Resetting...")}),deferred.promise()},loginUserViaOTP:function(userData){var deferred=$.Deferred();return null!=userData&&$.ajax({method:"POST",url:baseURI+"api/v4/login_via_otp/",data:userData,headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()},sendVerificationEmail:function(userID){var deferred=$.Deferred();return null!=userID&&$.ajax({method:"PATCH",url:baseURI+"api/v4/user/"+userID+"/send_verification_email/",data:"{}",headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()},sendResetPasswordEmail:function(userID){var deferred=$.Deferred();return null!=userID&&$.ajax({method:"PATCH",url:baseURI+"api/v4/user/"+userID+"/send_pwd_reset_email/",data:"{}",headers:getHeaders(),xhrFields:{withCredentials:!0}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()},initiateResetPasswordViaEmail:function(data){var deferred=$.Deferred();return null!=data&&$.ajax({method:"POST",url:baseURI+"api/v4/initiate_email_reset_password/",headers:getHeaders(),xhrFields:{withCredentials:!0},data:data}).then(function(data,textStatus,jqXHR){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Resetting...")}),deferred.promise()},initiateUnverifiedEmailChange:function(id,data){var deferred=$.Deferred();return null!=data&&$.ajax({method:"POST",url:baseURI+"api/v4/user/"+id+"/initiate_unverified_email_change/",headers:getHeaders(),data:data,xhrFields:{withCredentials:!0}}).then(function(data,textStatus,jqXHR){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Resetting...")}),deferred.promise()},resetFormErrors:function(selector){clearFormElements(selector,!0)},crossCheckZoneShowError:function(userObj){"employer"===UserTypeMap[userObj.user_type]?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.employer").removeClass("hidden")):"partner"===UserTypeMap[userObj.user_type]?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.partner").removeClass("hidden")):"candidate"===UserTypeMap[userObj.user_type]?($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.employee").removeClass("hidden")):"primary-agency"===UserTypeMap[userObj.user_type]&&($("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.primary-agency").removeClass("hidden"))},showNullUserError:function(){$("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.user-null").removeClass("hidden")},initializeGoogleSignin:function(googleUser){if(($("#candidate_login_modal").data("bs.modal")||{}).isShown||($("#login_modal").data("bs.modal")||{}).isShown||$("#registeration-google")[0]){googleUser.getBasicProfile();var login_obj={provider:"google-oauth2",access_token:googleUser.Zi.access_token,client_id:"s7wKyG4NJlZ4nYmeVaJT0dbf7a9JBAVpJhV0pYmC",marketing_source:window.getMarketingSource(),registration_source:"RWC",user_type:"CA"},trackObj={Type:"Google",Status:"F"};$.when(initiateSocialAuth(JSON.stringify(login_obj))).then(function(success){var access_token=success.access_token;trackObj.Status="S",setCookieAndRedirect(access_token,["existing","candidate"],!0),loginModule.sendEvent("Social Auth",trackObj)},function(err){trackObj.Status="F",loginModule.sendEvent("Social Auth",trackObj),googleUser.disconnect()})}else googleUser.disconnect()},initializeGoogleFailedSignin:function(googleUser){loginModule.sendEvent("Social Auth",{Type:"Google",Status:"F"}.Status="F")},initializeFBSignin:function(obj){var access_token=obj.authResponse.accessToken,marketing_source=window.getMarketingSource(),client_id=getClientID(),login_obj={provider:"facebook",access_token:access_token,client_id:client_id||"",marketing_source:marketing_source,registration_source:"RWC",user_type:"CA"};$.when(initiateSocialAuth(JSON.stringify(login_obj))).then(function(success){var access_token=success.access_token;setCookieAndRedirect(access_token,["existing","candidate"],!0)},function(err){})},initializeLinkedinSignin:function(obj){IN.User.isAuthorized()?linkedinSuccess():IN.User.authorize((data,void IN.Event.on(IN,"auth",linkedinSuccess)),void data)},loginWithUsername:{candidate:function(username){$(".candidate-login").trigger("click"),$("form[name=candidateLoginScreen] #candidateMobile").val(username),$("form[name=candidateLoginScreen]").submit()},employer:function(username){},partner:function(username){}},sendResumeParseEvent:function(status,type,trackPage,data){var trackObj={Status:status,Type:type||"NA",Page:trackPage||"NA",Fname:data&&data.user_data&&data.user_data.first_name?data.user_data.first_name:"NA",Lname:data&&data.user_data&&data.user_data.last_name?data.user_data.last_name:"NA",Email:data&&data.user_data&&data.user_data.email?data.user_data.email:"NA",Mobile:data&&data.user_data&&data.user_data.mobile?data.user_data.mobile:"NA","Existing User":data&&(data.email_exists||data.mobile_exists)?"Y":"N"};sendEvent("Resume Parser Status",trackObj)},inititateThrowEvent:function(edited_data,id){var deferred=$.Deferred();if(null==edited_data||null==id)return deferred.reject({error:"Please provide data and id"});var candidate_data={edited_keys:edited_data};if(!localStorage.parsed_resume_data)return deferred.reject({error:"parsed_resume_data does not exist"});try{candidate_data.original_keys=JSON.parse(localStorage.parsed_resume_data).original_keys}catch(e){return localStorage.removeItem("parsed_resume_data"),deferred.reject({error:"parsed_resume_data is corrupted"})}return localStorage.removeItem("parsed_resume_data"),$.ajax({method:"POST",url:baseURI+"api/v4/candidate/"+id+"/throw_event/",headers:getHeaders(),data:JSON.stringify(candidate_data),xhrFields:{withCredentials:!0}}).then(function(data,textStatus,jqXHR){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Resetting...")}),deferred.promise()},saveResumeParsedData:function(data){localStorage.getItem("parsed_resume_data")&&localStorage.removeItem("parsed_resume_data");var parsed_data={original_keys:{first_name:data.user_data.first_name?data.user_data.first_name:"",last_name:data.user_data.last_name?data.user_data.last_name:"",mobile:data.user_data.mobile?data.user_data.mobile:"",email:data.user_data.email?data.user_data.email:"",dob:data.user_data.dob?data.user_data.dob:"",marital_status:data.user_data.marital_status?data.user_data.marital_status:"",address:data.user_data.address?data.user_data.address:"",total_experience_user:data.user_data.total_experience_user?data.user_data.total_experience_user:""}};localStorage.setItem("parsed_resume_data",JSON.stringify(parsed_data))},generateUUID:function(){var d=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"==c?r:3&r|8).toString(16)})}}}();$(document).ready(function(){String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})};function socialCheck(userObj,form){var socialText=[],username=$("#loginForm #mobile").val().trim();if(userObj&&userObj.social_auth&&userObj.social_auth.length){for(var i=0;i<userObj.social_auth.length;i++)"facebook"==userObj.social_auth[i]&&($(form+" #socialExists").removeClass("hidden"),$(form+" #socialDoesNotExists").addClass("hidden"),$(form+" .existing-facebook").removeClass("hidden"),socialText.push("Facebook")),"linkedin"==userObj.social_auth[i]&&($(form+" #socialExists").removeClass("hidden"),$(form+" #socialDoesNotExists").addClass("hidden"),$(form+" .existing-linkedin").removeClass("hidden"),socialText.push("Linkedin")),"google-oauth2"==userObj.social_auth[i]&&($(form+" #socialExists").removeClass("hidden"),$(form+" #socialDoesNotExists").addClass("hidden"),$(form+" .existing-google").removeClass("hidden"),socialText.push("Google"));$(form+" #socialText").text(socialText.toString())}else $(form+" #socialExists").addClass("hidden"),$(form+" #socialDoesNotExists").removeClass("hidden"),"CA"==userObj.user_type?userObj.email&&-1!=userObj.email.indexOf("gmail.com")?($(form+" #socialGoogleCheck").text("Google account:"),$(form+" #socialLoginEmail").text(userObj.email_exists?userObj.email:username),$(form+" .social-gmail-check").addClass("hidden"),$(form+" .social-gmail-check.google").removeClass("hidden")):($(form+" #socialGoogleCheck").text("social account linked with:"),$(form+" #socialLoginEmail").text(userObj.email_exists?userObj.email:username),$(form+" .social-gmail-check").removeClass("hidden")):$(form+" .social-section").addClass("hidden")}$(document).on("click",".auth-click",function(e){e.preventDefault();var $self=$(this),data=$self.data(),name=data.trackName,source=data.trackSource,page=data.trackPage,attrs=data.trackAttrs,title=data.trackTitle,link=data.trackLink;resume_type=$self.data("resumeType")?$self.data("resumeType"):"classic";var cookieDomain=loginModule.getCookieDomain();if($("#login_modal .candidate-register-auth").attr("data-resume-type",resume_type),$("#login_modal #loginUserBtn").attr("data-resume-type",resume_type),name){var trackingData={};if(attrs&&"object"==typeof attrs&&!Array.isArray(attrs)&&0<Object.keys(data).length)for(var key in attrs){var trackKey=attrs[key],trackVal=data["track"+key];trackVal&&(trackingData[trackKey]=trackVal)}source&&(trackingData.Source=source),page&&(trackingData.Page=page),title&&(trackingData[title]=$self.attr("title")||title),link&&(trackingData.Link=$self.attr("href")||link),window.clevertap&&window.clevertap.event&&(trackingData&&0<Object.keys(trackingData).length?window.trackCleverTapClassFunction(name,trackingData):window.trackCleverTapClassFunction(name))}var redirect_url,screenToShow=$self.data("auth-screen"),access_token=loginModule.getAccessTokenCookie(),isMobile=loginModule.isMobile(),zone=loginModule.getZone();"login"!==screenToShow&&"register"!==screenToShow||!access_token?isMobile&&"employee"===zone?(redirect_url="login"===screenToShow?MobileWebAuthMap.login:MobileWebAuthMap.register,window.location.href=redirect_url):loginModule.showModal(screenToShow):$.when(loginModule.getUserData(access_token)).then(function(success){if(loginModule.setCookieAndRedirect(access_token,["existing",UserTypeMap[success.user_type]],!0),success.jwt){var cookieDomain=!!document.cookie_domain&&document.cookie_domain;Cookies.set("jwt",success.jwt,{path:"/",domain:cookieDomain||"localhost"})}},function(err){var redirect_url;(Cookies.remove("access_token",{path:"/",domain:cookieDomain||"localhost"}),isMobile&&"employee"===zone)?(redirect_url="login"===screenToShow?MobileWebAuthMap.login:MobileWebAuthMap.register,window.location.href=redirect_url):loginModule.showModal(screenToShow)})}),$(document).on("click",".candidate-register-auth",function(e){$(".modal-forms#register-with-resume-resume").addClass("hidden"),$(".modal-forms#register-with-resume-loader").removeClass("hidden"),e.preventDefault();$(this);var $self=$(this),data=$self.data(),source=data.trackSource,page=data.trackPage,position=data.trackPosition,resume_type=$self.data("resumeType")?$self.data("resumeType"):"classic",screenToShow=$self.data("auth-screen"),trackingData={};source&&(trackingData.track_source=source),page&&(trackingData.track_page=page),position&&(trackingData.track_position=position),resume_type&&(trackingData.resume_type=resume_type,trackingData.next_to=window.location.pathname),"string"!=typeof source||"apply"!==source.toLowerCase()&&"apply with cv"!==source.toLowerCase()||window.trackCleverTapClassFunction("Apply",{Page:page||"NA",Position:position||"NA",State:"Logged Out"});var access_token=loginModule.getAccessTokenCookie(),isMobile=loginModule.isMobile(),zone=loginModule.getZone();$.when(loginModule.getUserData(access_token)).then(function(success){var redirect_url;access_token&&loginModule.setCookieAndRedirect(),success.user_type&&(redirect_url=isMobile&&"CA"===success.user_type?MobileWebAuthMap.login:RedirectURLMap.existing[UserTypeMap[success.user_type]],window.location.href=redirect_url)},function(err){if(access_token&&loginModule.setCookieAndRedirect(),isMobile&&"employee"===zone){var redirect_url;redirect_url="login"===screenToShow?MobileWebAuthMap.login:MobileWebAuthMap.register,window.location.href=redirect_url}else{$(".modal-forms#register-with-resume-loader").addClass("hidden"),$(".modal-forms#register-with-resume-resume").removeClass("hidden");var urlParams=null;ajUtilities&&(urlParams=ajUtilities.serializeUrl(trackingData));var redirectUrl="https://www.aasaanjobs.com/candidate/register/"+(urlParams&&"string"==typeof urlParams&&""!==urlParams.trim()?"?"+urlParams:"");localStorage.setItem("post_register_resume_modal",redirectUrl)}}),$("#registerWithResume").modal({show:!0,backdrop:"static",keyboard:!1})}),$(".switch-screen").on("mousedown",function(e){e.preventDefault();var screenToShow=$(this).data("auth-screen");loginModule.switchScreen(screenToShow)}),$("#recognizeUserBtn").on("click",function(e){e.preventDefault(),document.user_mobile_asterik=null,document.user_id_for_login=null;var mobileError,self=$(this),zone=loginModule.getZone();if(mobileError=formValidator.validate("#loginForm #mobile","emailOrMobile",!0,null,null,!0),"employee"===zone?0:"employer"===zone?0:"partner"===zone&&0,formValidator.trueOrFalse(mobileError)){var username=$("#loginForm #mobile").val().trim(),mobileRegex=new RegExp(RegexMap.mobile),emailRegex=new RegExp(RegexMap.email),mobileRegexCheck=mobileRegex.test(username),emailRegexCheck=emailRegex.test(username);self.attr("disabled",!0),self.val("Checking..."),$.when(loginModule.recognizeUser(username)).then(function(success){var userObj=success,socialText=[];if(userObj&&userObj.social_auth&&userObj.social_auth.length)for(var i=0;i<userObj.social_auth.length;i++)"facebook"==userObj.social_auth[i]&&socialText.push("Facebook"),"linkedin"==userObj.social_auth[i]&&socialText.push("Linkedin"),"google-oauth2"==userObj.social_auth[i]&&socialText.push("Google");socialCheck(userObj,"#recognizedUserForm");var partnerName=userObj.created_by_agency?userObj.created_by_agency:"";if($("#login_modal .forgotPasswordSwitch").data("user-data",userObj),$("#login_modal #userData").data("user-data",userObj),null===userObj.user_type)mobileRegexCheck?loginModule.trackLoginContinue(username,"NA","Mobile","NA"):emailRegexCheck&&loginModule.trackLoginContinue(username,"NA","Email","NA"),loginModule.showNullUserError(),self.attr("disabled",!1),self.val("Continue");else if("partner"===UserTypeMap[userObj.user_type]&&"partner"===zone||"candidate"===UserTypeMap[userObj.user_type]&&"employee"===zone){var name="";userObj.first_name?name+=userObj.first_name:"candidate"===UserTypeMap[userObj.user_type]?name+="Candidate":"partner"===UserTypeMap[userObj.user_type]&&($(".initiateLoginViaOtp").hide(),name+="Partner"),!1!==userObj.is_active||"ER"!==userObj.user_type&&"P"!==userObj.user_type?("candidate"===UserTypeMap[userObj.user_type]?(socialCheck(userObj,"#recognizedUserForm"),mobileRegexCheck?($(".initiateLoginViaOtp").show(),$(".goBacktoLogin").hide()):emailRegexCheck?userObj.mobile_verified&&userObj.mobile&&userObj.id?($(".goBacktoLogin").hide(),$(".initiateLoginViaOtp").show(),document.user_mobile_asterik=userObj.mobile,document.user_id_for_login=userObj.id):($(".goBacktoLogin").show(),$(".initiateLoginViaOtp").hide()):($(".goBacktoLogin").hide(),$(".initiateLoginViaOtp").hide())):"partner"===UserTypeMap[userObj.user_type]&&$(".initiateLoginViaOtp").hide(),emailRegexCheck?loginModule.trackLoginContinue(username,"Candidate","Email",socialText.length?socialText.toString():"NA"):loginModule.trackLoginContinue(username,"Candidate","Mobile",socialText.length?socialText.toString():"NA"),self.attr("disabled",!1),self.val("Continue"),$("#recognizedUserForm #displayName").text(name),$("#recognizedUserForm #userName").val(username),$("#recognizedUserForm #userID").val(success.id),loginModule.hideAll(),userObj.password_exists?loginModule.switchScreen("recognizedUser"):($("#loginForm #userID").val(success.id),$("#createPasswordEmailForm #partnerName").val(partnerName),socialCheck(userObj,"#forgotPasswordForm"),socialCheck(userObj,"#createPasswordEmailForm"),forgotPasswordSwitchFunction(self,"forgotPassword",username,success.id,"cp","Create Password"))):(self.attr("disabled",!1),self.val("Continue"),emailRegexCheck?(loginModule.trackLoginContinue(username,"Inactive","Email",socialText.length?socialText.toString():"NA"),$("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.user_not_active_email").removeClass("hidden")):(loginModule.trackLoginContinue(username,"Inactive","Email",socialText.length?socialText.toString():"NA"),$("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.user_not_active_mobile").removeClass("hidden")),$("#loginForm #userID").val(success.id))}else"employer"===UserTypeMap[userObj.user_type]&&"employer"===zone?($("#loginForm #userID").val(success.id),$("#createPasswordEmailForm #partnerName").val(partnerName),socialCheck(userObj,"#forgotPasswordForm"),socialCheck(userObj,"#createPasswordEmailForm"),forgotPasswordSwitchFunction(self,"forgotPassword",username,success.id,"rp","Reset Password")):(emailRegexCheck?loginModule.trackLoginContinue(username,UserTypeMap[userObj.user_type].capitalize(),"Email",socialText.length?socialText.toString():"NA"):loginModule.trackLoginContinue(username,UserTypeMap[userObj.user_type].capitalize(),"Mobile",socialText.length?socialText.toString():"NA"),loginModule.crossCheckZoneShowError(userObj),self.attr("disabled",!1),self.val("Continue"))},function(err){emailRegexCheck?loginModule.trackLoginContinue(username,"New User","Email","NA"):loginModule.trackLoginContinue(username,"New User","Mobile","NA"),404==err.status?(self.attr("disabled",!1),self.val("Continue"),$("#loginForm").find(".error-field").addClass("hidden"),$("#loginForm").find(".error-field.new-user").removeClass("hidden")):(self.attr("disabled",!1),self.val("Continue")),$("#loginForm #mobile").on("blur",function(e){var idToValidate="#"+String($(this).attr("id"));formValidator.validate(idToValidate,"emailOrMobile")})})}}),$(".resendEmail").on("click",function(e){e.preventDefault();$(this);var userID=$("#loginForm #userID").val().trim(),userEmail=$("#loginForm #mobile").val().trim(),mobileRegex=new RegExp(RegexMap.mobile),emailRegex=new RegExp(RegexMap.email),emailRegexCheck=(mobileRegex.test(userEmail),emailRegex.test(userEmail)),emailData={new_email:userEmail};emailRegexCheck&&$.when(loginModule.initiateUnverifiedEmailChange(userID,JSON.stringify(emailData))).then(function(success){$("#errorMessageContainer").html("");var textToDisplay='<h4 class="h6 p-y-axis-md text-center text-light">An email has been sent to <strong>'+userEmail+"</strong>.<br /> Click on the link to verify your account.</h4>";$("#errorMessageContainer").append(textToDisplay),loginModule.showModal("errorContainer")},function(err){})});function trackLoginPasswordButton(status){window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction("Login - Password",{Status:status})}$("#login_modal .loginUserBtn").on("click",function(e){e.preventDefault();var self=$(this),resume_type=self.data("resumeType"),zone=loginModule.getZone(),userData=loginModule.getRecognizedData(),verifyEmailCheck=loginModule.getEmailVerificationCookie();var passwordError=!0;if(passwordError=userData&&userData.social_auth&&userData.social_auth.length?formValidator.validate("#recognizedUserForm #socialExists #password","password"):formValidator.validate("#recognizedUserForm #socialDoesNotExists #password","password"),formValidator.trueOrFalse(passwordError)){var password=null;password=userData&&userData.social_auth&&userData.social_auth.length?$("#recognizedUserForm #socialExists #password").val().trim():$("#recognizedUserForm #socialDoesNotExists #password").val().trim(),self.attr("disabled",!0),self.val("Checking...");var client=loginModule.getClientID().trim(),loginObj={username:$("#userName").val().trim().trim(),client_id:client.trim(),password:password};verifyEmailCheck&&(loginObj.auto_verify_email=!0),$.when(loginModule.loginUser(JSON.stringify(loginObj))).then(function(success){if(self.attr("disabled",!1),self.val("Login"),trackLoginPasswordButton("S"),success.jwt){var cookieDomain=!!document.cookie_domain&&document.cookie_domain;Cookies.set("jwt",success.jwt,{path:"/",domain:cookieDomain||"localhost"})}success.access_token&&("employer"===zone?loginModule.setCookieAndRedirect(success.access_token,["existing","employer"],!0):"partner"===zone?loginModule.setCookieAndRedirect(success.access_token,["existing","partner"],!0):$.when(loginModule.recognizeUser(loginObj.username)).then(function(data){data&&data.candidate_id&&resume_type?$.when(patchCandidateResumeType({resume_template:resume_type},data.candidate_id,success.access_token)).then(function(data){loginModule.setCookieAndRedirect(success.access_token,["existing","candidate"],!0)},function(err){loginModule.setCookieAndRedirect(success.access_token,["existing","candidate"],!0)}):loginModule.setCookieAndRedirect(success.access_token,["existing","candidate"],!0)}))},function(err){trackLoginPasswordButton("F"),verifyEmailCheck&&Cookies.remove("verification_email_exists"),401==err.status?(self.attr("disabled",!1),self.val("Login"),"DeactivatedUserLoginError"===err.responseJSON.type?$("#recognizedUserForm").find(".error-field.deactivated-user").removeClass("hidden"):$("#recognizedUserForm").find(".error-field.candidate").removeClass("hidden")):(self.attr("disabled",!1),self.val("Login"))})}});var forgotPasswordSwitchFunction=function(self,screenToShow,userMobile,userID,type,source){var mobileRegex=new RegExp(RegexMap.mobile),emailRegex=new RegExp(RegexMap.email),mobileRegexCheck=mobileRegex.test(userMobile),emailRegexCheck=emailRegex.test(userMobile),userData=loginModule.getRecognizedData();if(mobileRegexCheck){var trackObj={Username:userMobile,Type:"Mobile",Source:source};loginModule.sendEvent("Forgot-Password",trackObj),$("#forgotPasswordForm #displayMobile").text(userMobile),$("#forgotPasswordForm #mobileDisplay").text("******"+userMobile.substr(6,10)),$("#forgotPasswordForm #userMobile").val(userMobile),$("#forgotPasswordForm #userUID").val(userID),"rp"==type?($("#forgotPasswordForm .rp").removeClass("hidden"),$("#forgotPasswordForm .cp").addClass("hidden")):"cp"==type&&($("#forgotPasswordForm .cp").removeClass("hidden"),$("#forgotPasswordForm .rp").addClass("hidden")),$.when(loginModule.generateOTP(userID,"P")).then(function(success){loginModule.showModal(screenToShow)},function(err){$("#forgotPasswordForm").find(".error-field.create-otp-error").removeClass("hidden"),loginModule.showModal(screenToShow)})}else if(emailRegexCheck){var resetData={email:userMobile},trackObj2={Username:userMobile,Type:"Email",Source:source};loginModule.sendEvent("Forgot-Password",trackObj2),$.when(loginModule.initiateResetPasswordViaEmail(JSON.stringify(resetData))).then(function(success){if("rp"==type)userData&&userData.social_auth&&userData.social_auth.length?($("#createPasswordEmailForm #socialExists #displayEmail").text(userMobile),$("#createPasswordEmailForm #socialExists #formTitleText").text("Forgot Password?")):($("#createPasswordEmailForm #socialDoesNotExists #displayEmail").text(userMobile),$("#createPasswordEmailForm #socialDoesNotExists #formTitleText").text("Forgot Password?")),loginModule.showModal("createPasswordEmail"),$("#createPasswordEmailForm #formTitleText").text("Forgot Password?");else if("cp"==type){var partnerName=$("#createPasswordEmailForm #partnerName").val();userData&&userData.social_auth&&userData.social_auth.length?($("#createPasswordEmailForm #socialExists #displayEmail").text(userMobile),$("#createPasswordEmailForm #socialExists #displayCompany").text(partnerName),$("#createPasswordEmailForm #socialExists #formTitleText").text("Create Password")):($("#createPasswordEmailForm #socialDoesNotExists #displayEmail").text(userMobile),$("#createPasswordEmailForm #socialDoesNotExists #displayCompany").text(partnerName),$("#createPasswordEmailForm #socialDoesNotExists #formTitleText").text("Create Password")),loginModule.showModal("createPasswordEmail")}},function(err){$("#forgotPasswordForm").find(".error-field.initiate-email-error").removeClass("hidden"),loginModule.showModal(screenToShow)})}};$(".forgotPasswordSwitch").on("mousedown",function(e){e.preventDefault();var self=$(this),screenToShow=self.data("auth-screen"),userMobile=$("#recognizedUserForm #userName").val().trim(),userID=$("#recognizedUserForm #userID").val().trim(),userData=self.data("user-data");socialCheck(userData,"#forgotPasswordForm"),socialCheck(userData,"#createPasswordEmailForm"),forgotPasswordSwitchFunction(self,screenToShow,userMobile,userID,"rp","Forgot Password")}),$("#initiateCreatePasswordViaEmail").on("mousedown",function(e){e.preventDefault();var self=$(this);userMobile=$("#userName").val().trim();var type=self.data("type"),resetData={email:userMobile};$.when(loginModule.initiateResetPasswordViaEmail(JSON.stringify(resetData))).then(function(success){"resend"==type&&($("#createPasswordEmailForm").find(".success").removeClass("hidden"),$("#createPasswordEmailForm").find(".error").addClass("hidden"))},function(err){$("#createPasswordEmailForm").find(".success").addClass("hidden"),$("#createPasswordEmailForm").find(".error").removeClass("hidden")})});$(".initiateLoginViaOtp").on("mousedown",function(e){e.preventDefault();var screenToShow=$(this).data("auth-screen"),userID=$("#recognizedUserForm #userID").val().trim(),userMobile=$("#recognizedUserForm #userName").val().trim(),userData=loginModule.getRecognizedData();socialCheck(userData,"#loginViaOtpForm"),function(screenToShow,userMobile,userID){var mobileRegex=new RegExp(RegexMap.mobile),emailRegex=new RegExp(RegexMap.email),trackObj=(mobileRegex.test(userMobile),{});if(emailRegex.test(userMobile)){var showText="your registered mobile";document.user_mobile_asterik&&10===document.user_mobile_asterik.length&&(showText=document.user_mobile_asterik),$("#loginViaOtpForm #displayMobileOTP").text(showText),trackObj={Username:userMobile,Type:"Email"}}else $("#loginViaOtpForm #displayMobileOTP").text(userMobile),trackObj={Username:userMobile,Type:"Mobile"};loginModule.sendEvent("Login Via OTP",trackObj),$("#loginViaOtpForm #userUID").val(userID),$("#loginViaOtpForm #userMobile").val(userMobile),$.when(loginModule.generateOTP(userID,"L")).then(function(success){loginModule.showModal(screenToShow)},function(err){$("#loginViaOtpForm").find(".error-field.create-otp-error").removeClass("hidden"),loginModule.showModal(screenToShow)})}(screenToShow,userMobile,userID)}),$(".loginViaOtp").on("click",function(e){e.preventDefault();var self=$(this),userData=loginModule.getRecognizedData(),otpError=!0;if(otpError=userData&&userData.social_auth&&userData.social_auth.length?formValidator.validate("#loginViaOtpForm #socialExists #login-otp","otp",!0,"OTP",new RegExp(/\b\d{5}\b/g),!0):formValidator.validate("#loginViaOtpForm #socialDoesNotExists #login-otp","otp",!0,"OTP",new RegExp(/\b\d{5}\b/g),!0),formValidator.trueOrFalse(otpError)){self.attr("disabled",!0),self.val("Logging in...");var client_id=loginModule.getClientID(),userID=$("#recognizedUserForm #userID").val().trim(),verifyEmailCheck=loginModule.getEmailVerificationCookie(),userMobile=$("#recognizedUserForm #userName").val().trim(),loginObj={otp:userData&&userData.social_auth&&userData.social_auth.length?$("#loginViaOtpForm #socialExists #login-otp").val():$("#loginViaOtpForm #socialDoesNotExists #login-otp").val(),client_id:client_id};document.user_id_for_login?loginObj.user_id=userID:loginObj.mobile=userMobile,verifyEmailCheck&&(loginObj.auto_verify_email=!0),$.when(loginModule.loginUserViaOTP(JSON.stringify(loginObj))).then(function(success){if(loginModule.sendEvent("Login via OTP submit",{Status:"S"}),success.jwt){var cookieDomain=!!document.cookie_domain&&document.cookie_domain;Cookies.set("jwt",success.jwt,{path:"/",domain:cookieDomain||"localhost"})}success.access_token&&loginModule.setCookieAndRedirect(success.access_token,["existing","candidate"],!0)},function(err){verifyEmailCheck&&Cookies.remove("verification_email_exists");loginModule.sendEvent("Login via OTP submit",{Status:"F"}),400==err.status&&"InvalidOTPError"==err.responseJSON.type?$("#loginViaOtpForm").find(".error-field.invalid-otp").removeClass("hidden"):$("#loginViaOtpForm").find(".error-field.create-otp-error").removeClass("hidden"),self.attr("disabled",!1),self.val("Login")})}}),$(".resendOTPforLogin").on("click",function(e){e.preventDefault();var self=$(this);self.attr("disabled",!0),self.text("Resending...");$("#loginViaOtpForm #displayMobile").text();var userID=$("#loginViaOtpForm #userUID").val();$.when(loginModule.generateOTP(userID,"L")).then(function(success){setTimeout(function(){$("#loginViaOtpForm").find(".success-field").addClass("hidden")},3e3),$("#loginViaOtpForm").find(".success-field").removeClass("hidden"),self.attr("disabled",!0),self.text("Resend Code"),self.parent().addClass("hidden")},function(err){$("#loginViaOtpForm").find(".error-field.otp").removeClass("hidden"),self.attr("disabled",!1),self.text("Resend Code")})}),$(".resetPassword").on("click",function(e){e.preventDefault();var self=$(this),type=self.data("track-type")?self.data("track-type"):"NA",zone=loginModule.getZone(),userData=loginModule.getRecognizedData(),verifyEmailCheck=loginModule.getEmailVerificationCookie();var otpError=!0,passwordError=!0;if(passwordError=userData&&userData.social_auth&&userData.social_auth.length?(otpError=formValidator.validate("#forgotPasswordForm #socialExists #fp-otp","otp",!0,"OTP",new RegExp(/\b\d{5}\b/g),!0),formValidator.validate("#forgotPasswordForm #socialExists #fp-password","password")):(otpError=formValidator.validate("#forgotPasswordForm #socialDoesNotExists #fp-otp","otp",!0,"OTP",new RegExp(/\b\d{5}\b/g),!0),formValidator.validate("#forgotPasswordForm #socialDoesNotExists #fp-password","password")),formValidator.trueOrFalse(otpError,passwordError)){self.attr("disabled",!0),self.val("Resetting...");var password,otp=null;password=userData&&userData.social_auth&&userData.social_auth.length?(otp=$("#forgotPasswordForm #socialExists #fp-otp").val(),$("#forgotPasswordForm #socialExists #fp-password").val()):(otp=$("#forgotPasswordForm #socialDoesNotExists #fp-otp").val(),$("#forgotPasswordForm #socialDoesNotExists #fp-password").val());var mobile=$("#forgotPasswordForm #displayMobile").text(),resetObj={otp:otp,password:password,mobile:mobile.trim()};verifyEmailCheck&&(resetObj.auto_verify_email=!0),$.when(loginModule.resetPasswordViaOTP(resetObj)).then(function(success){self.attr("disabled",!1),self.val("Reset Password");var client=loginModule.getClientID(),loginObj={username:mobile.trim(),client_id:client.trim(),password:password},trackObj={Mode:"OTP",Type:type,Status:"S"};loginModule.sendEvent("Reset Password",trackObj),$.when(loginModule.loginUser(JSON.stringify(loginObj))).then(function(success){if(success.jwt){var cookieDomain=!!document.cookie_domain&&document.cookie_domain;Cookies.set("jwt",success.jwt,{path:"/",domain:cookieDomain||"localhost"})}success.access_token&&("employer"===zone?loginModule.setCookieAndRedirect(success.access_token,["existing","employer"],!0):"partner"===zone?loginModule.setCookieAndRedirect(success.access_token,["existing","partner"],!0):loginModule.setCookieAndRedirect(success.access_token,["existing","candidate"],!0))},function(err){err.status})},function(err){var trackObj={Mode:"OTP",Type:type,Status:"F"};loginModule.sendEvent("Reset Password",trackObj),self.attr("disabled",!1),self.val("Reset Password"),$("#forgotPasswordForm").find(".error-field.invalid-otp").removeClass("hidden")})}}),$(".resendOTP").on("click",function(e){e.preventDefault();var self=$(this);self.attr("disabled",!0),self.text("Resending...");$("#forgotPasswordForm #displayMobile").text();var userID=$("#forgotPasswordForm #userUID").val();$.when(loginModule.generateOTP(userID,"P")).then(function(success){setTimeout(function(){$("#forgotPasswordForm").find(".success-field").addClass("hidden")},3e3),$("#forgotPasswordForm").find(".success-field").removeClass("hidden"),self.attr("disabled",!0),self.parent().addClass("hidden")},function(err){$("#forgotPasswordForm").find(".error-field.otp").removeClass("hidden"),self.attr("disabled",!1),self.text("Resend Code")})}),$(".initiate-social-auth").on("mousedown",function(){var zoneEnum,self=$(this),authType=self.data("social-auth-type"),source=self.data("track-source"),zone=loginModule.getZone();"employee"===(zone=zone||"employee")?zoneEnum="CA":"employer"===zone?zoneEnum="ER":"partner"===zone&&(zoneEnum="P"),loginModule.sendEvent("Social auth",{type:authType,source:source});var zone_key=Cookies.get("zone_key");zone_key||(zone_key=loginModule.generateUUID(),Cookies.set("zone_key",zone_key,{expires:30}));var authUrl=baseURI+"api/v4/social_auth_web/?zone="+zone+"&zone_key="+zone_key+"&user_type="+zoneEnum+"&social_auth="+authType+"&redirect_to="+siteAddress+"/login/api-oauth2/",marketing_source=window.getMarketingSource();for(var key in marketing_source.page=window.location.pathname,marketing_source)authUrl+="&"+key+"="+marketing_source[key];window.location.href=authUrl,Cookies.set("auth_error",authType,{expires:1e-4})});var patchCandidateResumeType=function(data,candidateId,access_token){var deffered=$.Deferred();return data&&access_token&&candidateId||deffered.reject(),$.ajax({method:"PATCH",headers:loginModule.getHeaders(),url:baseURI+"api/v4/candidate/"+candidateId+"/",data:JSON.stringify(data),beforeSend:function(xhr){xhr.setRequestHeader("Authorization","Bearer "+access_token)}}).then(function(data){deffered.resolve(data)},function(err){deffered.reject(data)}),deffered.promise()};$(".track-google-signin").on("click",function(e){var self=$(this),authType=self.data("social-auth-type"),source=self.data("track-source");loginModule.sendEvent("Social auth",{type:authType,source:source})})}),window.candidateLogin={};var candidateLoginMediator={},candidateLoginScreen={},registerScreen={},passwordScreen={},loginViaOtpScreen={},emailSocialScreen={},createPasswordScreen={},loginSuccessScreen={};window.candidateLogin.userInfo={},function(scope,loginModule,$){function switchNext(nextFormID,PrevData){var trackObj={Page:nextFormID||"NA"};loginModule.sendEvent("Register/Login Modal Load",trackObj),$.each(scope.FormsNameMap,function(i,val){$("#"+val).addClass("hidden")});var nextForm="#"+scope.FormsNameMap[nextFormID];loginModule.clearFormElements(nextForm),nextFormID?scope[scope.FormsNameMap[nextFormID]].init(PrevData):scope.candidateLoginScreen.init(PrevData),$(nextForm).removeClass("hidden"),$(nextForm).find(".focused-element").focus()}function next(currentScreen,PrevData){switchNext(function(currentScreen,PrevData){switch(currentScreen){case"login":if(scope.userInfo.newUser)return"register";if(scope.userInfo.email_exists&&scope.userInfo.email_verified&&!scope.userInfo.mobile_exists&&!scope.userInfo.mobile_verified&&!scope.userInfo.password_exists&&0<scope.userInfo.social_auth.length)return"emailSocial";if("email"===scope.userInfo.type&&scope.userInfo.email_exists&&!scope.userInfo.password_exists)return scope.userInfo.forgotPassword=!0,"createPassword";if("mobile"===scope.userInfo.type)return"loginViaOtp";if("email"===scope.userInfo.type&&scope.userInfo.password_exists)return"password";break;case"password":if(PrevData&&(scope.userInfo.forgotPassword||scope.userInfo.verifyEmail))return"createPassword";if(PrevData&&PrevData.verifyMobile)return"loginViaOtp";if(scope.userInfo&&scope.userInfo.access_token)return loginModule.sendEvent("Login Response Success",{Type:"Password"}),"loginSuccess";break;case"register":if(scope.userInfo.newUser)return"loginViaOtp";if(scope.userInfo&&scope.mobileExists)return"loginViaOtp";if(scope.userInfo&&scope.emailExists)return"password";if(scope.userInfo)return"loginViaOtp";break;case"loginViaOTP":if(scope.userInfo.verifyEmail)return"createPassword";if(scope.userInfo.passwordExists)return"password";if(scope.userInfo&&scope.userInfo.access_token)return loginModule.sendEvent("Login Response Success",{Type:"OTP"}),"loginSuccess";break;case"emailSocial":if(PrevData.createPassword)return"createPassword";break;case"createPassword":if(PrevData.verify_mobile)return"loginViaOtp";break;case"forgotPassword":if(scope.userInfo&&scope.userInfo.access_token)return loginModule.sendEvent("Login Response Success",{Type:"Forgot Password"}),"loginSuccess";break;case"loginSuccess":break;default:return"login"}}(currentScreen,PrevData),PrevData)}data={},scope.FormsNameMap={login:"candidateLoginScreen",register:"registerScreen",password:"passwordScreen",loginViaOtp:"loginViaOtpScreen",emailSocial:"emailSocialScreen",createPassword:"createPasswordScreen",loginSuccess:"loginSuccessScreen"},scope.mediator={init:function(element,event){!function(){scope.userInfo={};var referralCookie=Cookies.get("referral_code"),sourceCookie=Cookies.get("source"),jobIdCookie=Cookies.get("job_id_for_source");referralCookie&&(scope.userInfo.referral_code=referralCookie),sourceCookie&&(scope.userInfo.source=sourceCookie,jobIdCookie&&(scope.userInfo.job_id_for_source=jobIdCookie)),scope.loginModal=$("#candidate_login_modal"),$.each($(".abcRioButtonContents"),function(inedx,value){$(this).first("span").text("Continue with Google")}),scope.loginModal.on("shown.bs.modal",function(){setTimeout(function(){$("#"+scope.FormsNameMap.login).find(".focused-element").focus()},200)})}(),next()},prev:function(currentScreen,NextData){},next:next,openModal:function(){scope.loginModal.modal({show:!0,backdrop:"static",keyboard:!1})}}}(candidateLogin,loginModule,jQuery),function(scope,loginModule,$,formValidator){var data={recognizedUserData:null,successData:null,user:null,type:null,access_token:null,loginForm:null,zone:"employee",isMobile:null};scope.candidateLoginScreen={init:function(){data.formSelector=$("#candidate_login_modal #candidateLoginScreen"),data.formSelector.find(".js-context-data").addClass("hidden"),data.access_token=loginModule.getAccessTokenCookie(),data.zone=loginModule.getZone(),data.isMobile=loginModule.isMobile(),$.when(function(){if(data.access_token){var deferred=$.Deferred();return $.when(loginModule.getUserData(data.access_token)).then(function(success){data.recognizedUserData=success,scope.userInfo=success,deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()}return $.Deferred().reject()}()).then(function(success){loginModule.setCookieAndRedirect(data.access_token,["existing",UserTypeMap[data.recognizedUserData.user_type]],!0)},function(err){if(data.isMobile&&"employee"===data.zone){var redirect_url=MobileWebAuthMap.login;window.location.href=redirect_url}else{var cookieDomain=loginModule.getCookieDomain();Cookies.remove("access_token",{path:"/",domain:cookieDomain||"localhost"}),data.formSelector.find("form:first .js-submit").attr("disabled",!1),candidateLogin.mediator.openModal(),$("#candidate_login_modal #candidateLoginScreen").removeClass("hidden"),data.formSelector.find("form:first").off().on("submit",function(e){e.preventDefault(),scope.userInfo.username=data.user=data.formSelector.find("#candidateMobile").val().trim(),mobileError=formValidator.validate("#candidateLoginScreen #candidateMobile","emailOrMobile",!0,null,null,!0);var noError=formValidator.trueOrFalse(mobileError),type=loginModule.isMobileOrEmail(scope.userInfo.username),trackObj={Type:type||"NA"};noError?(loginModule.sendEvent("Register Login Submit",trackObj),data.user&&(scope.userInfo.type=data.type=loginModule.isMobileOrEmail(data.user),data.formSelector.find("form:first .js-submit").attr("disabled",!0),$.when(loginModule.recognizeUser(data.user)).then(function(success){data.successData=success,scope.userInfo.newUser=!1,$.extend(scope.userInfo,success),data.successData&&data.successData.user_type&&null===data.successData.user_type?data.formSelector.find(".js-error.user-null").removeClass("hidden"):data.successData&&data.successData.user_type&&"CA"===data.successData.user_type&&data.successData.alternate_mobile&&data.successData.alternate_mobile.includes(data.user)?(data.formSelector.find(".js-error.alternate-login-mobile").removeClass("hidden"),data.formSelector.find(".js-login-mobile").text(data.successData.mobile)):data.successData&&data.successData.user_type&&"P"===data.successData.user_type?data.formSelector.find(".js-error.partner").removeClass("hidden"):data.successData&&data.successData.user_type&&"ER"===data.successData.user_type?data.formSelector.find(".js-error.employer").removeClass("hidden"):data.successData&&data.successData.user_type&&"PA"===data.successData.user_type?data.formSelector.find(".js-error.primary-agency").removeClass("hidden"):scope.mediator.next("login",data),data.formSelector.find("form:first .js-submit").attr("disabled",!1)},function(err){data.formSelector.find("form:first .js-submit").attr("disabled",!1),scope.userInfo.newUser=!0,scope.mediator.next("login",data)}))):(trackObj.Error=type||"NA",loginModule.sendEvent("Register Login Submit",trackObj))})}})},destroy:function(){$("#candidate_login_modal #candidateLoginScreen").addClass("hidden")}}}(candidateLogin,loginModule,jQuery,formValidator),function(scope,loginModule,$,formValidator){var data={successData:null,userObj:{first_name:null,last_name:null,email:null,mobile:null},access_token:null,formSelector:null,prevData:null,userType:null};function submit(){data.formSelector.find("form:first .js-submit").attr("disabled",!0).val("Checking..."),data.userObj.mobile?$.when(loginModule.recognizeUser(data.userObj.mobile)).then(function(success){data.successData=success,scope.userInfo.username=data.userObj.mobile,$.extend(scope.userInfo,success),scope.mobileExists=!0,scope.userInfo.newUser=!1,data.successData&&data.successData.user_type&&"CA"===data.successData.user_type&&data.successData.alternate_mobile&&data.successData.alternate_mobile.includes(data.userObj.mobile)?(data.formSelector.find(".js-error.alternate-register-mobile").removeClass("hidden"),data.formSelector.find(".js-register-mobile").text(data.successData.mobile)):(scope.mediator.next("register",data),loginModule.sendEvent("Register Form Submit Response",{Error:"Mobile Already Exists",Status:"F"})),data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Continue")},function(err){data.userObj.email?$.when(loginModule.recognizeUser(data.userObj.email)).then(function(success){data.successData=success,scope.userInfo.username=data.userObj.email,$.extend(scope.userInfo,success),scope.emailExists=!0,scope.userInfo.newUser=!1,data.emailLogin?scope.mediator.next("register",data):data.formSelector.find(".js-error.js-email-exists").removeClass("hidden"),loginModule.sendEvent("Register Form Submit Response",{Error:"Email Already Exists",Status:"F"}),data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Continue")},function(err){var postObj;scope.userInfo.newUser=!0,data.successData=null,scope.userInfo.username=data.userObj.email,(postObj={user_data:{user_type:"CA",marketing_source:window.getMarketingSource()}}).user_data.mobile=data.userObj.mobile,postObj.user_data.first_name=data.userObj.first_name,postObj.user_data.last_name=data.userObj.last_name,postObj.user_data.email=data.userObj.email,postObj.user_data.password=data.userObj.password,postObj.user_data.whatsapp_subscribed=!data.userObj.whatsapp_subscribed||JSON.parse(data.userObj.whatsapp_subscribed.toLowerCase()),scope.userInfo.referral_code&&(postObj.referral_code=scope.userInfo.referral_code),scope.userInfo.source&&(postObj.user_data.marketing_source.agency_source={source:scope.userInfo.source,job_id:scope.userInfo.job_id_for_source}),data.formSelector.find("form:first .js-submit").attr("disabled",!0).val("Checking..."),$.when(loginModule.createCandidate(JSON.stringify(postObj))).then(function(success){data.successData=success.data._source,scope.mediator.next("register",data),loginModule.sendEvent("Register Form Submit Response",{Status:"S"})},function(err){data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Continue"),409===err.status?"mobile"===scope.userInfo.type?data.formSelector.find(".js-email-exists").removeClass("hidden"):"email"===scope.userInfo.type&&data.formSelector.find(".js-mobile-exists").removeClass("hidden"):data.formSelector.find(".js-server-error").removeClass("hidden"),loginModule.sendEvent("Register Form Submit Response",{Error:err.responseText,Status:"F"})})}):(data.formSelector.find(".js-context-data.js-server-error").removeClass("hidden"),data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Continue"))}):(data.formSelector.find(".js-context-data.js-server-error").removeClass("hidden"),data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Continue"))}scope.registerScreen={init:function(PrevData){data.prevData=PrevData,function(){if(data.formSelector=$("#candidate_login_modal #registerScreen"),data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Continue"),data.formSelector.find(".js-context-text").addClass("hidden"),data.formSelector.find(".alternate-register-mobile").addClass("hidden"),scope.userInfo.username){var type=loginModule.isMobileOrEmail(scope.userInfo.username);"email"===type?data.formSelector.find("#candidateEmail").val(scope.userInfo.username):"mobile"===type&&data.formSelector.find("#candidateMobile").val(scope.userInfo.username)}}(),$("#candidate_login_modal #registerScreen").removeClass("hidden"),data.formSelector.find(".js-link.js-login-email").off().on("click",function(e){e.preventDefault(),data.emailLogin=!0,data.formSelector.find("form:first").submit()}),data.formSelector.find("input[name='whatsapp']").on("change",function(){var self=$(this);self.val()&&"false"===self.val().toLowerCase()?data.formSelector.find(".error-field.js-error.whatsapp-warning").removeClass("hidden"):data.formSelector.find(".error-field.js-error.whatsapp-warning").addClass("hidden")}),data.formSelector.find("form:first").off().on("submit",function(e){e.preventDefault(),data.userObj.first_name=data.formSelector.find("#candidateFName").val(),data.userObj.last_name=data.formSelector.find("#candidateLName").val(),data.userObj.email=data.formSelector.find("#candidateEmail").val(),data.userObj.mobile=data.formSelector.find("#candidateMobile").val(),data.userObj.password=data.formSelector.find("#candidatePassword").val(),data.userObj.whatsapp_subscribed=data.formSelector.find("input[name='whatsapp']:checked").val();var noError,fNameError,lNameError,EmailError,MobileError,PasswordError;fNameError=formValidator.validate("#registerScreen #candidateFName","text",null,null,null,!0),lNameError=formValidator.validate("#registerScreen #candidateLName","text",null,null,null,!0),EmailError=formValidator.validate("#registerScreen #candidateEmail","email",null,null,null,!0),MobileError=formValidator.validate("#registerScreen #candidateMobile","mobile",null,null,null,!0),PasswordError=formValidator.validate("#registerScreen #candidatePassword","password","password",null,null,!0),noError=formValidator.trueOrFalse(fNameError,lNameError,EmailError,MobileError,PasswordError);if(sendGAEvent({category:"Registration",action:"Click",label:"Register Submit"}),noError)submit(),loginModule.sendEvent("Register Form Submit",{Status:"S"});else{var ErrorArr=[];fNameError||ErrorArr.push("First Name"),lNameError||ErrorArr.push("Last Name"),EmailError||ErrorArr.push("Email"),MobileError||ErrorArr.push("Mobile"),PasswordError||ErrorArr.push("Password");var trackObj={Error:1<=ErrorArr.length?ErrorArr.join():"NA",Status:"F"};loginModule.sendEvent("Register Form Submit",trackObj)}})},destroy:function(){$("#candidate_login_modal #registerScreen").addClass("hidden")}}}(candidateLogin,loginModule,jQuery,formValidator),function(scope,loginModule,$,formValidator){var data={successData:null,password:null,access_token:null,formSelector:null,zone:"employee",isMobile:null,prevData:null,socialData:null,client:null,verifyEmailCheck:null,forgotPassword:!1};scope.passwordScreen={init:function(PrevData){data.prevData=PrevData,$.when(loginModule.recognizeUser(scope.userInfo.username)).then(function(success){data.formSelector=$("#candidate_login_modal #passwordScreen"),data.formSelector.find(".js-social, .js-link, .js-context-section").addClass("hidden"),data.formSelector.find(".js-context-text").text(""),data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Login"),data.partnerCheck=!!Cookies.get("login-partner-check")&&Cookies.get("login-partner-check"),data.access_token=loginModule.getAccessTokenCookie(),data.zone=loginModule.getZone(),data.isMobile=loginModule.isMobile(),data.client=loginModule.getClientID().trim(),data.verifyEmailCheck=loginModule.getEmailVerificationCookie(),data.formSelector.find(".js-context-data.js-password-text").text(scope.userInfo.username),scope.userInfo.first_name&&data.formSelector.find(".js-context-text.js-password-first-name").text(scope.userInfo.first_name),!data.partnerCheck&&scope.userInfo&&scope.userInfo.created_by&&-1<["P","PA"].indexOf(scope.userInfo.created_by.user_type)?(Cookies.set("login-partner-check","false"),data.formSelector.find(".js-pa-registered-user").removeClass("hidden"),"P"===scope.userInfo.created_by.user_type&&data.formSelector.find(".js-context-text.js-password-recruiter-name").text(scope.userInfo.created_by_agency),"PA"===scope.userInfo.created_by.user_type&&data.formSelector.find(".js-context-text.js-password-recruiter-name").text("Recruiter")):data.formSelector.find(".js-new-user").removeClass("hidden"),scope.userInfo&&scope.userInfo.mobile_exists?(data.formSelector.find(".js-link.js-verify-mobile").removeClass("hidden"),data.formSelector.find(".js-social-setion.divider").removeClass("hidden")):scope.userInfo&&scope.userInfo.email_exists&&!scope.userInfo.email_verified&&(data.formSelector.find(".js-link.js-verify-email").removeClass("hidden"),data.formSelector.find(".js-social-setion.divider").removeClass("hidden"),scope.userInfo&&scope.userInfo.email&&data.formSelector.find(".js-context-text.js-verify-email-address").text(scope.userInfo.email?scope.userInfo.email:"Email")),data.socialData=loginModule.getSocialUsedData(data.prevData.successData),data.socialData&&(data.socialData.facebook&&data.formSelector.find(".existing-facebook").removeClass("hidden"),data.socialData.google&&data.formSelector.find(".existing-google").removeClass("hidden"),(data.socialData.facebook||data.socialData.linkedin||data.socialData.google)&&data.formSelector.find(".js-social-setion").removeClass("hidden")),$("#candidate_login_modal #passwordScreen").removeClass("hidden"),$.extend(scope.userInfo,success),data.formSelector.find("form:first").off().on("submit",function(e){var postObj;e.preventDefault(),data.password=data.formSelector.find("#candidatePassword").val(),passwordError=formValidator.validate("#passwordScreen #candidatePassword","password"),formValidator.trueOrFalse(passwordError)?(postObj={username:scope.userInfo.username?scope.userInfo.username:data.prevData.user,client_id:data.client,password:data.password},data.verifyEmailCheck&&(postObj.auto_verify_email=!0),data.password&&(data.formSelector.find("form:first .js-submit").attr("disabled",!0).val("Logging in..."),$.when(loginModule.loginUser(JSON.stringify(postObj))).then(function(success){data.successData=success,scope.userInfo.access_token=success.access_token,loginModule.sendEvent("Password Response",{Status:"S"}),scope.mediator.next("password",data)},function(err){data.verifyEmailCheck&&Cookies.remove("verification_email_exists"),data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Login"),loginModule.sendEvent("Password Response",{Status:"F",Error:err.responseText}),data.formSelector.find(".error-field.password-invalid").removeClass("hidden")})),loginModule.sendEvent("Password Submit",{Status:"S"})):loginModule.sendEvent("Password Submit",{Status:"F",Error:"Password Format"})}),data.formSelector.find(".js-forgot-password").off().on("click",function(e){e.preventDefault(),scope.userInfo.forgotPassword=!0,scope.mediator.next("password",data)}),data.formSelector.find(".js-link.js-verify-mobile").off().on("click",function(e){e.preventDefault(),data.verifyMobile=!0,scope.userInfo.passwordExists=!1,scope.mediator.next("password",data)}),data.formSelector.find(".js-link.js-verify-email").off().on("click",function(e){e.preventDefault(),scope.userInfo.verifyEmail=!0,scope.mediator.next("password",data)})},function(err){data.formSelector.find(".error-field.server-error").removeClass("hidden")})},destroy:function(){$("#candidate_login_modal #passwordScreen").addClass("hidden")}}}(candidateLogin,loginModule,jQuery,formValidator),function(scope,loginModule,$,formValidator){var data={successData:null,otp:null,user_id:null,access_token:null,formSelector:null,zone:null,client:null,isMobile:null,prevData:null,socialData:null,verifyEmailCheck:null};function showForm(){$("#candidate_login_modal #loginViaOtpScreen").removeClass("hidden")}function preCheck(){data.formSelector=$("#candidate_login_modal #loginViaOtpScreen"),data.formSelector.find(".js-social, .js-link, .js-context-section").addClass("hidden"),data.formSelector.find(".js-context-text").text(""),data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Login"),data.access_token=loginModule.getAccessTokenCookie(),data.zone=loginModule.getZone(),data.isMobile=loginModule.isMobile(),data.client=loginModule.getClientID().trim(),data.verifyEmailCheck=loginModule.getEmailVerificationCookie(),data.partnerCheck=!!Cookies.get("login-partner-check")&&Cookies.get("login-partner-check"),function(){if(scope.userInfo&&scope.userInfo.email&&data.formSelector.find(".js-context-text.js-verify-email-address").text(scope.userInfo.email?scope.userInfo.email:"Email"),scope.userInfo&&scope.userInfo.newUser&&data.formSelector.find(".js-new-user-email").removeClass("hidden"),scope.userInfo&&(scope.userInfo.username||scope.userInfo.mobile)){var codedMobile=scope.userInfo.mobile||scope.userInfo.username;data.formSelector.find("#candidateOTPMobile").val(codedMobile),data.formSelector.find(".js-password-mobile").text(codedMobile)}!data.partnerCheck&&scope.userInfo&&scope.userInfo.created_by&&-1<["P","PA"].indexOf(scope.userInfo.created_by.user_type)?(Cookies.set("login-partner-check","false"),data.formSelector.find(".js-pa-registered-user").removeClass("hidden"),"P"===scope.userInfo.created_by.user_type&&data.formSelector.find(".js-context-text.js-password-recruiter-name").text(scope.userInfo.created_by_agency),"PA"===scope.userInfo.created_by.user_type&&data.formSelector.find(".js-context-text.js-password-recruiter-name").text("Recruiter")):scope.userInfo&&scope.userInfo.newUser?data.formSelector.find(".js-new-user").removeClass("hidden"):data.formSelector.find(".js-existing-user").removeClass("hidden"),scope.userInfo.first_name&&data.formSelector.find(".js-context-text.js-password-first-name").text(scope.userInfo.first_name),scope.userInfo&&scope.userInfo.email_exists&&!scope.userInfo.email_verified?(data.formSelector.find(".js-link.js-verify-email").removeClass("hidden"),data.formSelector.find(".js-social-setion.divider").removeClass("hidden")):scope.userInfo&&scope.userInfo.password_exists&&(data.formSelector.find(".js-link.js-login-password").removeClass("hidden"),data.formSelector.find(".js-social-setion.divider").removeClass("hidden")),data.socialData=loginModule.getSocialUsedData(data.prevData.successData),data.socialData&&(data.socialData.facebook&&data.formSelector.find(".existing-facebook").removeClass("hidden"),data.socialData.google&&data.formSelector.find(".existing-google").removeClass("hidden"),(data.socialData.facebook||data.socialData.linkedin||data.socialData.google)&&data.formSelector.find(".js-social-setion").removeClass("hidden"))}()}function initiateOTP(type){var deferred=$.Deferred(),otpType=type||"L";return scope.userInfo.newUser&&(otpType="A"),$.when(loginModule.generateOTP(scope.userInfo.id,otpType)).then(function(success){deferred.resolve(success)},function(err){deferred.reject(err)}),deferred.promise()}function actionsBinding(){data.formSelector.find(".js-resend-otp").off().on("click",function(e){e.preventDefault();var self=$(this);self.addClass("hidden");var target=self.data("target");data.formSelector.find(".js-resend-otp-success.max-retry").removeClass("hidden").addClass("hidden"),$.when(initiateOTP()).then(function(success){target||data.formSelector.find(".js-resend-otp-success").removeClass("hidden"),"max_retry"===target&&data.formSelector.find(".js-resend-otp-success.max-retry").removeClass("hidden"),setTimeout(function(){target||data.formSelector.find(".js-resend-otp-success").addClass("hidden"),"max_retry"===target&&data.formSelector.find(".max-otp-retry").addClass("hidden"),self.removeClass("hidden")},2e3),setTimeout(function(){self.removeClass("hidden")},5e3)},function(){data.formSelector.find(".js-error-internal").removeClass("hidden"),self.removeClass("hidden")})}),data.formSelector.find("form:first").off().on("submit",function(e){var postObj;e.preventDefault(),data.otp=data.formSelector.find("#candidateOTP").val(),otpError=formValidator.validate("#loginViaOtpScreen #candidateOTP","otp",!0,"OTP",new RegExp(/\b\d{5}\b/g),!0),formValidator.trueOrFalse(otpError)?(loginModule.sendEvent("OTP Submit",{Type:scope.userInfo.newUser?"Register":"Login",Status:"S"}),postObj={otp:data.otp,client_id:data.client},scope.userInfo&&scope.userInfo.id&&(postObj.user_id=scope.userInfo.id),data.verifyEmailCheck&&(postObj.auto_verify_email=!0),data.otp&&(data.formSelector.find("form:first .js-submit").attr("disabled",!0).val("Checking..."),apiEndPoint=scope.userInfo.newUser?loginModule.activateMobile(JSON.stringify(postObj)):loginModule.loginUserViaOTP(JSON.stringify(postObj)),data.formSelector.find(".js-error-invalid").removeClass("hidden").addClass("hidden"),$.when(apiEndPoint).then(function(success){data.successData=success,scope.userInfo.access_token=success.access_token,scope.mediator.next("loginViaOTP",data),loginModule.sendEvent("OTP Resonse",{Type:scope.userInfo.newUser?"Register":"Login",Status:"S"})},function(err){data.verifyEmailCheck&&Cookies.remove("verification_email_exists"),data.formSelector.find("form:first .js-submit").attr("disabled",!1).val("Login"),429==err.status?(data.formSelector.find(".js-error-invalid").addClass("hidden"),data.formSelector.find(".max-otp-retry").removeClass("hidden")):data.formSelector.find(".js-error-invalid").removeClass("hidden"),loginModule.sendEvent("OTP Resonse",{Type:scope.userInfo.newUser?"Register":"Login",Error:err.responseText,Status:"F"})}))):loginModule.sendEvent("OTP Submit",{Type:scope.userInfo.newUser?"Register":"Login",Status:"F",Error:"Invalid OTP"})}),data.formSelector.find(".js-link.js-login-password").off().on("click",function(e){e.preventDefault(),scope.userInfo.passwordExists=!0,scope.mediator.next("loginViaOTP",data)}),data.formSelector.find(".js-link.js-verify-email").off().on("click",function(e){e.preventDefault(),scope.userInfo.verifyEmail=!0,scope.mediator.next("loginViaOTP",data)}),showForm()}scope.loginViaOtpScreen={init:function(PrevData){var deferred;data.prevData=PrevData,$.when((deferred=$.Deferred(),$.when(loginModule.recognizeUser(scope.userInfo.username)).then(function(success){deferred.resolve(success)},function(err){deferred.reject(err)}),deferred.promise())).then(function(success){$.extend(scope.userInfo,success),preCheck(),scope.userInfo.newUser?actionsBinding():$.when(initiateOTP()).then(function(success){actionsBinding()},function(err){actionsBinding(),loginModule.sendEvent("OTP Resonse",{Type:scope.userInfo.newUser?"Register":"Login",Error:err.responseText,Status:"F"}),data.formSelector.find(".js-error-internal").removeClass("hidden"),showForm()})},function(err){preCheck(),data.formSelector.find(".js-error-internal").removeClass("hidden"),showForm()})},destroy:function(){$("#candidate_login_modal #loginViaOtpScreen").addClass("hidden")}}}(candidateLogin,loginModule,jQuery,formValidator),function(scope,loginModule,$){var data={successData:null,otp:null,user_id:null,access_token:null,formSelector:null,zone:null,client:null,isMobile:null,prevData:null,socialData:null,verifyEmailCheck:null};function preCheck(){!function(){data.formSelector=$("#candidate_login_modal #emailSocialScreen"),data.formSelector.find(".js-social, .js-link").addClass("hidden"),data.formSelector.find(".js-context-text").text(""),scope.userInfo.mobile_exists&&data.formSelector.find(".js-link.js-verify-mobile").removeClass("hidden"),data.access_token=loginModule.getAccessTokenCookie(),data.zone=loginModule.getZone(),data.client=loginModule.getClientID().trim(),data.verifyEmailCheck=loginModule.getEmailVerificationCookie(),data.formSelector.find(".js-candidate-social-name").text(data.prevData.successData.first_name?data.prevData.successData.first_name:"User"),data.prevData&&data.prevData.successData&&!data.prevData.successData.password_exists&&data.formSelector.find(".js-link.js-create-password").removeClass("hidden");var socialUsed=loginModule.getSocialUsedData(data.prevData.successData),socialText="";socialUsed&&socialUsed.facebook&&(socialText+="Facebook"),socialUsed&&socialUsed.google&&(socialUsed&&socialUsed.facebook?socialText+=", Google":socialText+="Google"),data.formSelector.find(".js-candidate-social").text(socialText),data.prevData&&data.prevData.successData&&data.prevData.successData.social_auth&&data.prevData.successData.social_auth.length&&(data.formSelector.find(".js-social").removeClass("hidden"),-1<"facebook".indexOf(data.prevData.successData.social_auth)&&data.formSelector.find(".js-social .js-facebook").removeClass("hidden"),-1<"google-oauth2".indexOf(data.prevData.successData.social_auth)&&data.formSelector.find(".js-social .js-google").removeClass("hidden")),data.formSelector.find(".js-link.js-create-password").off().on("click",function(e){e.preventDefault(),data.createPassword={type:"email"},scope.userInfo.forgotPassword=!0,scope.mediator.next("emailSocial",data)}),data.formSelector.find(".js-link.js-verify-mobile").off().on("click",function(e){e.preventDefault(),data.verify_mobile=!0,data.prevData.verify_email=!1,scope.mediator.next("createPassword",data)})}(),$("#candidate_login_modal #emailSocialScreen").removeClass("hidden")}scope.emailSocialScreen={init:function(PrevData){data.prevData=PrevData,preCheck()},destroy:function(){$("#candidate_login_modal #emailSocialScreen").addClass("hidden")}}}(candidateLogin,loginModule,jQuery),function(scope,loginModule,$){var data={successData:null,otp:null,user_id:null,access_token:null,formSelector:null,zone:null,client:null,isMobile:null,prevData:null,socialData:null,verifyEmailCheck:null};function preCheck(){!function(){if(data.formSelector=$("#candidate_login_modal #createPasswordScreen"),data.formSelector.find(".js-social, .js-link").addClass("hidden"),data.formSelector.find(".js-context-text.js-contact-email").text(scope.userInfo.email?scope.userInfo.email:scope.userInfo.username),scope.userInfo.mobile_exists&&(data.formSelector.find(".js-link.js-verify-mobile").removeClass("hidden"),data.formSelector.find(".js-context-data.js-hide-section").removeClass("hidden")),data.formSelector.find(".js-link.js-resend-email").removeClass("hidden"),scope&&scope.userInfo&&scope.userInfo.social_auth&&scope.userInfo.social_auth.length){data.formSelector.find(".js-social").removeClass("hidden"),data.formSelector.find(".js-context-data.js-hide-section").removeClass("hidden");var socialUsed=loginModule.getSocialUsedData(data.prevData.successData),socialText="";socialUsed&&socialUsed.facebook&&(socialText+="Facebook"),socialUsed&&socialUsed.google&&(socialUsed&&socialUsed.facebook?socialText+=", Google":socialText+="Google"),data.formSelector.find(".js-candidate-social").text(socialText),-1<"google-oauth2".indexOf(scope.userInfo.social_auth)&&data.formSelector.find(".js-social .js-google").removeClass("hidden"),-1<"facebook".indexOf(scope.userInfo.social_auth)&&(data.formSelector.find(".js-context-data.js-hide-section").addClass("hidden"),data.formSelector.find(".js-social .js-facebook").removeClass("hidden"))}data.formSelector.find(".js-link.js-resend-email").off().on("click",function(e){e.preventDefault(),$.when(initiateCreatePassword()).then(function(success){data.formSelector.find(".js-context.text.js-resend-success").removeClass("hidden"),setTimeout(function(){data.formSelector.find(".js-context.text.js-resend-success").addClass("hidden")},5e3)},function(err){})}),data.formSelector.find(".js-link.js-verify-mobile").off().on("click",function(e){e.preventDefault(),data.verify_mobile=!0,scope.userInfo.verifyEmail=!1,scope.mediator.next("createPassword",data)})}(),scope.userInfo.email_exists&&(data.formSelector.find(".js-context-text").addClass("hidden"),data.prevData&&data.forgotPassword?(data.formSelector.find(".js-context-text.js-forgot-password").removeClass("hidden"),data.formSelector.find(".js-context-text.js-title-text").text("Forgot Password")):scope.userInfo&&scope.userInfo.verifyEmail?(data.formSelector.find(".js-context-text.js-verify-email").removeClass("hidden"),data.formSelector.find(".js-context-text.js-title-text").text("Verify Email")):(data.formSelector.find(".js-context-text.js-create-password").removeClass("hidden"),data.formSelector.find(".js-context-text.js-title-text").text("Create Password"))),$("#candidate_login_modal #createPasswordScreen").removeClass("hidden")}function initiateCreatePassword(){scope.userInfo.username;var deferred=$.Deferred();return $.when(loginModule.sendResetPasswordEmail(scope.userInfo.id)).then(function(success){deferred.resolve(success)},function(err){deferred.reject(err)}),deferred.promise()}scope.createPasswordScreen={init:function(PrevData){var deferred;data.prevData=PrevData,data.forgotPassword=scope.userInfo.forgotPassword,scope.userInfo.forgotPassword=!1,data.prevData&&(data.prevData.verifyMobile||data.forgotPassword)?$.when(initiateCreatePassword()).then(function(success){preCheck()},function(err){preCheck()}):scope.userInfo&&scope.userInfo.verifyEmail&&$.when((deferred=$.Deferred(),$.when(loginModule.sendVerificationEmail(scope.userInfo.id)).then(function(success){deferred.resolve(success)},function(err){deferred.reject(err)}),deferred.promise())).then(function(success){preCheck()},function(err){preCheck()})},destroy:function(){$("#candidate_login_modal #createPasswordScreen").addClass("hidden")}}}(candidateLogin,loginModule,jQuery),function(scope,loginModule,$){scope.loginSuccessScreen={init:function(prevData){$("#candidate_login_modal #loginSuccessScreen").removeClass("hidden"),loginModule.setCookieAndRedirect(scope.userInfo.access_token,["existing","candidate"],!0)}}}(candidateLogin,loginModule,jQuery),$(document).ready(function(){size_list=$("#readallnews .media-dual-card").size();var x=8;$("#readallnews .media-dual-card:lt("+x+")").fadeIn("slow").removeClass("hidden").removeAttr("style"),$("#loadMore").click(function(e){e.preventDefault(),x=x+4<=size_list?x+4:size_list,$("#readallnews .media-dual-card:lt("+x+")").fadeIn("fast").removeClass("hidden").removeAttr("style"),x>=size_list&&$(this).addClass("hidden")})}),$('[data-toggle="tooltip"]').tooltip();var sendPartnerData=function(){$.whenall=function(arr){return $.when.apply($,arr)};function registerAgency(obj){if(obj){var deferred=$.Deferred();return $.ajax({method:"POST",headers:loginModule.getHeaders(),url:baseURI+"api/v4/agency/",data:JSON.stringify(obj)}).then(function(data){window.delMarketingSourceCookie(),deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}),deferred.promise()}}var sendPartnerData={},formNameDict={name:"name",institute_type:"institute_type",email:"email",mobile:"mobile",password:"password",first_name:"first_name",last_name:"last_name",user_id:"id"};function changeMobile(obj){var access_token=loginModule.getAccessTokenCookie(),deferred=$.Deferred();return obj?$.ajax({method:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:baseURI+"api/v4/user/"+obj.id+"/initiate_mobile_change/",data:JSON.stringify(obj),headers:loginModule.getHeaders(access_token)}).then(function(data){window.delMarketingSourceCookie(),deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}):deferred.reject(),deferred.promise()}function changeEmail(obj){var access_token=loginModule.getAccessTokenCookie(),deferred=$.Deferred();return obj?$.ajax({method:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:baseURI+"api/v4/user/"+obj.id+"/initiate_email_change/",data:JSON.stringify(obj),headers:loginModule.getHeaders(access_token)}).then(function(data){window.delMarketingSourceCookie(),deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}):deferred.reject(),deferred.promise()}function extractValue(list,key){for(var i=0;i<list.length;i++)if(list[i].name===key)return list[i].value}sendPartnerData.existingUser=function(userName){var deferred=$.Deferred();return null!=userName?$.when(function(userName){var deferred=$.Deferred();return $.ajax({method:"GET",url:baseURI+"api/v4/recognize_user/",data:{username:userName},headers:loginModule.getHeaders()}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}),deferred.promise()}(userName)).then(function(data){void 0!==data.id&&deferred.resolve(!0)},function(err){404===err.status?deferred.reject(!0):deferred.reject(!1)}):deferred.reject(!0),deferred.promise()};function registerExistingUser(agencyPostData,userPostData){var deferred=$.Deferred();return $.when(registerAgency(agencyPostData)).then(function(agencyData){$.when(function(obj){var access_token=loginModule.getAccessTokenCookie();if(obj){var deferred=$.Deferred();return $.ajax({method:"PATCH",contentType:"application/json; charset=utf-8",dataType:"json",url:baseURI+"api/v4/user/"+obj.id+"/",data:JSON.stringify(obj),headers:loginModule.getHeaders(access_token)}).then(function(data){window.delMarketingSourceCookie(),deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}),deferred.promise()}}(userPostData)).then(function(data){deferred.resolve(agencyData)},function(err){deferred.reject(err)})},function(err){deferred.reject(err)}),deferred.promise()}return sendPartnerData.toRegister=function(dataArray,user_id){var toPost,deferred=$.Deferred();if(void 0!==dataArray&&dataArray.constructor===Array&&0<dataArray.length)if("None"!==user_id&&null!=user_id){var userPostData=function(dataArray){var dataLength,postData={},marketing_source=window.getMarketingSource();if(0<Object.keys(marketing_source).length&&(postData.marketing_source=marketing_source),void 0!==dataArray){dataLength=dataArray.length;for(var i=0;i<dataLength;i++)void 0!==formNameDict[dataArray[i].name]&&""!==$.trim(dataArray[i].value)&&"name"!==formNameDict[dataArray[i].name]&&"institute_type"!==formNameDict[dataArray[i].name]&&"email"!==formNameDict[dataArray[i].name]&&"mobile"!==formNameDict[dataArray[i].name]&&(postData[formNameDict[dataArray[i].name]]=dataArray[i].value)}return postData}(dataArray),agencyPostData=function(dataArray,user_id){var dataLength,postData={managers:[{user_id:user_id,type:"P"}]};if(void 0!==dataArray){dataLength=dataArray.length;for(var i=0;i<dataLength;i++)void 0!==formNameDict[dataArray[i].name]&&(""===$.trim(dataArray[i].value)||"name"!==formNameDict[dataArray[i].name]&&"institute_type"!==formNameDict[dataArray[i].name]||(postData[formNameDict[dataArray[i].name]]=dataArray[i].value))}return postData}(dataArray,user_id),mobileValue=extractValue(dataArray,"mobile"),emailValue=extractValue(dataArray,"email"),requestArray=[];if(mobileValue){changeMobile({id:user_id,new_mobile:mobileValue});requestArray.push(changeMobile)}if(emailValue){changeEmail({id:user_id,new_email:emailValue});requestArray.push(changeEmail)}0<requestArray.length?$.whenall(requestArray).then(function(){registerExistingUser(agencyPostData,userPostData).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)})},function(err){deferred.reject(err)}):registerExistingUser(agencyPostData,userPostData).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)})}else toPost=function(dataArray){var dataLength,postData={managers:[{user_data:{user_type:"P"},type:"P"}]},marketing_source=window.getMarketingSource();if(0<Object.keys(marketing_source).length&&(postData.managers[0].user_data.marketing_source=marketing_source),void 0!==dataArray){dataLength=dataArray.length;for(var i=0;i<dataLength;i++)void 0!==formNameDict[dataArray[i].name]&&"user_id"!==dataArray[i].name&&(""!==$.trim(dataArray[i].value)&&"name"!==formNameDict[dataArray[i].name]&&"institute_type"!==formNameDict[dataArray[i].name]?postData.managers[0].user_data[formNameDict[dataArray[i].name]]=dataArray[i].value:postData[formNameDict[dataArray[i].name]]=dataArray[i].value)}return postData}(dataArray),$.when(registerAgency(toPost)).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")});return deferred.promise()},sendPartnerData.changeEmail=function(obj){},sendPartnerData}(),partnerRegister=function(){var serializedArray=[];$("#partner-registeration").submit(function(event){event.preventDefault();var self=$(this),mobileError=formValidator.validate("#partner-user-mobile","mobile",!0),companyNameError="FL"===$("input[name='institute_type']:checked").val()||formValidator.validate("#partner-company-name","text",!0,"company's name"),emailError=formValidator.validate("#partner-user-email","email",!0,null,null,!0),instituteTypeError=formValidator.validate("input[name='institute_type']","radio",!0,"company type",null,!0),firstName=formValidator.validate("#partner-user-first-name","text",!0,"first name","^[a-zA-Zs-]*$"),lastName=formValidator.validate("#partner-user-last-name","text",!0,"last name","^[a-zA-Zs-]*$"),userPassword=formValidator.validate("#partner-user-password","password"),termsAgreed=formValidator.validate("#partner-tnc","checkbox",!0,"terms and conditions",null,!0);noError=formValidator.trueOrFalse(companyNameError,instituteTypeError,firstName,lastName,userPassword,termsAgreed,mobileError,emailError),noError&&$.when(sendPartnerData.existingUser($("#partner-user-email").val())).then(function(data){!0===data&&appendErrorHtml("#partner-user-email"),$.when(sendPartnerData.existingUser($("#partner-user-mobile").val())).then(function(data){!0===data&&appendMobileErrorHtml("#partner-user-mobile")},function(err){!0===err&&removeDuplicateError("#partner-user-mobile")})},function(err){!0===err&&(removeDuplicateError("#partner-user-email"),$.when(sendPartnerData.existingUser($("#partner-user-mobile").val())).then(function(data){!0===data&&appendMobileErrorHtml("#partner-user-mobile")},function(err){!0===err&&removeDuplicateError("#partner-user-mobile"),serializeNSubmit(self,noError)}))})});var serializeNSubmit=function(form,noError){var thisForm=form;if(noError){if("FL"===$("input[name='institute_type']:checked").val()){var userFirstName=$("#partner-user-first-name").val(),userLastName=$("#partner-user-last-name").val();$("#partner-company-name").val(userFirstName+" "+userLastName)}serializedArray=thisForm.serializeArray();var user_id="None"!==$("#partner-user-id").val()&&null!==$("#partner-user-id").val()&&void 0!=="#partner-user-id".val()?"#partner-user-id".val():null;$.when(sendPartnerData.toRegister(serializedArray,user_id)).then(function(data){cookieFn.setCookie("eVerify",data._source.managers[0].user.email_verified,2,"/partner"),cookieFn.setCookie("fName",data._source.managers[0].user.first_name,2,"/partner"),cookieFn.setCookie("mEmail",data._source.managers[0].user.email,2,"/partner");var srcData=data?data._source:{};(srcData.managers?srcData.managers[0]:{}).user;window.location=user_id?"/partner-zone/home":"/partner/email-verify/notify/"},function(err){409===err.code&&alert("Organization already exists")})}},appendErrorHtml=function(selector){var errorContent="<span class='help-block text-base'><span class='fa fa-exclamation-circle'>&nbsp;</span>This email id already exists</span>";if(selector){var closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")?closestParent.children(".help-block").replaceWith(errorContent):closestParent.addClass("has-error").append(errorContent)}},appendMobileErrorHtml=function(selector){var errorContent="<span class='help-block text-base'><span class='fa fa-exclamation-circle'>&nbsp;</span>User with this phone number already exists</span>";if(selector){var closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")?closestParent.children(".help-block").replaceWith(errorContent):closestParent.addClass("has-error").find("input").after(errorContent)}},removeDuplicateError=function(selector){var closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")&&closestParent.removeClass("has-error").children(".help-block").remove()};$("#partner-user-email").on("blur",function(){var emailValue=null;formValidator.validate("#partner-user-email","email",!1)&&void 0!==(emailValue=$(this).val())&&""!==emailValue&&void 0!==emailValue&&$.when(sendPartnerData.existingUser(emailValue)).then(function(data){!0===data&&appendErrorHtml("#partner-user-email")},function(err){!0===err&&removeDuplicateError("#partner-user-email")})}),$("#partner-user-mobile").on("blur",function(){var mobileValue=null,validateThis=formValidator.validate("#partner-user-mobile","mobile",!1);validateThis&&void 0!==(mobileValue=$(this).val())&&""!==mobileValue&&void 0!==mobileValue&&$.when(sendPartnerData.existingUser(mobileValue)).then(function(data){!0===data&&appendMobileErrorHtml("#partner-user-mobile")},function(err){!0===err&&removeDuplicateError("#partner-user-mobile")})}),$("#partner-registeration").on("focusin"," input",function(){$(this);var idToValidate="#"+String($(this).attr("id"));formValidator.unvalidate(idToValidate)}),$("input[name='institute_type']").on("change",function(){"FL"===this.value?$("#partner-company-name").attr("type","hidden").closest(".form-group").hide():"hidden"===$("#partner-company-name").attr("type")&&$("#partner-company-name").attr("type","text").closest(".form-group").show()})};$(document).ready(function(){partnerRegister()}),$(document).ready(function(){page=$("#quick-register-widget").data("track-page")?$("#quick-register-widget").data("track-page"):"NA",function(){faSelectizeInstance=null,fa=document.fa_list;var selectizeConfig={labelField:"name",valueField:"id",create:!1,searchField:"name",options:fa,onType:function(typedText){},onBlur:function(){},onChange:function(value){}};faSelectizeInstance=$("#quick-signup-form-fa").selectize(selectizeConfig)}(),$("#quick-signup-btn").on("click",function(e){e.preventDefault();var self=$(this),registerData={first_name:$("#quick-signup-form-first-name").val().trim(),last_name:$("#quick-signup-form-last-name").val().trim(),mobile:$("#quick-signup-form-mobile").val().trim(),email:$("#quick-signup-form-email").val().trim(),password:$("#quick-signup-form-password").val(),fa:$("#quick-signup-form-fa").val(),resume_url:$("#quick-signup-form-resume").val(),track_source:self.data("trackSource"),track_page:self.data("trackPage"),referral_code:$("#quick-signup-form-referral").val().trim()?$("#quick-signup-form-referral").val().trim():""},firstNameError=formValidator.validate("#quick-signup-form-first-name","text",!0,"First Name","^[a-zA-Z ]*$",!0),lastNameError=formValidator.validate("#quick-signup-form-last-name","text",!0,"Last Name","^[a-zA-Z ]*$",!0),mobileError=formValidator.validate("#quick-signup-form-mobile","mobile",!0),emailError=formValidator.validate("#quick-signup-form-email","email",!0),passwordError=formValidator.validate("#quick-signup-form-password","password",!0),faError=formValidator.validateSelectize(faSelectizeInstance[0].selectize,!0);formValidator.trueOrFalse(firstNameError,lastNameError,mobileError,emailError,passwordError,faError)&&(self.attr("disabled",!0),self.val("Checking..."),$.when(loginModule.recognizeUser(registerData.mobile)).then(function(data){data&&($("#quick-signup").find(".error-field").addClass("hidden"),$("#quick-signup .existing-user.error-field").removeClass("hidden")),$("#quick-signup-otp-form #resendOtpQuickRegister").data("type","mobile"),self.attr("disabled",!1),self.val("Register Now")},function(err){$.when(loginModule.recognizeUser(registerData.email)).then(function(data){data&&($("#quick-signup").find(".error-field").addClass("hidden"),$("#quick-signup .existing-user.error-field").removeClass("hidden")),$("#quick-signup-otp-form #resendOtpQuickRegister").data("type","email"),self.attr("disabled",!1),self.val("Register Now")},function(err){var trackObj={"First Name":registerData.first_name,"Last Name":registerData.last_name,Mobile:registerData.mobile,Email:registerData.email,"Functional Area":registerData.fa,Source:registerData.track_source?registerData.track_source:"NA"};window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction("Quick Register - Submit",trackObj);var registerObj={user_data:{first_name:registerData.first_name,last_name:registerData.last_name,mobile:registerData.mobile,password:registerData.password,email:registerData.email,marketing_source:window.getMarketingSource()},functional_areas_list:[registerData.fa],referral_code:registerData.referral_code,resume_url:registerData.resume_url};$.when(loginModule.createCandidate(JSON.stringify(registerObj))).then(function(data){$("#quick-signup").addClass("hidden"),$("#quick-signup-resume-section").addClass("hidden"),$("#quick-signup-otp-form").removeClass("hidden"),$("#quick-signup-otp-form").find("#displayOTP").text(registerObj.user_data.mobile),$("#quick-signup-otp-form").find("#otp-uid").val(data.data._source.user.id),$("#quick-signup-otp-form").find("#otp-cid").val(data.data._source.id),self.attr("disabled",!1),self.val("Register Now");var candidateData=data.data&&data.data._source||{},event_data={first_name:candidateData.user&&candidateData.user.first_name||"",last_name:candidateData.user&&candidateData.user.last_name||"",mobile:registerObj.user_data&&registerObj.user_data.mobile||"",email:registerObj.user_data&&registerObj.user_data.email||"",dob:"",address:"",total_experience_user:""};loginModule.inititateThrowEvent(event_data,candidateData.id)},function(err){$("#quick-signup").addClass("hidden"),$("#quick-signup-otp-form").removeClass("hidden"),$("#quick-signup-otp-form .error-field").addClass("hidden"),$("#quick-signup-otp-form").find(".error-field.create-otp-error").removeClass("hidden"),self.attr("disabled",!1),self.val("Register Now")})})}))}),$("#submitOtp").on("click",function(e){e.preventDefault();var self=$(this),otpError=formValidator.validate("#quick-signup-otp","otp",!0,"OTP",new RegExp(/\b\d{5}\b/g),!0);if(formValidator.trueOrFalse(otpError)){self.attr("disabled",!0),self.val("Logging in...");var otp=$("#quick-signup-otp").val(),client_id=loginModule.getClientID(),loginObj=($("#quick-signup-otp-form #otp-uid").val().trim(),{otp:otp,client_id:client_id,mobile:$("#quick-signup-form-mobile").val().trim()});$.when(loginModule.activateMobile(JSON.stringify(loginObj))).then(function(success){if(success.access_token){var cId=$("#quick-signup-otp-form #otp-cid").val().trim();$.when(loginModule.setStep(cId)).then(function(data){loginModule.sendEvent("Register OTP Submit",{Status:"S",Type:"quick-register"}),loginModule.setCookieAndRedirect(success.access_token,["existing","candidate"],!0)},function(err){loginModule.sendEvent("Register OTP Submit",{Status:"F",Type:"quick-register"})})}},function(err){loginModule.sendEvent("Register OTP Submit",{Status:"F",Type:"quick-register"}),400==err.status&&"InvalidOTPError"==err.responseJSON.type?$("#quick-signup-otp-form").find(".error-field.invalid-otp").removeClass("hidden"):$("#quick-signup-otp-form").find(".error-field.create-otp-error").removeClass("hidden"),self.attr("disabled",!1),self.val("Login")})}}),$(".open-login-modal").on("click",function(e){e.preventDefault();var type=$("#resendOtpQuickRegister").data("type"),loginModalInput=$("#loginForm #mobile");if("email"===type){var email=$("#quick-signup-form-email").val().trim();loginModule.showModal("login"),$("#login_modal").on("shown.bs.modal",function(){loginModalInput.val(email),$("#loginForm #recognizeUserBtn").focus()})}else{var mobile_number=$("#quick-signup-form-mobile").val().trim();loginModule.showModal("login"),$("#login_modal").on("shown.bs.modal",function(){loginModalInput.val(mobile_number),$("#loginForm #recognizeUserBtn").focus()})}});var preFillData=function(resumeData){var data=resumeData.user_data;resumeData&&(data.first_name&&$("#quick-signup").find("#quick-signup-form-first-name").val(data.first_name),data.last_name&&$("#quick-signup").find("#quick-signup-form-last-name").val(data.last_name),data.email&&$("#quick-signup").find("#quick-signup-form-email").val(data.email),data.mobile&&$("#quick-signup").find("#quick-signup-form-mobile").val(data.mobile))};$("#resendOtpQuickRegister").on("click",function(e){e.preventDefault();var self=$(this);self.attr("disabled",!0),self.text("Resending...");$("#quick-signup").find("#quick-signup-form-mobile").val().trim();var userID=$("#quick-signup-otp-form #otp-uid").val().trim();$.when(loginModule.generateOTP(userID,"A")).then(function(success){setTimeout(function(){$("#quick-signup-otp-form").find(".success-field").addClass("hidden")},3e3),$("#quick-signup-otp-form").find(".success-field").removeClass("hidden"),self.attr("disabled",!0),self.text("Resend OTP"),self.parent().addClass("hidden")},function(err){$("#quick-signup-otp-form").find(".error-field.create-otp-error").removeClass("hidden"),self.attr("disabled",!1),self.text("Resend OTP")})}),$("#quick-register-widget #uploadResume").on("change",function(e){var resumeError=formValidator.validate(e.target,"file"),self=$(this);$("#quick-signup-resume-section").find(".error-field").addClass("hidden"),$("#quick-signup-resume-section").find(".success-field").addClass("hidden"),resumeError&&(resumeFile=this.files,fileIsUploaded=!0,function(e){var element=e.parent().find("label");element.attr("disabled",!0),element.text("Uploading...");var fileData=new FormData,file=resumeFile?resumeFile[0]:"";fileIsUploaded&&(fileData.append("file",file),$.ajax({method:"PUT",url:baseURI+"api/v4/resume_upload/",data:fileData,dataType:"json",processData:!1,contentType:!1,headers:{"Content-Type":void 0,"X-AJ-PLATFORM":loginModule.getPlatform(),"X-AJClient":"DesktopWeb.Candidate"},isArray:!1}).then(function(data){var trackObj={Status:"S","File name":data?data.base_url+data.path:"NA",Page:page,Type:"Quick Register"};loginModule.sendEvent("Resume Upload Status",trackObj),fileIsUploaded=!0;var resume_path=data.path,resumeObj={},resume_url=data.base_url+data.path;resume_url&&(resumeObj={resume_url:resume_url});var resume_url_path=data.path;resumeObj&&(element.attr("disabled",!0),element.text("Uploading..."),$.when(loginModule.parseResume(JSON.stringify(resumeObj))).then(function(data){element.attr("disabled",!1),element.text("Upload Resume"),data&&(loginModule.sendResumeParseEvent("S","Quick Register",page,data),data.mobile_exists||data.email_exists?(localStorage.setItem("login_via_new_resume",JSON.stringify({resume:resume_url_path,email:data.user_data.email,mobile:data.user_data.mobile})),data.mobile_exists?loginModule.loginWithUsername.candidate(data.user_data.mobile):loginModule.loginWithUsername.candidate(data.user_data.email)):(loginModule.saveResumeParsedData(data),$("#quick-register-widget").find("#quick-signup-form-resume").val(resume_path),$("#quick-signup-resume-section").find(".success-field").removeClass("hidden"),preFillData(data)))},function(err){element.attr("disabled",!1),element.text("Upload Resume"),fileIsUploaded=!1,409===err.status?$("#quick-signup-resume-section").find(".error-field.conflict").removeClass("hidden"):$("#quick-signup-resume-section").find(".error-field.others").removeClass("hidden"),loginModule.sendResumeParseEvent("F","Quick Register",page)})),element.attr("disabled",!1),element.text("Upload Resume")},function(err){loginModule.sendEvent("Resume upload",{Status:"F",Type:"quick-register"}),fileIsUploaded=!1,element.attr("disabled",!1),element.text("Upload Resume")},function(){var trackObj={Status:"F","File name":"NA",Page:page,Type:"Quick Register"};loginModule.sendEvent("Resume Upload Status",trackObj),fileIsUploaded=!1,element.attr("disabled",!1),element.text("Upload Resume")}))}(self))}),$("#quick-register-widget #uploadResume").on("click",function(e){var self=$(this),trackObj={Page:self.data("track-page")?"Job Detail"==self.data("track-page")?self.data("track-page")+"-Quick":self.data("track-page"):"NA",Type:"Quick register"};loginModule.sendEvent("Resume upload",trackObj)})}),$(document).ready(function(){var resumeType=$("#resume-type").data("resume-type");if(resumeType){$(".resume-select").on("click",function(e){e.preventDefault();var self=$(this),resumeContent=self.data("resumeContent")||void 0;$(".resume-select-card").removeClass("selected"),self.find(".resume-select-card").addClass("selected"),window.location="/resume-format/"+(resumeContent||"classic")+"-resume-format"});$("[data-resume-content='classic']"),$("[data-resume-content='subtle']");if(resumeType){$(".resume-select-card").removeClass("selected");var selectedResume=$("[data-resume-content="+resumeType+"]").find(".resume-select-card").addClass("selected"),resumeImage=selectedResume.find(".resume-thumbnail").attr("src");$("#resume-image").attr("src",resumeImage),$("#resume-title").text(selectedResume.find(".thumbnail-text").text()),$("[data-resume-type]").attr("data-resume-type",$(".resume-format").find(".selected").parent().data("resumeContent"))}}}),$(document).ready(function(){function sendEvent(name,properties){window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction(name,properties)}function numberSuffix(input){var exp,abs=Math.abs(input);return window.isNaN(input)?null:(exp=Math.floor(Math.log(input)/Math.log(100)),abs>=Math.pow(10,9)?(input/Math.pow(10,exp)).toFixed(1)+"":abs<Math.pow(10,9)&&abs>=Math.pow(10,7)?(input/Math.pow(10,7)).toFixed(1)+" Cr ":abs<Math.pow(10,7)&&abs>=Math.pow(10,5)?(input/Math.pow(10,5)).toFixed(1)+" Lac ":abs<Math.pow(10,5)&&abs>=Math.pow(10,3)?(input/Math.pow(10,3)).toFixed(1)+" K ":void 0)}var $similarJobs=$("#js-similar-jobs");if(0!==$similarJobs.length){var places=document.places||[],jobId=(document.functionalArea,document.jobId);if(0<places.length){var latLong=places[0].location.split(","),lat=$.trim(latLong[0]),lon=$.trim(latLong[1]);lat&&lon&&0}(function(jobId){var deferred=$.Deferred();return $.ajax({method:"GET",contentType:"application/json; charset=utf-8",dataType:"json",url:baseURI+"api/reco_engine/v1/job/"+jobId+"/similar_jobs/",data:{limit:5}}).then(function(data){var jobs=[],trackingData=document.trackJobData||{};trackingData["Similar Jobs Count"]=data&&data.objects&&data.objects.length||0,sendEvent("Job Detail Load",trackingData),data.objects.forEach(function(object){var text,job=object;if(job._source.id!==jobId){job._source.link="/job/"+object._source.slug+"/"+object._source.id+"/";var minSal=job._source.offer.min_offered_salary,maxSal=job._source.offer.max_offered_salary;minSal=numberSuffix(minSal),maxSal=numberSuffix(maxSal),job._source.offer.min_offered_salary=minSal,job._source.offer.max_offered_salary=maxSal,job._source.offer.salary_format_text=0===job._source.offer.salary_format?"CTC":"PM";var org=object._source.organization,popular_name=org.popular_name?org.popular_name:org.name;job._source.organization.popular_name=popular_name,job._source.org_link="/org/"+(null===(text=popular_name)?text:text.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/\//,"-"))+"/"+org.id+"/",jobs.push(job)}},jobs),deferred.resolve(jobs)},function(err){var trackingData=document.trackJobData||{};trackingData["Similar Jobs Count"]=0,sendEvent("Job Detail Load",trackingData),deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}),deferred.promise()})(jobId).then(function(recommendedJobs){var $similarJobsWidget=$("#js-similar-jobs-widget");function jobCardsTrackingBindings(data){$(document).off("click","#"+data._source.organization.id),$(document).on("click","#"+data._source.organization.id,function(e){var orgDetails=function(data){var sourceData=data&&data._source&&data._source.organization?data._source.organization:{};return{"Org Id":sourceData.id||"NA","Org Name":sourceData.name||"NA","Org Type":sourceData.type||"NA",Source:"Job Details Similar Jobs"}}(data);sendEvent("Org View",orgDetails)}),$(document).off("click","#"+data._source.id),$(document).on("click","#"+data._source.id,function(e){var jobDetails=function(data){var sourceData=data&&data._source?data._source:{};return{"Job Id":sourceData.id||"NA","Job Title":sourceData.title||"NA",FA:sourceData.functional_area&&sourceData.functional_area.name?sourceData.functional_area.name:"NA",Source:"Job Details Similar Jobs"}}(data);sendEvent("Job View",jobDetails)})}0<recommendedJobs.length?($similarJobsWidget.removeClass("hidden"),$similarJobs.loadTemplate("/templates/employee/partials/widgets/recommended-jobs-widget.jade",recommendedJobs,{append:!0,afterInsert:function(){jobCardsTrackingBindings(arguments[1])}})):$similarJobsWidget.addClass("hidden")})}});smoothScroll={scrollToTarget:function(selector,extraOffset){void 0!==selector&&$("html, body").animate({scrollTop:$(selector).offset().top-(extraOffset&&!isNaN(extraOffset)?extraOffset:0)},1e3)},scrollToTop:function(){$("html, body").animate({scrollTop:0},1e3)}};!function(root,$){root.trackCleverTapClassFunction=function(name,trackingObj){trackingObj=trackingObj||{};var extendObj={State:!!function(name){var parts=("; "+document.cookie).split("; "+name+"=");if(2==parts.length)return parts.pop().split(";").shift()}("access_token")?"Logged In":"Logged Out","Referrer URL":document.referrer?document.referrer:"NA","Referrer Page":window.referrerPage?window.referrerPage:"NA","Current Page":window.currentPage?window.currentPage:"NA"};window.clevertap.event.push(name,$.extend(!0,trackingObj,extendObj))}}(window,jQuery),function(){clevertap&&clevertap.logout();var clevertap=window.clevertap=window.clevertap||{event:[],profile:[],account:[]},zone=Cookies.get("zone")||"employee";clevertap.account.push({id:{employee:"6ZW-W74-665Z",employer:"84R-565-665Z",partner:"468-4W8-665Z"}[zone]}),function(){var wzrk=document.createElement("script");wzrk.type="text/javascript",wzrk.async=!0,wzrk.src=("https:"==document.location.protocol?"https://d2r1yp2w7bby2u.cloudfront.net":"http://static.clevertap.com")+"/js/a.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(wzrk,s)}()}(),function(){var faTypingStarted,faTypedText,resumeFile,formElements,formInitData,candidate,formReference,educationList=[{value:0,display:"Less than 10th"},{value:1,display:"10th"},{value:2,display:"12th"},{value:4,display:"Graduate"},{value:5,display:"Post Graduate"}],registration={},app={},candidateFormUI={},postRegistration={},caRegistrationEvents={},actions={};function startLogin(loginData){$.when(function(loginData){var deferred=$.Deferred();loginData||deferred.reject();var postLoginData={username:loginData.username,password:loginData.password,client_id:loginData.client_id};return $.ajax({method:"POST",headers:loginModule.getHeaders(),url:baseURI+"api/v4/password_login/",data:JSON.stringify(postLoginData)}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise()}(loginData)).then(function(data){data&&data.access_token&&function(key,value){if(key&&value){var urlParamsObject=null;if(ajUtilities&&(urlParamsObject=ajUtilities.parseUrlParams()),urlParamsObject.next_to){Cookies.set("next_to",urlParamsObject.next_to,{path:"/"});var autoApply=_.last(_.compact(urlParamsObject.next_to.split("/")));localStorage.setItem("auto_apply",String(autoApply))}Cookies.set(key,value),localStorage.removeItem("parse_resume_user_info"),window.location.href="/candidate-zone/candidate-mobile/verify/"}}("access_token",data.access_token)},function(err){})}function setStepAndLogin(loginData){var deferred;loginData&&$.when((deferred=$.Deferred(),candidate||deferred.reject(),$.ajax({method:"POST",headers:loginModule.getHeaders(),url:"/web_api/v1/candidate/"+candidate._id+"/step/",data:JSON.stringify({step:2,id:candidate._id})}).then(function(data){deferred.resolve()},function(err){deferred.reject()}),deferred.promise())).then(function(data){startLogin(loginData)},function(err){})}function submitBtnDisplay(formRef,disabled,text){if(formRef){var submitBtn=$(formRef).find('[type="submit"]');submitBtn.attr("disabled",disabled),text&&submitBtn.text(text)}}!function(actions){actions.locateMe=function(e,callback){function geoService(){$.when(ajUtilities.getCurrentPosition()).then(function(position){var lat=position.coords.latitude,lng=position.coords.longitude;$.when(ajUtilities.geocode({location:{lat:lat,lng:lng}})).then(function(results){callback({success:!0,location:{lat:lat,lng:lng},results:results})})},function(err){callback({error:!0})})}app.googleMapLoaded?geoService():ajUtilities.loadScript("https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places&key=AIzaSyDQqMf0iAtipQfF2CNxWAVqEQeWsDqOnC0",function(){app.googleMapLoaded=!0,geoService()})}}(actions),function(app){app.map=void 0,app.marker=void 0,app.googleMapLoaded=!1,app.locationFieldObject={input_id:"candidate-location",message:"location",name:"candidate_location",special_input:"location",url_param_key:"location_text",validation_type:"location"},app.reverseGeoCode=function(lat,lng,callback){$.when(ajUtilities.geocode({location:{lat:lat,lng:lng}})).then(function(results){callback(results)})},app.drawMap=function(id,position){if(!app.map)return app.map=new google.maps.Map(document.getElementById(id),{zoom:16,center:position}),app.map;app.map.setCenter(position)},app.setMarker=function(map,position){return app.marker&&app.marker.setMap(null),app.marker=new google.maps.Marker({position:position,map:map,draggable:!0}),google.maps.event.addListener(app.marker,"dragend",function(event){var markerPostion=app.marker.getPosition(),lat=markerPostion.lat(),lng=markerPostion.lng();app.marker.setPosition(new google.maps.LatLng(lat,lng)),app.marker.setMap(app.map),app.map.setCenter(markerPostion),app.reverseGeoCode(lat,lng,function(results){$("#"+app.locationFieldObject.input_id+"-place-id").val(results.place_id),$("#"+app.locationFieldObject.input_id).val(results.formatted_address),registration.validate([app.locationFieldObject],!0)})}),app.marker},app.addEventsAction=function(actionsObj){_.each(_.keys(actionsObj),function(selectorObj){var currentSlectorObj=actionsObj[selectorObj];currentSlectorObj&&currentSlectorObj.action&&currentSlectorObj.method&&"id"===currentSlectorObj.selector_type&&$("#"+selectorObj).on(currentSlectorObj.action,function(e){currentSlectorObj.method(e,currentSlectorObj.side_effects)})})},app.populateInputFields=function(){var fieldMap=loginModule.getInputFieldTypeMap();if("object"==typeof JSON.parse(localStorage.getItem("parse_resume_user_info"))){var userObj=JSON.parse(localStorage.getItem("parse_resume_user_info"));_.each(_.keys(userObj),function(key){if(key in fieldMap)switch(fieldMap[key]){case"text":$("[name=candidate_"+key+"]").val(userObj[key]);break;case"radio":$("[name='candidate_"+key+"'][value='"+userObj[key]+"']").attr("checked","checked").parent().addClass("active")}else localStorage.setItem("resume_url",userObj[key])})}},app.init=function(){localStorage.getItem("is_resume_uploaded")&&"true"==localStorage.getItem("is_resume_uploaded")&&($("#resume-upload-message").removeClass("hidden"),setTimeout(function(){$("#resume-upload-message").addClass("hidden"),localStorage.removeItem("is_resume_uploaded")},3e3)),app.populateInputFields(),app.addEventsAction({"locate-me":{selector_type:"id",action:"click",method:actions.locateMe,side_effects:function(data){data.error?($(".location-denied-error").show(),setTimeout(function(){$(".location-denied-error").hide()},3e3)):data.success&&($(".map-container").show(),app.drawMap("map",data.location),app.setMarker(app.map,data.location),data.results&&data.results&&($("#"+app.locationFieldObject.input_id+"-place-id").val(data.results.place_id),$("#"+app.locationFieldObject.input_id).val(data.results.formatted_address),registration.validate([app.locationFieldObject],!0)))}}})}}(app),function(formOps){function formDataOperations(serializedValues,fieldMap,formRef){var postDeferred=$.Deferred();serializedValues&&fieldMap&&formRef||postDeferred.reject();var hashedDataValues={},apiData={};var fileData,file,parseUrlData,compactObject=function(obj){function filterEmptyArrayObject(val){for(var isNotEmpty=!1,objectKeys=Object.keys(val),i=0;i<objectKeys.length;i++)if(null!==val[objectKeys[i]]&&void 0!==val[objectKeys[i]]){isNotEmpty=!0;break}return isNotEmpty}for(var k in obj)objVal=obj[k],null===objVal||void 0===objVal||objVal.constructor===Array&&0===objVal.length?delete obj[k]:objVal.constructor===Array&&0<objVal.length?(objVal=_.filter(objVal,filterEmptyArrayObject),0===objVal.length&&delete obj[k]):"object"==typeof objVal&&0===Object.keys(objVal).length||"string"==typeof objVal&&0===objVal.trim().length?delete obj[k]:"object"==typeof objVal&&0<Object.keys(objVal).length&&(isPropertyEmpty(objVal)?delete obj[k]:objVal=compactObject(objVal));return obj},isPropertyEmpty=function(val){for(var key in val)if(null!==val[key]&&void 0!==val[key])return!1;return!0};return serializedValues.forEach(function(obj){hashedDataValues[obj.name]=obj.value}),function(){$("#fresher-toggle").is(":checked");var utmParameters=window.getMarketingSource();utmParameters=compactObject(utmParameters),apiData={address:{place_id:hashedDataValues.candidate_location_id},referral_code:hashedDataValues.partner_code?hashedDataValues.partner_code:hashedDataValues.referral_code?hashedDataValues.referral_code:void 0,user_data:{first_name:hashedDataValues.candidate_first_name,last_name:hashedDataValues.candidate_last_name,date_of_birth:moment(new Date(hashedDataValues.candidate_birth_year,hashedDataValues.candidate_birth_month,hashedDataValues.candidate_birth_day)).format("YYYY-MM-DD"),password:hashedDataValues.candidate_password,mobile:hashedDataValues.candidate_mobile,email:hashedDataValues.candidate_email,user_type:"CA",send_otp_or_code:!1,gender:hashedDataValues.candidate_gender,marketing_source:utmParameters}},utmParameters&&utmParameters.utm_campaign&&"PostJobFree"===utmParameters.utm_campaign&&(apiData.source_id=24);var hostSplit=window.location.host.split("."),parent_domain=null;1<hostSplit.length&&(parent_domain="."+hostSplit[1]+"."+hostSplit[2]);var params={};window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(str,key,value){params.job_id=value});var jobID=params&&params.job_id;if(parent_domain?Cookies.set("p_job",jobID,{path:"/",domain:parent_domain,expires:86400}):Cookies.set("p_job",jobID,{path:"/",expires:86400}),"object"==typeof JSON.parse(localStorage.getItem("parse_resume_user_info"))){var userObj=JSON.parse(localStorage.getItem("parse_resume_user_info"));userObj&&userObj.hasOwnProperty("resume_url")&&0<userObj.resume_url.length&&(apiData.resume_url=userObj.resume_url)}}(),compactObject(apiData),fileData=new FormData,file=null!=resumeFile?resumeFile[0]:"",(parseUrlData=ajUtilities.parseUrlParams())&&(parseUrlData.referral_code&&(apiData.referral_code=parseUrlData.referral_code),parseUrlData.campaign_id&&(apiData.campaign_id=parseUrlData.campaign_id)),fileUploaded?(fileData.append("file",file),$.ajax({method:"PUT",url:baseURI+"api/v4/resume_upload/",data:fileData,processData:!1,contentType:!1,headers:{"Content-Type":void 0,"X-AJ-PLATFORM":loginModule.getPlatform(),"X-AJClient":"DesktopWeb.Candidate"},isArray:!1}).then(function(data){fileUploaded=!0;var resume_path=data.path;apiData.resume_url=resume_path||null,$.ajax({method:"POST",url:baseURI+"api/v4/candidate/",data:JSON.stringify(apiData),headers:loginModule.getHeaders()}).then(function(data){fileUploaded=!1,data&&data._source&&data._source.user&&(data._source.user.mobile=apiData.user_data.mobile,data._source.user.email=apiData.user_data.email);var loginData={username:apiData.user_data.mobile,password:apiData.user_data.password,client_id:document.client_id};postDeferred.resolve({candidate:data,loginData:loginData,apiData:apiData})},function(err){postDeferred.reject({error:err})})},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")})):$.ajax({method:"POST",url:baseURI+"api/v4/candidate/",headers:loginModule.getHeaders(),data:JSON.stringify(apiData)}).then(function(data){fileUploaded=!1,data&&data._source&&data._source.user&&(data._source.user.mobile=apiData.user_data.mobile,data._source.user.email=apiData.user_data.email);var loginData={username:apiData.user_data.mobile,password:apiData.user_data.password,client_id:document.client_id};postDeferred.resolve({candidate:data,loginData:loginData,apiData:apiData})},function(err){postDeferred.reject({error:err})}),loginModule.injectTrovitPixel(),postDeferred.promise()}$.whenall=function(arr){return $.when.apply($,arr)};var validate={apiResponses:[],check:function(fieldMap,singleField){var isValid=!0,extraValidationFieldMap={};if(formValidator)for(var i=0;i<fieldMap.length;i++){var validationResult=!1;!fieldMap[i].validation_type||$("#fresher-toggle").is(":checked")&&$("#"+fieldMap[i].input_id).hasClass("experience_block")||((fieldMap[i].input_id||fieldMap[i].name&&"radio"===fieldMap[i].validation_type)&&(validationResult="selectize"===fieldMap[i].validation_type?formValidator.validateSelectize(fieldMap[i].selectize_instance,fieldMap[i].required,fieldMap[i].message):"radio"===fieldMap[i].validation_type?formValidator.validate("[name='"+fieldMap[i].name+"']",fieldMap[i].validation_type,!1!==fieldMap[i].show,fieldMap[i].message,fieldMap[i].regex):formValidator.validate("#"+fieldMap[i].input_id,fieldMap[i].validation_type,!1!==fieldMap[i].show,fieldMap[i].message,fieldMap[i].regex)),"candidate_birth_day"!==fieldMap[i].name&&"candidate_birth_year"!==fieldMap[i].name&&"candidate_birth_month"!==fieldMap[i].name&&"candidate_experience_years"!==fieldMap[i].name&&"candidate_experience_months"!==fieldMap[i].name&&"candidate_mobile"!==fieldMap[i].name||(extraValidationFieldMap[fieldMap[i].name]=fieldMap[i]),validationResult||(isValid=!1))}if(isValid&&!singleField){var ageValid=this.validateAge(extraValidationFieldMap),experienceValid=!Boolean($("#experienced-toggle").is(":checked"))||this.validateExperience(extraValidationFieldMap);isValid=ageValid&&experienceValid}return isValid},validateAge:function(fieldMap){if(!fieldMap)return!0;var isValidAge=!0,dayOfBirth=fieldMap.candidate_birth_day&&fieldMap.candidate_birth_day.name&&$("[name='"+fieldMap.candidate_birth_day.name+"']").val()?$("[name='"+fieldMap.candidate_birth_day.name+"']").val():void 0,monthOfBirth=fieldMap.candidate_birth_month&&fieldMap.candidate_birth_month.name&&$("[name='"+fieldMap.candidate_birth_month.name+"']").val()?$("[name='"+fieldMap.candidate_birth_month.name+"']").val():void 0,yearOfBirth=fieldMap.candidate_birth_year&&fieldMap.candidate_birth_year.name&&$("[name='"+fieldMap.candidate_birth_year.name+"']").val()?$("[name='"+fieldMap.candidate_birth_year.name+"']").val():void 0;if(dayOfBirth&&monthOfBirth&&yearOfBirth){var currentDate=moment(),userDate=moment(new Date(yearOfBirth,monthOfBirth,dayOfBirth));isValidAge=!(currentDate.diff(userDate,"years",!0)<14)}else isValidAge=!1;var siblingChild=$("#age-error").siblings(".form-group").find(".help-block");return isValidAge||0!==siblingChild.length?$("#age-error").addClass("hidden"):$("#age-error").removeClass("hidden"),isValidAge},validateExperience:function(fieldMap){if(!fieldMap)return!0;var dayOfBirth=fieldMap.candidate_birth_day&&fieldMap.candidate_birth_day.name&&$("[name='"+fieldMap.candidate_birth_day.name+"']").val()?$("[name='"+fieldMap.candidate_birth_day.name+"']").val():void 0,monthOfBirth=fieldMap.candidate_birth_month&&fieldMap.candidate_birth_month.name&&$("[name='"+fieldMap.candidate_birth_month.name+"']").val()?$("[name='"+fieldMap.candidate_birth_month.name+"']").val():void 0,yearOfBirth=fieldMap.candidate_birth_year&&fieldMap.candidate_birth_year.name&&$("[name='"+fieldMap.candidate_birth_year.name+"']").val()?$("[name='"+fieldMap.candidate_birth_year.name+"']").val():void 0,isValidExperience=!0,noExperienceError=!1,experienceYears=fieldMap.candidate_experience_years&&fieldMap.candidate_experience_years.name&&null!==$("[name='"+fieldMap.candidate_experience_years.name+"']").val()&&void 0!==$("[name='"+fieldMap.candidate_experience_years.name+"']").val()&&""!==$("[name='"+fieldMap.candidate_experience_years.name+"']").val().trim()?$("[name='"+fieldMap.candidate_experience_years.name+"']").val():void 0,experienceMonths=fieldMap.candidate_experience_months&&fieldMap.candidate_experience_months.name&&null!==$("[name='"+fieldMap.candidate_experience_months.name+"']").val()&&void 0!==$("[name='"+fieldMap.candidate_experience_months.name+"']").val()&&""!==$("[name='"+fieldMap.candidate_experience_months.name+"']").val().trim()?$("[name='"+fieldMap.candidate_experience_months.name+"']").val():void 0;if(dayOfBirth&&monthOfBirth&&yearOfBirth&&null!=experienceYears&&""!==experienceYears.trim()&&null!=experienceMonths&&""!==experienceMonths.trim())if(0!==parseInt(experienceYears)||0!==parseInt(experienceMonths)){var currentDate=moment(),userDate=moment(new Date(yearOfBirth,monthOfBirth,dayOfBirth));isValidExperience=!(currentDate.diff(userDate,"years",!0)-14<parseInt(experienceYears,10)+parseInt(experienceMonths,10)/12)}else noExperienceError=!0;var siblingChild=$("#experience-span-error").siblings(".form-group").find(".help-block");return noExperienceError&&0===siblingChild.length?($("#experience-span-error").hasClass("hidden")||$("#experience-span-error").addClass("hidden"),$("#no-experience-error").removeClass("hidden")):$("#no-experience-error").addClass("hidden"),!isValidExperience&&$("#no-experience-error").hasClass("hidden")&&0===siblingChild.length?$("#experience-span-error").removeClass("hidden"):$("#experience-span-error").addClass("hidden"),isValidExperience&&!noExperienceError},validateAlternateNumber:function(fieldMap){if(!fieldMap)return!0;var isNumberSame=!1,primaryMobileNumber=fieldMap.candidate_mobile&&fieldMap.candidate_mobile.name&&$("[name='"+fieldMap.candidate_mobile.name+"']").val()||null,alternateMobileNumber=fieldMap.candidate_alternate_mobile&&fieldMap.candidate_alternate_mobile.name&&$("[name='"+fieldMap.candidate_alternate_mobile.name+"']").val()||null;alternateMobileNumber&&(isNumberSame=primaryMobileNumber===alternateMobileNumber);var closestParent=$("#alternate-number-error").closest(".form-group"),hasErrorClass=closestParent.find(".help-block");return isNumberSame&&0===hasErrorClass.length?(closestParent.addClass("has-error"),$("#alternate-number-error").removeClass("hidden")):$("#alternate-number-error").addClass("hidden"),!isNumberSame},api_check:function(fieldObject,formReference,fieldMapping,revalidate){var validateSelf=this;revalidate&&(validateSelf.apiResponses=[]),validateSelf.apiResponses.push(!1);var apiIndex=validateSelf.apiResponses.length-1,deffered=$.Deferred();fieldObject&&fieldObject.input_id&&formReference||deffered.reject();var value=$("#"+fieldObject.input_id).val(),api=fieldObject.validation_api;return $.ajax({method:"GET",headers:loginModule.getHeaders(),url:baseURI+api,data:{username:value}}).then(function(data){validateSelf.apiResponses[apiIndex]=!1,deffered.resolve({data:data,fieldObject:fieldObject}),submitBtnDisplay(formReference,!1,"Create Account"),validateSelf.scroll_to_error(formReference)},function(err){if(validateSelf.apiResponses[apiIndex]=!0,deffered.reject({error:err,fieldObject:fieldObject}),-1===validateSelf.apiResponses.indexOf(!1)){var formValues=function(formRef){if(formRef)return $(formRef).serializeArray()}(formReference);$.when(formDataOperations(formValues,fieldMapping,formReference)).then(function(data){var candidate=data.candidate||void 0,loginData=data.loginData||void 0,formData=data.apiData||void 0;postRegistration.start(candidate,loginData,formReference,formData)},function(err){submitBtnDisplay(formReference,!1,"Create Account")})}}),deffered.promise()},append_error_html:function(result){if(result&&result.fieldObject&&result.fieldObject.input_id){var selector=$("#"+result.fieldObject.input_id);if(result.fieldObject.api_message){var errorContent="<span class='help-block text-base'><span class='fa fa-exclamation-circle'>&nbsp;</span>"+result.fieldObject.api_message+"</span>",closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")?closestParent.children(".help-block").replaceWith(errorContent):closestParent.addClass("has-error").append(errorContent)}}},remove_error_html:function(result){if(result&&result.fieldObject&&result.fieldObject.input_id){var selector=$("#"+result.fieldObject.input_id),closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")&&closestParent.removeClass("has-error").children(".help-block").remove()}},scroll_to_error:function(formRef){if(smoothScroll){var errorBlocks=$(formRef).find(".form-group .help-block");errorBlocks&&0<errorBlocks.length&&smoothScroll.scrollToTarget(errorBlocks[0],180)}}};formOps.validate=function(fieldMap,singleField){validate.check(fieldMap,singleField)},formOps.unValidate=function(fieldMap){if(fieldMap&&formValidator)for(var i=0;i<fieldMap.length;i++)(fieldMap[i].input_id||fieldMap[i].name&&"radio"===fieldMap[i].validation_type)&&"selectize"!==fieldMap[i].validation_type&&(validationResult="radio"===fieldMap[i].validation_type?formValidator.unvalidate("[name='"+fieldMap[i].name+"']"):formValidator.unvalidate("#"+fieldMap[i].input_id))},formOps.start=function(formRef,fieldMap){if(fieldMap&&formRef){submitBtnDisplay(formRef,!0,"Creating Account...");var isRevalidated=!0;if(validate.check(fieldMap))for(var i=0;i<fieldMap.length;i++)fieldMap[i].validation_api&&($.when(validate.api_check(fieldMap[i],formRef,fieldMap,isRevalidated)).then(validate.append_error_html,validate.remove_error_html),isRevalidated=!1);else validate.scroll_to_error(formRef),submitBtnDisplay(formRef,!1,"Create Account")}}}(registration),formElements={googleLocation:function(fieldObject){function initAutoComplete(){var inputId=fieldObject.input_id,locationElement=document.getElementById(inputId);new google.maps.places.Autocomplete(locationElement).addListener("place_changed",function(){var selectedPlace=this.getPlace(),lat=selectedPlace.geometry.location.lat(),lng=selectedPlace.geometry.location.lng();$("#"+fieldObject.input_id+"-place-id").val(selectedPlace.place_id),registration.validate([fieldObject],!0),$(".map-container").show(),app.drawMap("map",{lat:lat,lng:lng}),app.setMarker(app.map,{lat:lat,lng:lng})})}fieldObject&&!app.googleMapLoaded&&$("#"+fieldObject.input_id).on("focus",function(){app.googleMapLoaded?initAutoComplete():ajUtilities.loadScript("https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places&key=AIzaSyDQqMf0iAtipQfF2CNxWAVqEQeWsDqOnC0",function(){app.googleMapLoaded=!0,initAutoComplete()})})},setSelectize:function(fieldObject){if(fieldObject&&fieldObject.input_id){var options=[];return fieldObject.selectize_instance=function(selector,options,config,handlers){if(!selector||!options)return;var selectizeConfig={labelField:"display",valueField:"id",create:!1,options:options,searchField:"display",onType:function(typedText){},onBlur:function(){},onChange:function(value){}};config&&$.extend(selectizeConfig,config);handlers&&handlers.onType&&(selectizeConfig.onType=handlers.onType);handlers&&handlers.onBlur&&(selectizeConfig.onBlur=handlers.onBlur);handlers&&handlers.onChange&&(selectizeConfig.onChange=handlers.onChange);return selector.selectize(selectizeConfig)[0].selectize}($("#"+fieldObject.input_id),options,{labelField:fieldObject.select_list_label,valueField:fieldObject.select_list_value,searchField:fieldObject.select_list_label},fieldObject.handlers),fieldObject.data_list&&fieldObject.data_list.constructor===Array?(options=fieldObject.data_list,fieldObject.selectize_instance.addOption(options),fieldObject.selectize_instance.refreshOptions(!1)):fieldObject.data_api&&$.when(this.getData(fieldObject.data_api,fieldObject.filter_data,fieldObject.api_limit)).then(function(data){if(options=data.objects,fieldObject.selectize_instance.addOption(options),fieldObject.selectize_instance.refreshOptions(!1),fieldObject.url_param_key){var urlParamsObject=ajUtilities.parseUrlParams();try{fieldObject.selectize_instance.setValue(urlParamsObject[fieldObject.url_param_key])}catch(e){}}},function(err){options=[],fieldObject.selectize_instance.addOption(options),fieldObject.selectize_instance.refreshOptions(!1)}),fieldObject}},getData:function(api,data,limit){var deffered=$.Deferred();return api||deffered.reject(),$.ajax({method:"GET",url:baseURI+api,data:data?$.extend(data,{limit:limit}):limit?{limit:limit}:void 0,headers:loginModule.getHeaders()}).then(function(data){deffered.resolve(data)},function(err){deffered.reject(err)}),deffered.promise()},setExperienceToggle:function(selector){selector&&$("[name='"+selector+"']").on("change",function(){"fresher-toggle"===$(this).attr("id")?($(".experience_info").hide().closest("#experience_info_block").removeClass("hidden"),$("#candidate-job-role").prev().text("Desired Job Role*")):"experienced-toggle"===$(this).attr("id")&&($(".experience_info").show().closest("#experience_info_block").removeClass("hidden"),$("#candidate-job-role").prev().text("Current Job Role*"))})},setInputInteractions:function(fieldObj){if(fieldObj){var selector=fieldObj.name,isSelectize="selectize"===fieldObj.validation_type;fieldObj.validation_type;selector&&!isSelectize&&($("[name='"+selector+"']").on("blur",function(){registration.validate([fieldObj],!0)}),$("[name='"+selector+"']").on("focus change",function(){registration.unValidate([fieldObj])})),isSelectize&&fieldObj.selectize_instance&&fieldObj.selectize_instance.on("blur",function(){registration.validate([fieldObj],!0)})}}},formInitData={currentUrlParams:null,parseUrlParams:function(){if(ajUtilities)return ajUtilities.parseUrlParams()},setUrlParamsToFields:function(fieldObject){fieldObject&&(this.currentUrlParams||(this.currentUrlParams=this.parseUrlParams()),fieldObject.url_param_key&&this.currentUrlParams[fieldObject.url_param_key]&&$("[name='"+fieldObject.name+"']").val(decodeURIComponent(this.currentUrlParams[fieldObject.url_param_key])))},setCookieToFields:function(fieldObject){if(fieldObject&&fieldObject.cookie){var cookieValue=Cookies.get(fieldObject.cookie);$("[name='"+fieldObject.name+"']").val(cookieValue)}}},candidateFormUI.set=function(fieldMap){if(fieldMap&&fieldMap.constructor===Array){for(var i=0;i<fieldMap.length;i++)fieldMap[i]&&("selectize"===fieldMap[i].validation_type&&(fieldMap[i]=formElements.setSelectize(fieldMap[i])),"location"===fieldMap[i].special_input&&formElements.googleLocation(fieldMap[i]),"candidate_experience"===fieldMap[i].name&&formElements.setExperienceToggle(fieldMap[i].name),fieldMap[i].url_param_key&&formInitData.setUrlParamsToFields(fieldMap[i]),fieldMap[i].cookie&&formInitData.setCookieToFields(fieldMap[i]),formElements.setInputInteractions(fieldMap[i]));return fieldMap}},formReference=candidate=null,postRegistration.start=function(candidateData,loginData,formRef,formData){candidateData&&loginData&&formRef&&(candidate=candidateData,formReference=formRef,caRegistrationEvents.formSuccess(candidateData,formData),submitBtnDisplay(formReference,!0,"Logging in..."),$.when(function(candidate){var mailDeferred=$.Deferred();candidate||mailDeferred.reject();var userId=candidate._source.user.id,userEmail=candidate._source.user.email;return userEmail?$.ajax({method:"POST",headers:loginModule.getHeaders(),url:baseURI+"api/v4/user/"+userId+"/initiate_unverified_email_change/",data:JSON.stringify({new_email:userEmail})}).then(function(data){mailDeferred.resolve()},function(err){mailDeferred.reject()}):mailDeferred.resolve(),mailDeferred.promise()}(candidate)).then(function(){setStepAndLogin(loginData)},function(){setStepAndLogin(loginData)}))};function candidateRegister(formId){if(formId){var fieldMap=function(formId,fieldNameArray){if(!fieldNameArray||!formId)return{};for(var fieldMapSource={candidate_resume:{input_id:null,validation_type:"file",message:"resume",validation_api:null,post_key:"resume_url"},candidate_first_name:{input_id:null,validation_type:"text",message:"first name",validation_api:null,post_key:"user_data.first_name",url_param_key:"first_name",regex:"^[a-zA-Z\\s-]*$"},candidate_last_name:{input_id:null,validation_type:"text",message:"last name",validation_api:null,post_key:"user_data.last_name",url_param_key:"last_name",regex:"^[a-zA-Z\\s-]*$"},candidate_mobile:{input_id:null,validation_type:"mobile",message:"mobile number",validation_api:"api/v4/recognize_user/",api_message:"This mobile number already exists. Please <a href=''class='auth-click' title='Login' data-track-source='Login' data-auth-screen='login' data-track-source='Candidate Register' data-track-name='Login Modal' data-track-page='Candidate Register'>Login</a>",post_key:"user_data.mobile",url_param_key:"mobile"},candidate_email:{input_id:null,validation_type:"email",message:"email ID",validation_api:"api/v4/recognize_user/",api_message:"This email id already exists. Please <a href=''class='auth-click' title='Login' data-track-source='Login' data-auth-screen='login' data-track-source='Candidate Register' data-track-name='Login Modal' data-track-page='Candidate Register'>Login</a>",post_key:"user_data.email",url_param_key:"email"},candidate_salary:{input_id:null,validation_type:"number",message:"current salary",post_key:"current_salary",regex:"^[0-9]*$"},candidate_password:{input_id:null,validation_type:"password",message:"password",validation_api:null,post_key:"user_data.password"},candidate_job_role:{input_id:null,validation_type:"selectize",message:"job role",data_api:"api/v4/fa/",api_limit:200,select_list_label:"name",select_list_value:"id",post_key:"primary_experience.functional_area_id",required:!0,url_param_key:"fa",handlers:{onType:function(typedText){faTypingStarted=!0,faTypedText=typedText},onBlur:function(){faTypingStarted&&loginModule.sendEvent("Type Ahead",{type:"registration-fa",value:faTypedText,page:"Candidate Register"}),faTypingStarted=!1},onChange:function(value){faTypedText||faTypingStarted||!value||loginModule.sendEvent("Type Ahead",{type:"registration-fa",value:"NA",page:"Candidate Register"})}}},candidate_birth_day:{input_id:null,validation_type:"selectize",message:"day of birth",data_list:void 0!==ajUtilities?ajUtilities.DateTimeService.getDaysNumberList():[],select_list_label:"display",select_list_value:"value",selectize_instance:null,post_key:"user_data.date_of_birth",required:!0},candidate_birth_month:{input_id:null,validation_type:"selectize",message:"month of birth",data_list:void 0!==ajUtilities?ajUtilities.DateTimeService.getMonthList():[],select_list_label:"display",select_list_value:"value",selectize_instance:null,post_key:"user_data.date_of_birth",required:!0},candidate_birth_year:{input_id:null,validation_type:"selectize",message:"year of birth",data_list:void 0!==ajUtilities?ajUtilities.DateTimeService.getYearList():[],select_list_label:"display",select_list_value:"value",selectize_instance:null,post_key:"user_data.date_of_birth",required:!0},candidate_education:{input_id:null,validation_type:"selectize",message:"highest education",data_list:educationList,select_list_label:"display",select_list_value:"value",selectize_instance:null,post_key:"education[].proficiency_level",required:!0},candidate_experience_years:{input_id:null,validation_type:"selectize",message:"total work experience",data_list:void 0!==ajUtilities?ajUtilities.DateTimeService.getMonthsNumbersList(40,0,"year"):[],select_list_label:"display",select_list_value:"value",selectize_instance:null,post_key:"experience.total_experience_user",required:!0},candidate_experience_months:{input_id:null,validation_type:"selectize",message:"total work experience",data_list:void 0!==ajUtilities?ajUtilities.DateTimeService.getMonthsNumbersList(11,0,"month"):[],select_list_label:"display",select_list_value:"value",selectize_instance:null,post_key:"experience.total_experience_user",required:!0},candidate_location:{input_id:null,validation_type:"location",message:"location",special_input:"location",url_param_key:"location_text"},candidate_location_id:{input_id:null,message:"",show:!1,post_key:"address.place.place_id",url_param_key:"location"},candidate_gender:{input_id:null,validation_type:"radio",message:"gender",post_key:"user_data.gender"},candidate_experience:{input_id:null,validation_type:"radio",message:"experience level",post_key:"is_experienced",toggle:!0,toggle_block_id:"experience_info"},candidate_marketing_source:{input_id:null,validation_type:null},partner_code:{input_id:null,validation_type:null,cookie:"p_code"},referral_code:{input_id:null,validation_type:null,cookie:"referral_code"},candidate_alternate_mobile:{input_id:null,validation_type:"mobile",message:"mobile number",required:!1}},fieldMapNew=[],fieldNameArrayLength=fieldNameArray.length,i=0;i<fieldNameArrayLength;i++){var field_object=fieldMapSource[fieldNameArray[i]];field_object&&(field_object.input_id=$(formId+' [name="'+fieldNameArray[i]+'"]').attr("id")||null,field_object.name=fieldNameArray[i],fieldMapNew.push(field_object))}return fieldMapNew}(formId,$(formId+" :input, select").map(function(index,elm){return elm.name}));fieldMap=candidateFormUI.set(fieldMap),function(formId,callback){if(formId&&$(formId)){var formDOMSelector=$(formId);formDOMSelector.on("submit",callback||void 0),formDOMSelector.on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})}}(formId,function(event){event.preventDefault(),registration.start(this,fieldMap)})}}var self;(self=caRegistrationEvents).formSuccess=function(data,formData){data&&function(candidateData,formData){if(candidateData&&candidateData._source){var cObj={first_name:candidateData._source.user&&candidateData._source.user.first_name||null,last_name:candidateData._source.user&&candidateData._source.user.last_name||null,email:formData&&formData.user_data&&formData.user_data.email||null,mobile:formData&&formData.user_data&&formData.user_data.mobile||null,gender:candidateData._source.user&&candidateData._source.user.gender||null,education:candidateData._source&&candidateData._source.educations&&candidateData._source.educations[0]&&null!==candidateData._source.educations[0].proficiency_level&&void 0!==candidateData._source.educations[0].proficiency_level?candidateData._source.educations[0].proficiency_level:null,is_experienced:candidateData._source&&candidateData._source.is_experienced||!1,fa:candidateData._source&&candidateData._source.functional_areas&&candidateData._source.functional_areas[0]&&candidateData._source.functional_areas[0].name||null,salary:candidateData._source&&void 0!==candidateData._source.current_salary&&null!==candidateData._source.current_salary?candidateData._source.current_salary:null,location:candidateData._source&&candidateData._source.address&&candidateData._source.address.place&&candidateData._source.address.place.formatted_address||null,is_resume:!(!candidateData._source||!candidateData._source.resume),dob:candidateData._source.user&&candidateData._source.user.date_of_birth||null};cObj.is_experienced&&(cObj.total_experience=null!==candidateData._source.total_experience_user&&void 0!==candidateData._source.total_experience_user?candidateData._source.total_experience_user:0);var successTrackObj={"First Name":cObj.first_name||"NA","Last Name":cObj.last_name||"NA",Email:cObj.email||"NA",Phone:cObj.mobile||"NA",Gender:cObj.gender||"NA",Education:cObj.proficiency_level||-1,Experience:cObj.is_experienced?"E":"F",FA:cObj.fa||"NA",Salary:cObj.salary||-1,Location:cObj.location||"NA",Resume:cObj.is_resume?"Y":"N"};cObj.dob&&(successTrackObj.DOB=moment(cObj.dob,"YYYY-MM-DD").toDate()),cObj.total_experience&&(successTrackObj["Total Experience Duration"]=cObj.total_experience),loginModule.sendEvent("Register - Submit Success",successTrackObj);var event_data={first_name:cObj.first_name||"",last_name:cObj.last_name||"",mobile:cObj.mobile||"",email:cObj.email||"",dob:cObj.dob||"",address:cObj.location||"",total_experience_user:cObj.total_experience||""};loginModule.inititateThrowEvent(event_data,candidateData._source.id)}}(data,formData)},self.pageLoad=function(){var urlParamsObject=null;ajUtilities&&(urlParamsObject=ajUtilities.parseUrlParams()),urlParamsObject&&function(trackingObj){if(trackingObj){for(var pageLoadTrackObj={},escrow_exists=!(escrow_params=["first_name","last_name","mobile","email","fa","location","location_text"]),i=0;i<escrow_params.length;i++)if(escrow_params[i]in trackingObj){escrow_exists=!0;break}pageLoadTrackObj.Source=trackingObj.track_source||"NA",pageLoadTrackObj.Page=trackingObj.track_page||"NA",pageLoadTrackObj.Position=trackingObj.track_position||"NA",pageLoadTrackObj.escrow_first_name=trackingObj.first_name?"Y":"N",pageLoadTrackObj.escrow_last_name=trackingObj.last_name?"Y":"N",pageLoadTrackObj.escrow_mobile=trackingObj.mobile?"Y":"N",pageLoadTrackObj.escrow_email=trackingObj.email?"Y":"N",pageLoadTrackObj.escrow_fa=trackingObj.fa?"Y":"N",pageLoadTrackObj.escrow_location=trackingObj.location?"Y":"N",pageLoadTrackObj.escrow_location_text=trackingObj.location_text?"Y":"N",pageLoadTrackObj.prefilled_query_params=escrow_exists?"Y":"N",loginModule.sendEvent("Register Landing",pageLoadTrackObj)}}(urlParamsObject)},$(document).ready(function(){"/candidate/register/"===window.location.pathname&&(app.init(),fileUploaded=!1,caRegistrationEvents.pageLoad(),candidateRegister("#candidate-register"))}),$("#candidate-register #candidate-resume").on("change",function(e){formValidator.validate(e.target,"file")&&(resumeFile=this.files,fileUploaded=!0)})}(),function($){var root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,_req=function(obj){return obj instanceof _req?obj:this instanceof _req?void(this._wrapped=obj):new _req(obj)};root._req=_req;function Request(method,url,param,dataType,contentType){var d=$.Deferred();return $.ajax({method:"GET",contentType:contentType||"application/json; charset=utf-8",dataType:dataType||"json",url:url,data:param||{}}).then(function(data){d.resolve(data)},function(err){d.reject(err)},function(){"pending"===d.state()&&d.notify("Sending...")}),d.promise()}_req.GET=function(url,param,dataType,contentType){return Request(0,url,param,dataType,contentType)},_req.POST=function(url,postData,dataType,contentType){return Request(0,url,postData,dataType,contentType)},_req.PATCH=function(url,postData,dataType,contentType){return Request(0,url,postData,dataType,contentType)},_req.PUT=function(url,postData,dataType,contentType){return Request(0,url,postData,dataType,contentType)}}(jQuery);var enter_key_pre,resumeAwrFile,page,trackPage,clickType,trackData,googleLocationLoad=function(){var locationElement=document.getElementById("alert-loc"),loadScript=function(src,callback){var script=document.createElement("script");script.type="text/javascript",callback&&(script.onload=callback),document.getElementsByTagName("head")[0].appendChild(script),script.src=src};return window.initializeAlertInput=function(){window.jobAlertAutocomplete=new google.maps.places.Autocomplete(locationElement),window.jobAlertAutocomplete.addListener("place_changed",function(){var selectedLocation=this.getPlace();$("#alert-loc-place-id").val(selectedLocation.place_id)}),window.jobAlertAutocomplete.addListener("place_changed",function(){var selectedLocation=this.getPlace();$("#alert-loc-place-id").val(selectedLocation.place_id)})},{loadGooglePlaces:function(){window.jobAlertAutocomplete||loadScript("https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places&callback=initializeAlertInput&key=AIzaSyDQqMf0iAtipQfF2CNxWAVqEQeWsDqOnC0",function(){})}}}(),subscriptionData=function(){var formNameDict={"job-role":"functional_area_ids","work-experience":"work_experience","alert-email":"email",mobile:"mobile","alert-loc-place":"place_id","alert-salary":"expected_salary","alert-sms-notify":"sms_subscribed","alert-email-notify":"email_subscribed","alert-industry-type":"industry_ids","alert-job-category":"functional_area_category_ids","subscription-type":"subscription","alert-keyword-string":"keywords","company-name":"company_name"},createPostData=function(obj){var sourceData={};if(obj&&(sourceData=obj,!_.isEmpty(sourceData)))return _.reduce(sourceData,function(memo,value,key){return"mobile"===formNameDict[key]?memo[formNameDict[key]]=value:memo.other_data[formNameDict[key]]=value,memo},{other_data:{}})},processObj=function(obj){var sanitizedObj;return obj?(sanitizedObj=_.pick(obj,_.identity),calculateData(sanitizedObj),removeKeys(sanitizedObj)):{}},calculateData=function(obj){var tempValue,newObj=obj;return void 0!==newObj["work-ex-months"]&&void 0!==newObj["work-ex-years"]&&(newObj["work-experience"]=Math.abs(12*parseInt(newObj["work-ex-years"],10))+Math.abs(parseInt(newObj["work-ex-months"],10))),void 0!==newObj["job-role"]&&"string"==typeof newObj["job-role"]&&(tempValue=newObj["job-role"],newObj["job-role"]=[],newObj["job-role"][0]=tempValue),void 0!==newObj["alert-industry-type"]&&"string"==typeof newObj["alert-industry-type"]&&(tempValue=newObj["alert-industry-type"],newObj["alert-industry-type"]=[],newObj["alert-industry-type"][0]=tempValue),void 0!==newObj["alert-job-category"]&&"string"==typeof newObj["alert-job-category"]&&(tempValue=newObj["alert-job-category"],newObj["alert-job-category"]=[],newObj["alert-job-category"][0]=tempValue),void 0!==newObj["alert-sms-notify"]&&"true"===newObj["alert-sms-notify"]&&(newObj["alert-sms-notify"]=!0),void 0!==newObj["alert-email-notify"]&&"true"===newObj["alert-email-notify"]&&(newObj["alert-email-notify"]=!0),void 0!==newObj["alert-salary"]&&(newObj["alert-salary"]=isNaN(parseInt(newObj["alert-salary"],10))?1:Math.abs(parseInt(newObj["alert-salary"],10))),void 0!==newObj["alert-keyword-string"]&&""!==newObj["alert-keyword-string"]&&(newObj["alert-keyword-string"]=newObj["alert-keyword-string"].split(",")),newObj},removeKeys=function(obj){var newObj=obj;return void 0!==newObj["work-ex-months"]&&(newObj=omitValues(newObj,"work-ex-months")),void 0!==newObj["work-ex-years"]&&(newObj=omitValues(newObj,"work-ex-years")),void 0!==newObj["alert-location"]&&(newObj=omitValues(newObj,"alert-location")),newObj},omitValues=function(obj,omitkey){var newObj;return obj?(newObj=obj,omitkey?newObj=_.omit(newObj,function(value,key){return key===omitkey}):newObj):{}};return{sendData:function(serializedArray){var postObj;serializedArray&&(postObj=function(serializedArray){var reducedObj,processedObj;return reducedObj=_.reduce(serializedArray,function(a,b){var where=_.where(serializedArray,{name:b.name});return 1<where.length?a[b.name]=_.pluck(where,"value"):a[b.name]=b.value,a},{}),processedObj=processObj(reducedObj),createPostData(processedObj)}(serializedArray),$.when(function(obj){if($("#submit-job-alerts").attr("disabled","disabled"),$("#submit-job-alerts").text("Subscribing..."),obj){var deferred=$.Deferred();return $.ajax({method:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:baseURI+"api/v4/job_alerts/",data:JSON.stringify(obj)}).then(function(data){$("#submit-job-alerts").removeAttr("disabled","disabled"),$("#submit-job-alerts").text("Subscribed"),deferred.resolve(data)},function(err){$("#submit-job-alerts").removeAttr("disabled","disabled"),$("#submit-job-alerts").text("Subscribe"),deferred.reject(err)},function(){"pending"===deferred.state()&&(deferred.notify("Sending..."),alert("sending.."))}),deferred.promise()}}(postObj)).then(function(data){$("#job-alert-container").empty(),$("#job-alert-container").load("/templates/public/partials/widgets/job-alert-success.jade")},function(err){}))}}}(),$_jobAlertForm=function(){function getList(listType){var deferred=$.Deferred(),listApiDict={jobRoles:"api/v4/fa/",industries:"api/v4/industry/",jobCategories:"api/v4/fa_category/"};return null!=listType&&void 0!==listApiDict[listType]&&$.ajax({method:"GET",url:baseURI+listApiDict[listType],data:{limit:1e3}}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&(deferred.notify("Sending..."),alert("sending.."))}),deferred.promise()}function resolveListData(promiseData,listType){promiseData.then(function(data){switch(listType){case"jobRoles":iJobRoleSelect.addOption(data.objects);break;case"industries":iIndustrySelect.addOption(data.objects);break;case"jobCategories":iJobCategorySelect.addOption(data.objects)}_.isEmpty(urlParams)||prefillData(urlParams)},function(err){})}var urlParams,keywordArray=[],roleSelect=$(".role-select").selectize({delimiter:",",persist:!1,valueField:"id",labelField:"name",searchField:["name","id"],create:!1,options:[],maxItems:3,plugins:["remove_button"]}),iJobRoleSelect=roleSelect[0].selectize,iIndustrySelect=roleSelect[1].selectize,iJobCategorySelect=roleSelect[2].selectize,input=document.getElementById("keywords"),company_input=document.getElementById("company_name"),awesomplete=new Awesomplete(input,{replace:function(text){var inputRef=$(this),closestElement=$(inputRef[0].input).closest(".form-group");_.contains(keywordArray,text)||(0<closestElement.find("ul.list-inline.search-filter-tags").length?closestElement.find("ul.list-inline.search-filter-tags").append("<li class='m-top-5' data-value='"+text+"'>"+text+"<a class='inline-flex-center flex-justify-center m-left-5'>&#10799;</a></li>"):closestElement.prepend("<ul class='list-inline search-filter-tags'><li class='m-top-5' data-value='"+text+"'>"+text+"<a class='inline-flex-center flex-justify-center m-left-5'>&#10799;</a></li></ul>"),bindCloseTag(),keywordArray.push(text)),$("#alert-keyword-string").val(keywordArray),$(inputRef[0].input).val("")}}),company_awesomplete=new Awesomplete(company_input,{replace:function(text){$(this);$("#company_name").val(text)}}),bindCloseTag=function(){$(".search-filter-tags > li").on("click","a",function(evt){var thisTag=$(this).closest("li"),tagValue=thisTag.data("value");keywordArray=_.without(keywordArray,tagValue),$("#alert-keyword-string").val(keywordArray),thisTag.remove()})},prefillData=function(params){if(params&&(void 0!==params.job_id&&null!==params.job_id&&iJobRoleSelect.setValue(params.job_id),void 0!==params.industry_id&&null!==params.industry_id&&iIndustrySelect.setValue(params.industry_id),void 0!==params.salary&&null!==params.salary&&$("#alert-salary").val(parseInt(params.salary,10)),void 0!==params.keyword&&null!==params.keyword&&awesomplete.replace(params.keyword),void 0!==params.company_name&&null!==params.company_name&&company_awesomplete.replace(decodeURI(params.company_name)),void 0!==params.location_id&&null!==params.location_id&&$("#alert-loc-place-id").val(params.location_id),void 0!==params.location_name&&null!==params.location_name&&$("#alert-loc").val(decodeURI(params.location_name)),void 0!==params.experience&&null!==params.experience)){var workExYears=isNaN(parseInt(params.experience)/12)?0:parseInt(parseInt(params.experience,10)/12,10),workExMonths=isNaN(parseInt(params.experience)%12)?0:parseInt(parseInt(params.experience,10)%12,10);$("#work-ex-years").val(workExYears),$("#work-ex-months").val(workExMonths)}};!function(){var jobRolePromise=$.when(getList("jobRoles"));resolveListData(jobRolePromise,"jobRoles");var industryPromise=$.when(getList("industries"));resolveListData(industryPromise,"industries");var jobCatPromise=$.when(getList("jobCategories"));resolveListData(jobCatPromise,"jobCategories")}();$("#alert-loc").on("focus",googleLocationLoad.loadGooglePlaces()),$("#keywords").on("keyup focus",function(evt){if(13!=event.keyCode&&38!=event.keyCode&&40!=event.keyCode){var queryString=$(this).val(),typeAheadArray=[];2<=queryString.length&&$.when((str=queryString,deferred=$.Deferred(),str&&(query={q:str.toString(),limit:1e3},$.ajax({method:"GET",url:baseURI+"api/v4/suggest/jobs/",data:query}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&(deferred.notify("Sending..."),alert("sending.."))})),deferred.promise())).then(function(data){typeAheadArray=function(data){var tempArray=[];if(data&&0<data.objects.length)for(var i=0;i<data.objects.length;i++)void 0!==data.objects[i]._source?tempArray.push(data.objects[i]._source.entity_name):tempArray.push(data.objects[i].text);return tempArray}(data),awesomplete.list=typeAheadArray},function(err){})}var str,query,deferred}),$("#company_name").on("keyup focusin",function(evt){if(13!=event.keyCode&&38!=event.keyCode&&40!=event.keyCode){var queryString=$(this).val(),typeAheadArray=[];2<=queryString.length&&$.when((str=queryString,deferred=$.Deferred(),str&&(query={q:str.toString(),limit:10},$.ajax({method:"GET",url:baseURI+"api/v5/suggest/company/",data:query}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&(deferred.notify("Sending..."),alert("sending.."))})),deferred.promise())).then(function(data){typeAheadArray=function(data){var tempArray=[];if(data&&0<data.objects.length)for(var i=0;i<data.objects.length;i++)void 0!==data.objects[i]._source?tempArray.push(data.objects[i]._source.name):tempArray.push(data.objects[i].name);return tempArray}(data),company_awesomplete.list=typeAheadArray},function(err){})}var str,query,deferred}),$(document).ready(function(){document.getElementById("alert-salary").onkeydown=function(e){if(!(95<e.keyCode&&e.keyCode<106||47<e.keyCode&&e.keyCode<58||8==e.keyCode))return!1}}),$("#job-alert-form").submit(function(evt){var serializedArray;evt.preventDefault(),window.scrollTo(0,0);var mobileError,jobRoleError,locationAddressError,emailError;$(this);(mobileError=formValidator.validate("#mobile-number","mobile",!0,"mobile number"),jobRoleError=formValidator.validateSelectize(iJobRoleSelect,!0,"job role"),locationAddressError=formValidator.validate("#alert-loc","location",!0,"location"),emailError=formValidator.validate("#alert-email","email",!0,!1,!1,!0),formValidator.trueOrFalse(mobileError,jobRoleError,locationAddressError,emailError))&&(serializedArray=$(this).serializeArray(),subscriptionData.sendData(serializedArray))}),urlParams=_.chain(location.search.slice(1).split("&")).map(function(item){if(item)return item.split("=")}).compact().object().value(),$(document).on("click",".homepage-redirect",function(e){e.preventDefault(),Cookies.get("access_token")?window.location=window.location.origin+"/candidate-zone/home":window.location=window.location.origin})},jobDetails={},getAdditionalData=function(form){var jobId=form.find("#jobIDForAWR").val(),newTrackObj={},currentJob=_.findWhere(document.allJobData,{id:jobId});return newTrackObj="Job Listing"===window.currentPage?{"Job Type":currentJob.client_approval_required?"CAR":"nCAR","Resume Subscribed":currentJob.is_resume_subscribed?"True":"False","Slots Available":currentJob.recent_slot?"True":"False","Pricing Plan":currentJob.pricing_plan_type||"NA"}:{"Job Type":window.jobData.client_approval_required?"CAR":"nCAR","Resume Subscribed":window.jobData.is_resume_subscribed?"True":"False","Slots Available":window.jobData.recent_slot?"True":"False","Pricing Plan":window.jobData.pricing_plan_type||"NA"},newTrackObj=$.extend(newTrackObj,{"First Name":form.find("#awr-first_name")&&form.find("#awr-first_name").val()?form.find("#awr-first_name").val():"NA","Last Name":form.find("#awr-last_name")&&form.find("#awr-last_name").val()?form.find("#awr-last_name").val():"NA",Mobile:form.find("#awr-mobile")&&form.find("#awr-mobile").val()?form.find("#awr-mobile").val():"NA",Email:form.find("#awr-email")&&form.find("#awr-email").val()?form.find("#awr-email").val():"NA",Resume:form.find("#awr-resume")&&form.find("#awr-resume").val()?form.find("#awr-resume").val():"NA"})};jobDetails.resumeUploading=!1,jobDetails.createCandidate=function(self,dataToSubmit){$.when(loginModule.createCandidate(JSON.stringify(dataToSubmit))).then(function(data){var jobID=jobDetails.inputValues(self.find("#jobIDForAWR")).trim(),hostSplit=window.location.host.split("."),parent_domain=null;1<hostSplit.length&&(parent_domain="."+hostSplit[1]+"."+hostSplit[2]);parent_domain?Cookies.set("p_job",jobID,{path:"/",domain:parent_domain,expires:86400}):Cookies.set("p_job",jobID,{path:"/",expires:86400}),data=data.data,loginModule.injectTrovitPixel();var event_data={first_name:data._source.user&&data._source.user.first_name||null,last_name:data._source.user&&data._source.user.last_name||null,email:dataToSubmit&&dataToSubmit.user_data&&dataToSubmit.user_data.email||null,mobile:dataToSubmit&&dataToSubmit.user_data&&dataToSubmit.user_data.mobile||null,address:data._source&&data._source.address&&data._source.address.place&&data._source.address.place.formatted_address||null,total_experience_user:""};data._source.is_experienced&&(event_data.total_experience_user=null!==data._source.total_experience_user&&void 0!==data._source.total_experience_user?data._source.total_experience_user:0),loginModule.inititateThrowEvent(event_data,data._source.id),ga("send","event",{eventCategory:"registration",eventAction:"click",eventLabel:"type",eventValue:2}),self.parents().find(".modal-title").addClass("hidden"),self.addClass("hidden"),self.parents().find("#otpTitle").removeClass("hidden"),self.parent().find("#apply-without-registration-otp").removeClass("hidden"),$("#applyWithoutRegistration").on("hide.bs.modal",function(e){e.preventDefault()}),self.parent().find("#otpMobile").text(self.parent().find("#awr-mobile").val()?self.parent().find("#awr-mobile").val():"Your mobile number.");var cID=data._source&&data._source.id?data._source.id:"";self.parents().find("#candidateID").val(cID);var userID=data._source&&data._source.user&&data._source.user.id?data._source.user.id:"";self.parents().find("#uID").val(userID);var trackObj={status:"S",error:"NA",frontend_status:"S",type:null!=page?page:"NA"},updatedObj=getAdditionalData(self);trackObj=$.extend(trackObj,updatedObj),loginModule.sendEvent("Apply without register submit",trackObj),self.find("[type=submit]").attr("disabled",!1),self.find("[type=submit]").text("Apply")},function(data){var trackObj={status:"F",frontend_status:"S",error:"candidate_creation",type:null!=page?page:"NA"},updatedObj=getAdditionalData(self);trackObj=$.extend(trackObj,updatedObj),loginModule.sendEvent("Apply without register submit",trackObj),self.find("[type=submit]").attr("disabled",!1),self.find("[type=submit]").text("Apply"),self.addClass("hidden"),self.parent().find("#apply-without-registration_faliur_div").removeClass("hidden"),self.parent().find("#apply-without-registration-server-error").removeClass("hidden")})},jobDetails.createEscrow=function(dataObj){var deferred=$.Deferred();return null!=dataObj&&$.ajax({method:"POST",url:baseURI+"api/v4/escrow/",data:dataObj,headers:loginModule.getHeaders()}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")}),deferred.promise()},jobDetails.numbersList=function(limit,startAt,appendText){for(var list=[],i=startAt;i<=limit;i++){var displayKey=i<=1?i.toString()+" "+appendText:i.toString()+" "+appendText+"s",listObj={value:i,display:displayKey};list.push(listObj)}return list},jobDetails.inputValues=function(selector){return $(selector).val().trim()},jobDetails.uploadResume=function(dataObj){var deferred=$.Deferred();if(null!=dataObj){var fileData=new FormData,file=resumeAwrFile?resumeAwrFile[0]:null;fileData.append("file",file),$.ajax({method:"PUT",url:baseURI+"api/v4/resume_upload/",data:fileData,processData:!1,contentType:!1,headers:{"Content-Type":void 0,"X-AJ-PLATFORM":loginModule.getPlatform(),"X-AJClient":"DesktopWeb.Candidate"},isArray:!1}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")})}return deferred.promise()},jobDetails.postSubmitMain=function(e){e.preventDefault();var self=$(this);self.find("[type=submit]").attr("disabled",!0),self.find("[type=submit]").text("Applying...");var noError,resumeError,fNameError=formValidator.validate(self.find("#awr-first_name"),"text",!0,"first name","^[a-zA-Z ]*$",!0),LNameError=formValidator.validate(self.find("#awr-last_name"),"text",!0,"last name","^[a-zA-Z ]*$",!0),mobileError=formValidator.validate(self.find("#awr-mobile"),"mobile",!0,"10 digit mobile number"),emailError=formValidator.validate(self.find("#awr-email"),"email",!0,"email");noError=document.resumeRequired&&"True"===document.resumeRequired?(resumeError=formValidator.validate(self.find("#awr-resume"),"file"),formValidator.trueOrFalse(fNameError,LNameError,mobileError,emailError,resumeError)):formValidator.trueOrFalse(fNameError,LNameError,mobileError,emailError);jobDetails.inputValues(self.find(".form-type"))&&jobDetails.inputValues(self.find(".form-type"));if(noError)$.when(loginModule.recognizeUser(jobDetails.inputValues(self.find("#awr-mobile")))).then(function(success){self.find("#user_already_exists.error-field").removeClass("hidden"),self.find("[type=submit]").attr("disabled",!1),self.find("[type=submit]").text("Apply");var trackObj={status:"F",frontend_status:"S",error:"mobile_already_exists",type:null!=page?page:"NA"},updatedObj=getAdditionalData(self);trackObj=$.extend(trackObj,updatedObj),loginModule.sendEvent("Apply without register submit",trackObj)},function(err){$.when(loginModule.recognizeUser(jobDetails.inputValues(self.find("#awr-email")))).then(function(success){self.find("#user_already_exists.error-field").removeClass("hidden"),self.find("[type=submit]").attr("disabled",!1),self.find("[type=submit]").text("Apply");var trackObj={status:"F",frontend_status:"S",error:"email_already_exists",type:null!=page?page:"NA"},updatedObj=getAdditionalData(self);trackObj=$.extend(trackObj,updatedObj),loginModule.sendEvent("Apply without register submit",trackObj)},function(err){var resume_path=jobDetails.inputValues(self.find("#awrResume")),jobID=jobDetails.inputValues(self.find("#jobIDForAWR")).trim(),escrowData={first_name:jobDetails.inputValues(self.find("#awr-first_name")).trim(),last_name:jobDetails.inputValues(self.find("#awr-last_name")).trim(),mobile:jobDetails.inputValues(self.find("#awr-mobile")).trim(),job:jobID};resume_path&&(escrowData.resume_url=resume_path);var utmParameters=window.getMarketingSource(),partner_code=Cookies.get("p_code")||null,referral_code=Cookies.get("referral_code")||null,source=null,job_id_for_source=null;source="MS_Partner"===window.source?"MS_Partner":Cookies.get("source")||null,job_id_for_source=jobID||(Cookies.get("job_id_for_source")||null);var dataToSubmit={referral_code:partner_code||(referral_code||void 0),user_data:{first_name:jobDetails.inputValues(self.find("#awr-first_name")).trim(),last_name:jobDetails.inputValues(self.find("#awr-last_name")).trim(),mobile:jobDetails.inputValues(self.find("#awr-mobile")).trim(),user_type:"CA",email:jobDetails.inputValues(self.find("#awr-email")).trim(),marketing_source:utmParameters}};source&&(dataToSubmit.user_data.marketing_source.agency_source={source:source||void 0,job_id:job_id_for_source||void 0}),resume_path&&(dataToSubmit.resume_url=resume_path),jobDetails.createCandidate(self,dataToSubmit)},function(data){var trackObj={status:"F",frontend_status:"S",error:"resume_upload",type:null!=page?page:"NA"},updatedObj=getAdditionalData(self);trackObj=$.extend(trackObj,updatedObj),loginModule.sendEvent("Apply without register submit",trackObj),self.find("#resume_upload_error.error-field").removeClass("hidden"),self.find("[type=submit]").attr("disabled",!1),self.find("[type=submit]").text("Apply")})});else{var trackObj={status:"F",frontend_status:"F",type:null!=page?page:"NA"};errorArr=[],fNameError&&LNameError&&mobileError&&emailError&&("True"!==document.resumeRequired||resumeError)?errorArr.push("other"):(fNameError||errorArr.push("first_name"),LNameError||errorArr.push("last_name"),mobileError||errorArr.push("mobile"),emailError||errorArr.push("email"),"True"!==document.resumeRequired||resumeError||errorArr.push("resume")),trackObj.error=errorArr.join(",");var updatedObj=getAdditionalData(self);trackObj=$.extend(trackObj,updatedObj),loginModule.sendEvent("Apply without register submit",trackObj),self.find("[type=submit]").attr("disabled",!1),self.find("[type=submit]").text("Apply")}},jobDetails.postSubmitOTP=function(e){e.preventDefault();var self=$(this),trackData=self.data(),trackingObj=(trackData&&trackData.trackPosition,{Status:"NA",Type:null!=page?page:"NA"}),otpError=formValidator.validate(self.find("#otp"),"otp",!0,"OTP",new RegExp(/\b\d{5}\b/g),!0);if(formValidator.trueOrFalse(otpError)){self.attr("disabled",!0),self.val("Checking...");var cID=jobDetails.inputValues(self.find("#candidateID")),loginObj=(jobDetails.inputValues(self.find("#jobIDForOTP")),{otp:jobDetails.inputValues(self.find("#otp")).trim(),client_id:loginModule.getClientID(),mobile:$("#apply-without-registration #awr-mobile").val().trim()});$.when(loginModule.activateMobile(JSON.stringify(loginObj))).then(function(success){trackingObj.Status="S",loginModule.sendEvent("Register OTP Submit",trackingObj);var accessToken=success.access_token;$.when(loginModule.setStep(cID)).then(function(success){accessToken&&loginModule.setCookieAndRedirect(accessToken,["existing","candidate"],!0)},function(err){accessToken&&loginModule.setCookieAndRedirect(accessToken,["existing","candidate"],!0)})},function(err){trackingObj.Status="F",loginModule.sendEvent("Register OTP Submit",trackingObj),self.parent().find("#otp_invalid_error").removeClass("hidden")})}},jobDetails.doLogin=function(token){var access_token=token||"";if(access_token){loginModule.setCookieAndRedirect(access_token,["new","candidate"],!1,"/candidate-zone/profile/edit/personal-details/")}},jobDetails.preFillData=function(resumeData){var data=resumeData.user_data;resumeData&&(data.first_name&&$("#apply-without-registration").find("#awr-first_name").val(data.first_name),data.last_name&&$("#apply-without-registration").find("#awr-last_name").val(data.last_name),data.email&&$("#apply-without-registration").find("#awr-email").val(data.email),data.mobile&&$("#apply-without-registration").find("#awr-mobile").val(data.mobile))},jobDetails.switchStep=function(step){"main"==step&&($("#applyWithoutRegistration").find(".modal-title").addClass("hidden"),$("#applyWithoutRegistration").find("#mainTitle").removeClass("hidden"),$("#applyWithoutRegistration").find(".modal-forms").addClass("hidden"),$("#applyWithoutRegistration").find("#apply-without-registration").removeClass("hidden"))},jobDetails.postSubmitResume=function(elm){var self=elm;self.data();if(resumeError=formValidator.validate(self.find("#awr-resume"),"file"),noError=formValidator.trueOrFalse(resumeError),noError)if(resumeAwrFile){var resumeData=resumeAwrFile;$.when(jobDetails.uploadResume(resumeData)).then(function(data){var resume_path=data.path,resumeObj={},resume_url=data.base_url+data.path,trackObj={Status:"S","File name":data?data.base_url+data.path:"NA",Type:type||"NA",Page:trackPage||"NA"};loginModule.sendEvent("Resume Upload Status",trackObj),resume_url&&(resumeObj={resume_url:resume_url});var resume_url_path=data.path;resumeObj&&$.when(loginModule.parseResume(JSON.stringify(resumeObj))).then(function(data){jobDetails.resumeUploading=!1,data&&(loginModule.sendResumeParseEvent("S",type,trackPage,data),data.mobile_exists||data.email_exists?(localStorage.setItem("login_via_new_resume",JSON.stringify({resume:resume_url_path,email:data.user_data.email,mobile:data.user_data.mobile})),$(".apply-without").find("#user_already_exists_resume.error-field").removeClass("hidden"),$(".apply-without").find("#user_already_exists_resume.error-field .resume-exists").data("username",data.mobile_exists?data.user_data.mobile:data.user_data.email),$(".apply-without .resume-exists").on("click",function(e){e.preventDefault();var username=$(this).data("username");$("#applyWithoutRegistration").modal("hide"),username?loginModule.loginWithUsername.candidate(username):candidateLogin.mediator.init(self,e)})):(loginModule.saveResumeParsedData(data),$(".apply-without").find("#awrResume").val(resume_path),$(".apply-without").find(".success-field").removeClass("hidden"),setTimeout(function(){$(".apply-without").find(".success-field").addClass("hidden")},5e3)))},function(err){fileIsUploaded=!1,jobDetails.resumeUploading=!1,409===err.status?$(".apply-without").find("#user_already_exists.error-field").removeClass("hidden"):$(".apply-without").find("#resume_upload_error.error-field").removeClass("hidden"),loginModule.sendResumeParseEvent("F",type,trackPage)})},function(err){jobDetails.resumeUploading=!1;var trackObj={Status:"F","File name":data?data.base_url+data.path:"NA",Type:typedTexts||"NA",Page:trackPage||"NA"};loginModule.sendEvent("Resume Upload Status",trackObj),self.find("#resume_upload_error.error-field").removeClass("hidden")})}else{jobDetails.resumeUploading=!1;var trackObj={Status:"F","File name":data?data.base_url+data.path:"NA",Type:type||"NA",Page:"Job Details"};loginModule.sendEvent("Resume Upload Status",trackObj)}else jobDetails.resumeUploading=!1},jobDetails.initAutoComplete=function(inputId){var locationElement=$(inputId);new google.maps.places.Autocomplete(locationElement[0]).addListener("place_changed",function(){var selectedPlace=this.getPlace();$(inputId+"-place-id").val(selectedPlace.place_id)})},jobDetails.loadScript=function(src,callback){var script=document.createElement("script");script.type="text/javascript",callback&&(script.onload=callback),document.getElementsByTagName("head")[0].appendChild(script),script.src=src},jobDetails.loadGooglePlaces=function(id){jobDetails.loadScript("https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places&key=AIzaSyDQqMf0iAtipQfF2CNxWAVqEQeWsDqOnC0",function(){jobDetails.initAutoComplete(id)})},jobDetails.initializeGA=function(id){$(id).off("focus").on("focus",jobDetails.loadGooglePlaces(id))},jobDetails.openGoogleYoloPopup=function(){var job=jobData,trackObj={"Job Type":job&&job.client_approval_required?"CAR":"NCAR","Resume Subscribed":job&&job.is_resume_subscribed?"Yes":"No","Recent Slots":job&&job.recent_slot?"Yes":"No","Pricing Plan":job&&job.pricing_plan_type?job.pricing_plan_type:"NA"};loginModule.sendEvent("Google sign-in modal load",trackObj);var client_id=document.google_client_id+".apps.googleusercontent.com";googleyolo.hint({supportedAuthMethods:["https://accounts.google.com"],supportedIdTokenProviders:[{uri:"https://accounts.google.com",clientId:client_id}]}).then(function(data){var openIDToken=data&&data.idToken,utmParameters=window.getMarketingSource(),postObj={provider:"google-openidconnect",client_id:loginModule.getClientID().trim(),open_id_token:openIDToken,registration_source:"RWC",user_type:"CA",marketing_source:utmParameters};$.when(loginModule.getAccessTokenFromOpenID(JSON.stringify(postObj)).then(function(success){var job=jobData,trackObj={Type:"Continue","Job Type":job&&job.client_approval_required?"CAR":"NCAR","Resume Subscribed":job&&job.is_resume_subscribed?"Yes":"No","Recent Slots":job&&job.recent_slot?"Yes":"No","Pricing Plan":job&&job.pricing_plan_type?job.pricing_plan_type:"NA"};if(loginModule.sendEvent("Google sign-in modal click",trackObj),success&&"CA"===success.user_type){var access_token=success&&success.access_token;loginModule.setCookieAndRedirect(access_token,["existing","candidate"],!0)}else success&&"ER"===success.user_type?($(".js-notification").removeClass("hidden"),$(".js-notification .js-click.employer").removeClass("hidden")):success&&"P"===success.user_type?($(".js-notification").removeClass("hidden"),$(".js-notification .js-click.partner").removeClass("hidden")):success&&"PA"===success.user_type?($(".js-notification").removeClass("hidden"),$(".js-notification .js-click.primary-agency").removeClass("hidden")):($(".js-notification").removeClass("hidden"),$(".js-notification .js-click.other").removeClass("hidden"))},function(err){}))},function(data){var cookieDomain=loginModule.getCookieDomain(),endOfDay=moment(new Date).endOf("day").utc().toDate();window.googleTempCalled||"userCanceled"!==data.type||Cookies.set("google-yolo",!0,{path:"/",domain:cookieDomain||"localhost",expires:endOfDay});var job=jobData,trackObj={Type:"Cancel","Job Type":job&&job.client_approval_required?"CAR":"NCAR","Resume Subscribed":job&&job.is_resume_subscribed?"Yes":"No","Recent Slots":job&&job.recent_slot?"Yes":"No","Pricing Plan":job&&job.pricing_plan_type?job.pricing_plan_type:"NA"};loginModule.sendEvent("Google sign-in modal click",trackObj)})},jobDetails.initiateOneClickGoogleSignIn=function(){if("job-public-detail-page"===document.current_page){var doOpenGoogleSignIn=Cookies.get("google-yolo");if(window.googleYoloLoaded=!1,!doOpenGoogleSignIn){jobDetails.loadScript("https://smartlock.google.com/client",function(e){window.googleYoloLoaded=!0,setTimeout(function(){window.yoloCalled||(window.yoloCalled=!0,jobDetails.openGoogleYoloPopup())},5e3),window.onscroll=function(){1<window.pageYOffset&&(window.yoloCalled||(window.yoloCalled=!0,jobDetails.openGoogleYoloPopup()))}})}}},jobDetails.closeGoogleHelperNotification=function(){"job-public-detail-page"===document.current_page&&($(".floating-notification").addClass("hidden"),$(".floating-notification .js-click").addClass("hidden"))},jobDetails.closeGoogleYolo=function(temp){"job-public-detail-page"===document.current_page&&(temp&&(window.googleTempCalled=!0),!Cookies.get("google-yolo")&&window.googleYoloLoaded&&googleyolo.cancelLastOperation())};var initJobDetails=function(){var currentPage=document.current_page?document.current_page:null;if(currentPage&&0<=["job-public-detail-page","Job Details"].indexOf(currentPage)){sendGAEvent({category:"Job Detail",action:"Page Load",label:"Job Detail Load"})}if(currentPage&&0<=["Job Listing"].indexOf(currentPage)){sendGAEvent({category:"Job Listing",action:"Page Load",label:"Job Listing Load"});var config=window.search_config,searchTypeCookie=Cookies.get("search_type")?Cookies.get("search_type"):null;Cookies.remove("search_type");var searchType="Search-Text";searchType=searchTypeCookie||(document.referrer.includes(document.cookie_domain)?config&&!_.isEmpty(search_config.filter)?"Search-Filters":"Search-Text":"NA");var trackClevertapObj={Keywords:config.keywords&&config.keywords.length?config.keywords.join(", "):"NA",Location:config.location_slug?config.location_slug:"NA",Experience:config.filter&&config.filter.experience?config.filter.experience:"NA","Number of Results":config.total_count?config.total_count:"NA","Search Type":searchType};loginModule.sendEvent("Page Load",trackClevertapObj)}$(".floating-notification").addClass("hidden"),$(".floating-notification .js-click").addClass("hidden"),$(".floating-notification .close-notification").on("click",function(){jobDetails.closeGoogleHelperNotification()}),$(".apply-without-otp").off("submit").on("submit",jobDetails.postSubmitOTP),$(".apply-without").off("submit").on("submit",jobDetails.postSubmitMain),$("#doLogin").off("click").on("click",function(e){var self=$(this);e.preventDefault();var token=jobDetails.inputValues(self.parents().find("#accessToken"));jobDetails.doLogin(token)}),$("#applyWithoutResendOTP").off("click").on("click",function(e){e.preventDefault();var self=$(this);self.attr("disabled",!0),self.text("Resending...");self.parents().find("#otpMobile")&&self.parents().find("#otpMobile").text().trim();var userID=self.parents().find("#uID")?self.parents().find("#uID").val():"";$.when(loginModule.generateOTP(userID,"A")).then(function(success){setTimeout(function(){$("#apply-without-registration-otp").find(".success-field").addClass("hidden")},3e3),$("#apply-without-registration-otp").find(".success-field").removeClass("hidden"),self.attr("disabled",!0),self.parent().addClass("hidden")},function(err){$("#apply-without-registration-otp").find(".error-field#error-generating-otp").removeClass("hidden"),self.attr("disabled",!1),self.text("Resend OTP")})}),$(".apply-without #awr-first_name").off("blur").on("blur",function(e){formValidator.validate(e.target,"text",!0,"first name","^[a-zA-Z ]*$",!0)}),$(".apply-without #awr-last_name").off("blur").on("blur",function(e){formValidator.validate(e.target,"text",!0,"last name","^[a-zA-Z ]*$",!0)}),$(".apply-without #awr-mobile").off("blur").on("blur",function(e){formValidator.validate(e.target,"mobile",!0,"10 digit mobile number")}),$(".apply-without #awr-email").off("blur").on("blur",function(e){formValidator.validate(e.target,"email",!0,"email")}),$(".apply-without #awr-resume").off("blur").on("blur",function(e){formValidator.validate(e.target,"file")&&!jobDetails.resumeUploading&&(jobDetails.resumeUploading=!0,setInterval(function(){jobDetails.resumeUploading?$("#apply-without-registration-submit").attr("disabled",!0):$("#apply-without-registration-submit").attr("disabled",!1)},500),jobDetails.postSubmitResume($(this)))}),$(".apply-without-otp #otp").off("blur").on("blur",function(e){formValidator.validate(e.target,"otp",!0,"OTP",new RegExp(/\b\d{5}\b/g),!0)}),$(".apply-without #awr-resume").off("change").on("change",function(e){formValidator.validate(e.target,"file")&&(resumeAwrFile=this.files)}),$("#apply-without-registration").off("focusin"," input").on("focusin"," input",function(){$(this);var idToValidate="#apply-without-registration #"+String($(this).attr("id"));formValidator.unvalidate(idToValidate)}),$("#applyWithoutRegistration").off("hidden.bs.modal").on("hidden.bs.modal",function(e){var googleCookie=Cookies.get("google-yolo");window.googleTempCalled&&!googleCookie&&setTimeout(function(){window.yoloCalled=!0,window.googleTempCalled=!1,jobDetails.openGoogleYoloPopup()},5e3),$(this).data("page",""),$(this).data("click-type",""),$(this).data("trackPage",""),$("#apply-without-registration").removeClass("hidden"),$("#applyWithoutRegistration").find(".modal-title").addClass("hidden"),$("#applyWithoutRegistration").find("#mainTitle").removeClass("hidden"),$("#apply-without-registration-success").addClass("hidden"),$("#apply-without-registration_faliur_div").addClass("hidden"),$("#applyWithoutRegistration").find(".error-field").addClass("hidden"),$("#applyWithoutRegistration").find(".modal-forms").addClass("hidden"),$("#applyWithoutRegistration").find(".modal-forms.apply-without").removeClass("hidden"),$("#applyWithoutRegistration").find(":input").each(function(){var formGroup=$(this).closest(".form-group");switch(this.type){case"password":case"text":case"select":case"hidden":case"file":$(this).val(""),formGroup.hasClass("has-error")&&(formGroup.removeClass("has-error"),$(formGroup).find(".help-block").remove()),formGroup.siblings(".error-field").addClass("hidden"),formGroup.siblings(".success-field").addClass("hidden")}})});function trackSearchClick(elm,evt){var trackData={indexClicked:elm.data("index")?elm.data("index"):"NA",type:"searchresults"};loginModule.sendEvent("SearchClick",trackData)}$(".track-search-click").on("click",function(e){var self=$(this);trackSearchClick(self)}),$(".apply-without-registration").off("click").on("click",function(e){e.preventDefault(),e.stopPropagation();var self=$(this);sendGAEvent({category:"Application",action:"Click",label:$(this).attr("data-track-fa")?$(this).attr("data-track-fa"):"NA"}),self.attr("disabled",!0);var accessToken=loginModule.getAccessTokenCookie();if(jobDetails.closeGoogleYolo(!0),jobDetails.closeGoogleHelperNotification(),loginModule&&loginModule.isMobile()){var jobId_for_mobile=self.data("job-id")?self.data("job-id"):"",hostSplit=window.location.host.split("."),parent_domain=null;1<hostSplit.length&&(parent_domain="."+hostSplit[1]+"."+hostSplit[2]);parent_domain?Cookies.set("p_job",jobId_for_mobile,{path:"/",domain:parent_domain,expires:86400}):Cookies.set("p_job",jobId_for_mobile,{path:"/",expires:86400}),self.attr("disabled",!1),window.location=mobileSiteAddress+"/register"}else $.when(loginModule.getUserData(accessToken)).then(function(success){var userType=success.user_type;self.attr("disabled",!1),loginModule.setCookieAndRedirect(accessToken,["existing",UserTypeMap[userType]],!0)},function(err){document.current_page&&"Job Listing"===document.current_page&&(trackSearchClick(self),function(elm){var trackData=elm.data(),job={_source:trackData.job},trackObj={Type:trackData.type?trackData.type:"NA",Page:document.current_page?document.current_page:"NA","Job Title":job._source.title||"NA","Job Id":job._source.id||"NA",FA:job._source.functional_area&&job._source.functional_area.name?$("<div>").html(job._source.functional_area.name).text():"NA",Source:job._source.source||"NA",Click:job._source.click||"NA","Job Status":job._source.state?job._source.state:"NA","Approval Required":job._source.client_approval_required?"CAR":"NCAR","Job Plan":job._source.pricing_plan_type?job._source.pricing_plan_type:"NA","Job Response Time":job._source.employer_response_time?job._source.employer_response_time:"NA",New:-1<job._source.tags.indexOf("new")?"Yes":"No","Posted On date":-1<job._source.tags.indexOf("posted_recently")?"Yes":"No",Trending:-1<job._source.tags.indexOf("trending")?"Yes":"No","Fresher Job":-1<job._source.tags.indexOf("freshers_can_apply")?"Yes":"No",Premium:-1<job._source.tags.indexOf("premium")?"Yes":"No",Active:-1<job._source.tags.indexOf("active")?"Yes":"No","Walk-in":-1<job._source.tags.indexOf("new")?"Yes":"No"};loginModule.sendEvent("Public Special Click",trackObj)}(self)),$("#applyWithoutRegistration").modal({show:!0,backdrop:"static",keyboard:!1}),document.resumeRequired=self.data("jobResume")?self.data("jobResume"):null,document.resumeRequired&&"False"===document.resumeRequired?$("#apply-without-registration").find("#resumeOptional").addClass("hidden"):$("#apply-without-registration").find("#resumeOptional").removeClass("hidden");var page_name=self.data("page"),clickTypeName=self.data("click-type");page=page_name,clickType=clickTypeName,trackPage=self.data("track-page"),trackData=self.data(),$("#applyWithoutRegistration").data("page",page_name),$("#applyWithoutRegistration").data("click-type",clickType),job_id=self.data("job-id")?self.data("job-id"):"",job_title=self.data("job-title")?self.data("job-title"):"Job",job_title&&$("#applyWithoutRegistration #resumeTitle").text("Applying for "+job_title),$("#applyWithoutRegistration #mainTitle").text("Applying for "+job_title),job_id&&$("#applyWithoutRegistration #jobIDForAWR").val(job_id),$("#applyWithoutRegistration #jobIDForOTP").val(job_id),function(elm){var trackData=elm.data(),job={_source:"Job Listing"===currentPage?trackData.job:"Job Details"===currentPage?window.jobData:""},jobState="Job Listing"===window.currentPage?"J_O":job._source.state?job._source.state:"NA",trackObj={Type:trackData.type?trackData.type:"NA","Job Title":job._source.title||"NA","Job Id":job._source.id||"NA",FA:job._source.functional_area&&job._source.functional_area.name?$("<div>").html(job._source.functional_area.name).text():"NA",Source:job._source.source||"NA","Job Status":jobState||"NA","Job Type":job._source.client_approval_required?"CAR":"NCAR","Pricing Plan":job._source.pricing_plan_type?job._source.pricing_plan_type:"NA","Resume Subscribed":job._source.is_resume_subscribed?"Yes":"No",Salary:job._source.offer&&job._source.offer.min_offered_salary?job._source.offer.min_offered_salary:"NA","Recent Slots":job._source.recent_slot?"Yes":"No",Position:trackData.trackPosition?trackData.trackPosition:"NA"};loginModule.sendEvent("Apply without register load",trackObj)}(self),self.attr("disabled",!1)})}),$("#apply-without-registration-resume-skip").off("click").on("click",function(e){e.preventDefault();$(this);jobDetails.switchStep("main");var trackObj={Page:trackPage,Location:trackData.trackPosition||"NA",Source:"Create Account modal"};loginModule.sendEvent("Register Landing",trackObj)}),$("#apply-without-registration #awr-resume").off("click").on("click",function(e){var self=$(this),trackPage=self.data("track-page")?self.data("track-page"):"NA";type="",type="A"===clickType?"Apply":"Apply without register";var trackObj={Page:trackPage,Type:type};loginModule.sendEvent("Resume upload",trackObj)}),$(".js-modal-close").off("click").on("click",function(e){e.preventDefault();$(this);var resumeError,form=$("#apply-without-registration"),fNameError=formValidator.validate(form.find("#awr-first_name"),"text",!0,"first name","^[a-zA-Z ]*$"),LNameError=formValidator.validate(form.find("#awr-last_name"),"text",!0,"last name","^[a-zA-Z ]*$"),mobileError=formValidator.validate(form.find("#awr-mobile"),"mobile",!0,"mobile number"),emailError=formValidator.validate(form.find("#awr-email"),"email",!0,"email");document.resumeRequired&&"True"===document.resumeRequired?(resumeError=formValidator.validate(form.find("#awr-resume"),"file"),formValidator.trueOrFalse(fNameError,LNameError,mobileError,emailError,resumeError)):formValidator.trueOrFalse(fNameError,LNameError,mobileError,emailError);var trackObj={type:null!=page?page:"NA"},updatedObj=getAdditionalData(form);trackObj=$.extend(trackObj,updatedObj),errorArr=[],fNameError&&LNameError&&mobileError&&emailError&&("True"!==document.resumeRequired||resumeError)?errorArr.push("other"):(fNameError||errorArr.push("first_name"),LNameError||errorArr.push("last_name"),mobileError||errorArr.push("mobile"),emailError||errorArr.push("email"),"True"!==document.resumeRequired||resumeError||errorArr.push("resume")),trackObj.error=errorArr.join(","),loginModule.sendEvent("Apply without register close",trackObj)})};$(document).ready(function(){var currentPage=document.current_page?document.current_page:null;currentPage&&0<=["Job Listing","job-public-detail-page","Job Details"].indexOf(currentPage)&&initJobDetails()}),function(){var activation={},dataOps={},postActivation={},setFormUI={};!function(postActivation){postActivation.start=function(activationData){activationData&&activationData.access_token&&Cookies&&(Cookies.set("access_token",activationData.access_token,{path:"/"}),window.location.href="/partner-zone/home/")}}(postActivation),function(dataOps){var hashedDataValues={},apiData={};var compactObject=function(obj){function filterEmptyArrayObject(val){for(var isNotEmpty=!1,objectKeys=Object.keys(val),i=0;i<objectKeys.length;i++)if(null!==val[objectKeys[i]]&&void 0!==val[objectKeys[i]]){isNotEmpty=!0;break}return isNotEmpty}for(var k in obj)objVal=obj[k],null===objVal||void 0===objVal||objVal.constructor===Array&&0===objVal.length?delete obj[k]:objVal.constructor===Array&&0<objVal.length?(objVal=_.filter(objVal,filterEmptyArrayObject),0===objVal.length&&delete obj[k]):"object"==typeof objVal&&0===Object.keys(objVal).length||"string"==typeof objVal&&0===objVal.trim().length?delete obj[k]:"object"==typeof objVal&&0<Object.keys(objVal).length&&(isPropertyEmpty(objVal)?delete obj[k]:objVal=compactObject(objVal));return obj},isPropertyEmpty=function(val){for(var key in val)if(null!==val[key]&&void 0!==val[key])return!1;return!0};dataOps.start=function(formValues,formRef){formValues&&formRef&&(formValues.forEach(function(obj){hashedDataValues[obj.name]=obj.value}),apiData={hash_code:hashedDataValues.hash_code,username:hashedDataValues.username,client_id:document.client_id,password:hashedDataValues.password},compactObject(apiData),$.ajax({method:"POST",headers:loginModule.getHeaders(),url:baseURI+"api/v4/agency/manager/activate/",data:JSON.stringify(apiData)}).then(function(success){postActivation.start(success)},function(err){}))}}(dataOps),function(activation){var validate_check=function(formSelector){if(!formSelector||!formValidator)return!1;for(var formInputs=function(formRef){if(!formRef)return{};var inputCollection=[],formIdentifier="#"+$(formRef).attr("id");return $(formIdentifier+" :input, select").not("[type=submit]").each(function(){var elementProperties,elem=$(this);elementProperties={name:elem.attr("name")||void 0,id:elem.attr("id")||void 0,selector:elem,validation:{type:elem.attr("data-validation-type"),show:"false"!==elem.attr("data-validation-show"),regex:elem.attr("data-validation-regex")||void 0,message:elem.attr("data-validation-message")||void 0}},inputCollection.push(elementProperties)}),inputCollection}($(formSelector)),formInputsLength=formInputs.length,isValid=!0,i=0;i<formInputsLength;i++){var validationResult=!0;formInputs[i].selector&&formInputs[i].validation.type&&(validationResult=formValidator.validate(formInputs[i].selector,formInputs[i].validation.type,!1!==formInputs[i].validation.show,formInputs[i].validation.message,formInputs[i].validation.regex)),validationResult||(isValid=!1)}return isValid};activation.start=function(formSelector){if(formSelector&&validate_check($(formSelector))){var formValues=function(formRef){if(formRef)return $(formRef).serializeArray()}($(formSelector));dataOps.start(formValues,formSelector)}}}(activation),function(setFormUI){setFormUI.parseUrlParams=function(){if(ajUtilities)return ajUtilities.parseUrlParams()},setFormUI.start=function(formSelector){if(formSelector){var currentUrlParams=setFormUI.parseUrlParams();$(formSelector+" :input, select").not("[type=submit]").each(function(){var elem=$(this),urlParamKey=elem.attr("data-param-key");urlParamKey&&currentUrlParams&&currentUrlParams[urlParamKey]&&elem.val(currentUrlParams[urlParamKey])}),currentUrlParams.inv_manager_name&&$("#partner-activation-container #invited-manager-name").text(currentUrlParams.inv_manager_name.split("+").join(" ")),currentUrlParams.sec_manager_email&&$("#partner-activation-container #sec-manager-email").text(currentUrlParams.sec_manager_email),currentUrlParams.sec_manager_name&&$("#partner-activation-container #sec-manager-name").text(currentUrlParams.sec_manager_name.split("+").join(" ")),currentUrlParams.sec_manager_mobile&&$("#partner-activation-container #sec-manager-mobile").text(currentUrlParams.sec_manager_mobile)}}}(setFormUI);function partnerActivation(formSelector){formSelector&&(setFormUI.start(formSelector),function(formId,callback){if(formId&&$(formId)){var formDOMSelector=$(formId);formDOMSelector.on("submit",callback||void 0),formDOMSelector.on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})}}(formSelector,function(event){event.preventDefault(),activation.start(this)}))}$(document).ready(function(){partnerActivation("#partner-activation-form")})}();var registerWithResume=function(){return function(){function inputValues(selector){return $(selector).val()}return{init:function(){$(".register-with-resume").on("submit",registerWithResumeService.postSubmitResume),$(".register-with-resume #resume").on("change",function(e){formValidator.validate(e.target,"file")&&(registerWithResumeService.resumeAwrFile=this.files)}),$("#registerWithResume").on("hidden.bs.modal",function(e){$(this).data("page",""),$("#register-with-resume").removeClass("hidden"),$("#register-with-resume-success").addClass("hidden"),$("#register-with-resume_faliur_div").addClass("hidden"),$("#registerWithResume").find(".error-field").addClass("hidden"),$("#registerWithResume").find(".modal-forms").addClass("hidden"),$("#registerWithResume").find(".modal-forms.register-with-resume").removeClass("hidden"),$("#registerWithResume").find(":input").each(function(){var formGroup=$(this).closest(".form-group");switch(this.type){case"file":$(this).val(""),formGroup.hasClass("has-error")&&(formGroup.removeClass("has-error"),$(formGroup).find(".help-block").remove()),formGroup.siblings(".error-field").addClass("hidden"),formGroup.siblings(".success-field").addClass("hidden")}})}),$("#register-with-resume-resume-skip").on("click",function(e){e.preventDefault();$(this);localStorage.getItem("parse_resume_user_info")&&localStorage.removeItem("parse_resume_user_info");var redirectUrl=localStorage.getItem("post_register_resume_modal");window.location.href=redirectUrl}),$("#register-with-resume-resume #resume").on("click",function(e){var trackData=$(this).data(),trackObj={Type:"Upload Resume",Source:trackData.trackPage?trackData.trackPage:"NA",Page:"Microsite"==trackData.trackPage?"Microsite":"NA",Partner:trackData.trackPartner?trackData.trackPartner:"NA"};loginModule.sendEvent("Click",trackObj)})},inputValues:inputValues,sendClevertapEvent:function(name,properties){window&&window.clevertap&&window.clevertap.event&&window.trackCleverTapClassFunction(name,properties)},uploadResume:function(dataObj){var deferred=$.Deferred();if(null!=dataObj){var fileData=new FormData,file=registerWithResumeService.resumeAwrFile?registerWithResumeService.resumeAwrFile[0]:null;fileData.append("file",file),$.ajax({method:"PUT",url:baseURI+"api/v4/resume_upload/",data:fileData,dataType:"json",processData:!1,contentType:!1,headers:{"Content-Type":void 0,"X-AJ-PLATFORM":loginModule.getPlatform(),"X-AJClient":"DesktopWeb.Candidate"},isArray:!1}).then(function(data){deferred.resolve(data)},function(err){deferred.reject(err)},function(){"pending"===deferred.state()&&deferred.notify("Sending...")})}return deferred.promise()},preFillData:function(resumeData){var data=resumeData.user_data;resumeData&&localStorage.setItem("parse_resume_user_info",JSON.stringify(data))},postSubmitResume:function(e){e.preventDefault();var self=$(this);self.find("[type=submit]").attr("disabled",!0);var resumeError=formValidator.validate(self.find("#resume"),"file"),noError=formValidator.trueOrFalse(resumeError),trackingObj=(inputValues(self.find(".form-type"))&&inputValues(self.find(".form-type")),{}),trackData=self.data();if(noError)if(self.find("[type=submit]").text("Uploading..."),registerWithResumeService.resumeAwrFile){var resumeData=registerWithResumeService.resumeAwrFile;$.when(registerWithResumeService.uploadResume(resumeData)).then(function(data){localStorage.setItem("is_resume_uploaded",!0),localStorage.getItem("parse_resume_user_info")&&localStorage.removeItem("parse_resume_user_info");data.path;var resumeObj={},resume_url=data.base_url+data.path,trackObj={Status:"S","File name":data?data.base_url+data.path:"NA",Type:"Register",Page:trackData.trackPage?trackData.trackPage:"NA",Source:"Microsite"==trackData.trackPage?"Microsite":"NA"};"Microsite"==trackData.trackPage&&(trackObj.Partner=trackData.trackPartner?trackData.trackPartner:"NA"),loginModule.sendEvent("Resume Upload Status",trackObj),resume_url&&(resumeObj={resume_url:resume_url});var resume_url_path=data.path;resumeObj&&$.when(loginModule.parseResume(JSON.stringify(resumeObj))).then(function(data){if(self.find("[type=submit]").attr("disabled",!1),self.find("[type=submit]").text("Submit"),loginModule.sendResumeParseEvent("S","Register",trackData.trackPage?trackData.trackPage:"NA",data),data)if(data.mobile_exists||data.email_exists)localStorage.setItem("login_via_new_resume",JSON.stringify({resume:resume_url_path,email:data.user_data.email,mobile:data.user_data.mobile})),$("#registerWithResume").modal("hide"),data.mobile_exists?loginModule.loginWithUsername.candidate(data.user_data.mobile):loginModule.loginWithUsername.candidate(data.user_data.email);else{loginModule.saveResumeParsedData(data),data.user_data&&(data.user_data.resume_url=resumeObj.resume_url),registerWithResumeService.preFillData(data);var redirectUrl=localStorage.getItem("post_register_resume_modal");window.location.href=redirectUrl}},function(err){if(localStorage.getItem("parse_resume_user_info")&&localStorage.removeItem("parse_resume_user_info"),self.find("[type=submit]").attr("disabled",!1),self.find("[type=submit]").text("Submit"),fileIsUploaded=!1,loginModule.sendResumeParseEvent("F","Register","Homepage CA"),409===err.status)$(".register-with-resume").find("#user_already_exists.error-field").removeClass("hidden");else if(400===err.status){registerWithResumeService.preFillData({user_data:resumeObj});var redirectUrl=localStorage.getItem("post_register_resume_modal");window.location.href=redirectUrl}else $(".register-with-resume").find("#resume_upload_error.error-field").removeClass("hidden")})},function(err){localStorage.setItem("is_resume_uploaded",!1);var trackObj={Status:"F","File name":data?data.base_url+data.path:"NA",Page:trackData.trackPage?trackData.trackPage:"NA",Type:"Register",Source:"Microsite"==trackData.trackPage?"Microsite":"NA"};"Microsite"==trackData.trackPage&&(trackObj.Partner=trackData.trackPartner?trackData.trackPartner:"NA"),loginModule.sendEvent("Resume Upload Status",trackObj),self.find("#resume_upload_error.error-field").removeClass("hidden"),self.find("[type=submit]").attr("disabled",!1),self.find("[type=submit]").text("Submit")})}else{var trackObj={Status:"F","File name":data?data.base_url+data.path:"NA",Page:trackData.trackPage?trackData.trackPage:"NA",Type:"Register",Source:"Microsite"==trackData.trackPage?"Microsite":"NA"};"Microsite"==trackData.trackPage&&(trackObj.Partner=trackData.trackPartner?trackData.trackPartner:"NA"),loginModule.sendEvent("Resume Upload Status",trackObj),self.find("[type=submit]").attr("disabled",!1)}else trackingObj.error=resumeError?"other":"resume",self.find("[type=submit]").attr("disabled",!1)},resumeAwrFile:void 0}}},registerWithResumeInstance=registerWithResume(),registerWithResumeService=registerWithResumeInstance();registerWithResumeService.init();var dseRegistration={inputValues:function(selector){return $(selector).val().trim()},submitMain:function(e){e.preventDefault();function enableSubmit(){self.find("[type=submit]").attr("disabled",!1)}var self=$(this);self.find("[type=submit]").attr("disabled",!0);var fNameError=formValidator.validate(self.find("#dse-first-name"),"text",!0,"first name","^[a-zA-Z ]*$",!0),LNameError=formValidator.validate(self.find("#dse-last-name"),"text",!0,"last name","^[a-zA-Z ]*$",!0),mobileError=formValidator.validate(self.find("#dse-mobile"),"mobile",!0,"10 digit mobile number",null,!0),localityError=formValidator.validate(self.find("#dse-locality"),"location",!0,"locality",null,!0),faError=formValidator.validateSelectize(faSelectizeInstance[0].selectize,!0,"job category");if(self.find("#dse-first-name").on("blur",function(){formValidator.validate(self.find("#dse-first-name"),"text",!0,"first name","^[a-zA-Z ]*$",!0)}),self.find("#dse-last-name").on("blur",function(){formValidator.validate(self.find("#dse-last-name"),"text",!0,"last name","^[a-zA-Z ]*$",!0)}),self.find("#dse-mobile").on("blur",function(){formValidator.validate(self.find("#dse-mobile"),"mobile",!0,"10 digit mobile number",null,!0)}),formValidator.trueOrFalse(fNameError,LNameError,mobileError,faError,localityError)){enableSubmit();var postObj={first_name:dseRegistration.inputValues(self.find("#dse-first-name")),last_name:dseRegistration.inputValues(self.find("#dse-last-name")),mobile:dseRegistration.inputValues(self.find("#dse-mobile")),location:dseRegistration.inputValues(self.find("#dse-locality-place-id")),referral_id:dseRegistration.inputValues(self.find("#dse-id")),primary_functional_area:dseRegistration.inputValues(self.find("#dse-fa"))};$.when(loginModule.createEscrow(JSON.stringify(postObj))).then(function(data){$(".js-success").removeClass("hidden"),$(".dse-registration-submit").addClass("hidden")},function(err){err&&400===err.responseJSON.code&&(setTimeout(function(){$(".js-error.existing-user").addClass("hidden"),$(".js-error.existing-user .js-text").text(" ")},5e3),$(".js-error.existing-user").removeClass("hidden"),$(".js-error.existing-user .js-text").text(err.responseJSON.message))})}else enableSubmit()},initializeFASelectize:function(){var faElement=jQuery("#dse-fa");fa=document.fa_list;var selectizeConfig={maxItems:1,labelField:"name",valueField:"id",create:!1,searchField:"name",options:fa};faSelectizeInstance=faElement.selectize(selectizeConfig),faSelectizeInstance[0].selectize.on("blur",function(){formValidator.validateSelectize(faSelectizeInstance[0].selectize,!0,"job category")})}},loadScript=function(src,callback){var script=document.createElement("script");script.type="text/javascript",callback&&(script.onload=callback),document.getElementsByTagName("head")[0].appendChild(script),script.src=src};function initDseCandidateRegistration(){$(".dse-registration-submit").off("submit").on("submit",dseRegistration.submitMain),$(document).ready(function(){dseRegistration.initializeFASelectize(),window.searchAutocomplete||loadScript("https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&callback=initializePlacesInput&key=AIzaSyDQqMf0iAtipQfF2CNxWAVqEQeWsDqOnC0",function(){});var url_string=window.location.href,referralId=new URL(url_string).searchParams.get("referral_id");$(".dse-registration-submit").find("#dse-id").val(referralId)})}window.initializePlacesInput=function(){var locationElement,locationIDElement;try{locationElement=document.getElementById("dse-locality"),locationIDElement=document.getElementById("dse-locality-place-id")}catch(e){locationElement={},locationIDElement={}}window.searchAutocomplete=new google.maps.places.Autocomplete(locationElement),window.searchAutocomplete.addListener("place_changed",function(){selectedLocation=this.getPlace(),$(locationIDElement).val(selectedLocation&&selectedLocation.place_id)})},$(document).ready(function(){currentPage&&0<=["DSE Candidate Registration"].indexOf(currentPage)&&initDseCandidateRegistration()}),window.employerSalesEnquiry={};var salesMediator={},mainScreen={};window.employerSalesEnquiry.state={},function(scope,loginModule,$,formValidator){data={},scope.FormsNameMap={main:"mainScreen",redirect:"redirectScreen"};var getLocationList=function(){var deferred=$.Deferred();return $.when(sendData.fetchCityList()).then(function(data){list=data&&data.length?function(data){var cityList=data.slice(),top_city_list=["mumbai","thane","navi-mumbai","bengaluru","new-delhi","gurgaon","pune","chennai","hyderabad"];return cityList.forEach(function(city){city.class=-1<top_city_list.indexOf(city.slug)?"top":"other"}),cityList}(data):[],deferred.resolve(list)},function(err){deferred.reject(err)}),deferred.promise()};var inputValues=function(selector){return $(selector).val().trim()},formSubmit=function(form,postObj){$.when(loginModule.createOrganization(JSON.stringify(postObj))).then(function(data){cookieFn.setCookie("eVerify",data._source.managers[0].user.email_verified,2,"/employer"),cookieFn.setCookie("fName",data._source.managers[0].user.first_name,2,"/employer"),cookieFn.setCookie("mEmail",data._source.managers[0].user.email,2,"/employer"),$("#sales-enquiry-success").modal(),$("#enquiry-user-id").val(data._source.managers[0].user.id),$("#enquiry-email").text(data._source.managers[0].user.email),$("#sales-enquiry-resend-modal").on("click",function(e){e.preventDefault();var userId=$(this).parents().find("#enquiry-user-id").val();$.when(loginModule.sendVerificationEmail(userId)).then(function(data){$("#enquiry-resend-success").removeClass("hidden"),setTimeout(function(){$("#enquiry-resend-success").addClass("hidden")},5e3)},function(err){$("#enquiry-resend-error").removeClass("hidden"),setTimeout(function(){$("#enquiry-resend-error").addClass("hidden")},5e3)})}),$("#sales-enquiry-success .close").on("click",function(e){window.location.replace("/")}),enableSubmit()},function(err){409===err.code&&alert("Organization already exists"),enableSubmit()}),enableSubmit()},appendErrorHtml=function(selector,type){var emailError="<span class='help-block text-base'><span class='fa fa-exclamation-circle'>&nbsp;</span>This Email ID already exists with us. <a class='text-info auth-click' href='javascript:void(0)' data-auth-screen='login'>Login</a> with your email id.</span>",mobileError="<span class='help-block text-base'><span class='fa fa-exclamation-circle'>&nbsp;</span>User with this phone number already exists</span>";if(selector){var closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")?closestParent.children(".help-block").replaceWith("mobile"===type?mobileError:emailError):closestParent.addClass("has-error").append("mobile"===type?mobileError:emailError)}},removeDuplicateError=function(selector){var closestParent=$(selector).closest(".form-group");closestParent.hasClass("has-error")&&closestParent.removeClass("has-error").children(".help-block").remove()},disableSubmit=function(){$("#sales-enquiry-form").find("[type=submit]").attr("disabled",!0)},enableSubmit=function(){$("#sales-enquiry-form").find("[type=submit]").attr("disabled",!1)};function continueNextStep(e){e.preventDefault();var self=$(this);disableSubmit();var fNameError=formValidator.validate(self.find("#se-first-name"),"text",!0,"first name","^[a-zA-Z ]*$",!0),LNameError=formValidator.validate(self.find("#se-last-name"),"text",!0,"last name","^[a-zA-Z ]*$",!0),emailError=formValidator.validate(self.find("#se-email"),"email",!0,"email",null,!0),companyError=formValidator.validate(self.find("#se-company"),"text",!0,"company's name",null,!0),mobileError=formValidator.validate(self.find("#se-mobile"),"mobile",!0,"mobile",null,!0),locationError=formValidator.validateSelectize(locationSelectizeInstance[0].selectize,!0,"location"),noError=formValidator.trueOrFalse(fNameError,LNameError,mobileError,locationError,emailError,companyError),utmParameters=window.getMarketingSource();if(utmParameters=window.compactObject(utmParameters),noError){var postObj={city_id:inputValues(self.find("#se-location")),name:inputValues(self.find("#se-company")),service_type:$("input[name=se-services]:checked").val(),managers:[{type:"P",user_data:{first_name:inputValues(self.find("#se-first-name")),last_name:inputValues(self.find("#se-last-name")),mobile:inputValues(self.find("#se-mobile")),email:inputValues(self.find("#se-email")),user_type:"ER",marketing_source:utmParameters}}]},category=inputValues(self.find("#se-job-category")),openings=$("input[name=se-openings]:checked").val();category&&(postObj.category_id=category),openings&&(postObj.number_of_openings=openings),emailError&&$.when(sendData.existingUser(inputValues(self.find("#se-email")))).then(function(data){if(!0===data){var formParent=self.find("#se-email").closest(".form-group");data&&"O_RJ"===data.organization_status?($("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-rejected").removeClass("hidden")):"O_UA"!==data.organization_status||data.email_verified?"O_UA"===data.organization_status&&data.email_verified?($("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-unapproved").removeClass("hidden")):"O_A"!==data.organization_status||data.email_verified?("O_A"===data.organization_status&&data.email_verified&&!data.password_exists||"O_A"===data.organization_status&&data.email_verified&&data.password_exists,$("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-already-exists").removeClass("hidden")):($("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-unverified").removeClass("hidden")):($("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-unverified").removeClass("hidden")),formParent.addClass("has-error"),enableSubmit()}if(!0===mobileError){var mobileValue=inputValues(self.find("#se-mobile"));$.when(sendData.existingUser(mobileValue)).then(function(data){!0===data&&(appendErrorHtml("#se-mobile","mobile"),enableSubmit())},function(err){!0===err&&(removeDuplicateError("#se-mobile"),enableSubmit())})}},function(err){if(!0===err&&noError&&(removeDuplicateError("#se-email"),enableSubmit()),!0===err)if(!0===mobileError){var mobileValue=$("#se-mobile").val().trim();$.when(sendData.existingUser(mobileValue)).then(function(data){!0===data&&(appendErrorHtml("#se-mobile","mobile"),self.find("[type=submit]").prop("disabled",!1),self.find("[type=submit]").text("Start Hiring!")),enableSubmit()},function(err){!0===err&&(removeDuplicateError("#se-mobile"),formSubmit(self,postObj)),enableSubmit()})}else""===$.trim($("#se-mobile").val())&&(formSubmit(self,postObj),enableSubmit())})}else enableSubmit()}$("#sales-enquiry-form").find("#se-first-name").on("blur",function(){formValidator.validate($("#sales-enquiry-form").find("#se-first-name"),"text",!0,"first name","^[a-zA-Z ]*$",!0)}),$("#sales-enquiry-form").find("#se-last-name").on("blur",function(){formValidator.validate($("#sales-enquiry-form").find("#se-last-name"),"text",!0,"last name","^[a-zA-Z ]*$",!0)}),$("#sales-enquiry-form").find("#se-mobile").on("blur",function(){if(formValidator.validate($("#sales-enquiry-form").find("#se-mobile"),"mobile",!0,"10 digit mobile number",null,!0)){var mobile=inputValues($("#sales-enquiry-form").find("#se-mobile"));$.when(loginModule.recognizeUser(mobile)).then(function(data){appendErrorHtml("#se-mobile","mobile"),enableSubmit()},function(err){removeDuplicateError("#se-mobile"),enableSubmit(),formValidator.validate($("#sales-enquiry-form").find("#se-mobile"),"mobile",!0,"10 digit mobile number",null,!0)})}else enableSubmit()}),$("#sales-enquiry-form").find("#se-email").on("blur",function(){var self=$(this),test=formValidator.validate($("#sales-enquiry-form").find("#se-email"),"email",!0,"email",null,!0),username=self.val(),formParent=self.closest(".form-group");test&&username&&1<=username.length&&$.when(loginModule.recognizeUser(username)).then(function(data){data&&"O_RJ"===data.organization_status?($("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-rejected").removeClass("hidden")):"O_UA"!==data.organization_status||data.email_verified?"O_UA"===data.organization_status&&data.email_verified?($("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-unapproved").removeClass("hidden")):"O_A"!==data.organization_status||data.email_verified?("O_A"===data.organization_status&&data.email_verified&&!data.password_exists||"O_A"===data.organization_status&&data.email_verified&&data.password_exists,$("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-already-exists").removeClass("hidden")):($("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-unverified").removeClass("hidden")):($("#sales-enquiry-form").find(".error-field").addClass("hidden"),$("#sales-enquiry-form .js-unverified").removeClass("hidden")),formParent.addClass("has-error"),enableSubmit()},function(err){formParent.removeClass("has-error"),formParent.find(".error-field").addClass("hidden"),enableSubmit()})}),$("#sales-enquiry-form").find("#se-company").on("blur",function(){formValidator.validate($("#sales-enquiry-form").find("#se-company"),"text",!0,"company's name",null,!0)}),$("#sales-enquiry-form").find("#se-email").on("blur",function(){formValidator.validate($("#sales-enquiry-form").find("#se-email"),"email",!0,"email",null,!0)}),scope.mediator={init:function(){data.formSelector=$("#sales-enquiry-form"),data.formSelector.find("input[name=se-services]").on("change",function(e){var locationElement;data.formSelector.parents().find(".js-resize").addClass("resize"),data.formSelector.find(".js-reveal-options").removeClass("hidden"),data.formSelector.find(".js-continue").removeClass("hidden"),data.formSelector.find(".js-actions").removeClass("hidden"),function(){var faElement=data.formSelector.find("#se-job-category");fa=document.fa_category;var selectizeConfig={maxItems:1,labelField:"name",valueField:"id",create:!1,searchField:"name",options:fa};faSelectizeInstance=faElement.selectize(selectizeConfig),faSelectizeInstance[0].selectize.on("blur",function(){formValidator.validateSelectize(faSelectizeInstance[0].selectize,!0,"job category")})}(),locationElement=data.formSelector.find("#se-location"),$.when(getLocationList()).then(function(data){locationList=data;var selectizeConfig={labelField:"name",valueField:"id",create:!1,options:locationList,searchField:"name",hideSelected:!1,maxItems:1,optgroupField:"class",lockOptgroupOrder:!0,render:{optgroup_header:function(data,escape){return'<div class="optgroup-header">'+escape(data.label)+"</div>"}},optgroups:[{value:"top",label:"Top Cities",$order:1},{value:"other",label:"Other Cities",$order:2}]};locationSelectizeInstance=locationElement.selectize(selectizeConfig),locationSelectizeInstance[0].selectize.on("blur",function(){formValidator.validateSelectize(locationSelectizeInstance[0].selectize,!0,"location")})})}),data.formSelector.find(".js-continue").off().on("click",function(e){e.preventDefault(),$(this).remove(),data.formSelector.find(".js-reveal-form").removeClass("hidden"),data.formSelector.find(".js-submit").removeClass("hidden"),data.formSelector.find(".js-agreement").removeClass("hidden"),data.formSelector.parents().find("form").off("submit").on("submit",continueNextStep),$(".sales-enquiry-form-container").animate({scrollTop:$(".js-reveal-form").prop("scrollHeight")+200},500),data.formSelector.parents().find(".js-top-companies").removeClass("hidden")})},next:function(currentScreen,PrevData){!function(nextFormID,PrevData){var nextForm="#"+scope.FormsNameMap[nextFormID];loginModule.clearFormElements(nextForm),nextFormID?scope[scope.FormsNameMap[nextFormID]].init(PrevData):scope.candidateLoginScreen.init(PrevData),$(nextForm).removeClass("hidden"),$(nextForm).find(".focused-element").focus()}(decideNext(currentScreen,PrevData),PrevData)}}}(employerSalesEnquiry,loginModule,jQuery,formValidator),function(scope){scope.redirectScreen={init:function(){}}}(employerSalesEnquiry,jQuery);